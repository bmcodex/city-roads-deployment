var su=Object.defineProperty;var au=(e,t,n)=>t in e?su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var rn=(e,t,n)=>(au(e,typeof t!="symbol"?t+"":t,n),n);var xm=lu((Cm,Cr)=>{const uu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};uu();function so(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const fu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cu=so(fu);function ya(e){return!!e||e===""}function We(e){if(re(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ve(r)?pu(r):We(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ve(e))return e;if(De(e))return e}}const du=/;(?![^(]*\))/g,hu=/:(.+)/;function pu(e){const t={};return e.split(du).forEach(n=>{if(n){const r=n.split(hu);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function tn(e){let t="";if(Ve(e))t=e;else if(re(e))for(let n=0;n<e.length;n++){const r=tn(e[n]);r&&(t+=r+" ")}else if(De(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function vu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=qn(e[r],t[r]);return n}function qn(e,t){if(e===t)return!0;let n=qo(e),r=qo(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Dn(e),r=Dn(t),n||r)return e===t;if(n=re(e),r=re(t),n||r)return n&&r?vu(e,t):!1;if(n=De(e),r=De(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!qn(e[s],t[s]))return!1}}return String(e)===String(t)}function ao(e,t){return e.findIndex(n=>qn(n,t))}const Vt=e=>Ve(e)?e:e==null?"":re(e)||De(e)&&(e.toString===xa||!ce(e.toString))?JSON.stringify(e,wa,2):String(e),wa=(e,t)=>t&&t.__v_isRef?wa(e,t.value):cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:xn(t)?{[`Set(${t.size})`]:[...t.values()]}:De(t)&&!re(t)&&!_a(t)?String(t):t,_e={},fn=[],mt=()=>{},gu=()=>!1,mu=/^on[^a-z]/,Ur=e=>mu.test(e),lo=e=>e.startsWith("onUpdate:"),je=Object.assign,uo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},yu=Object.prototype.hasOwnProperty,ge=(e,t)=>yu.call(e,t),re=Array.isArray,cn=e=>Gn(e)==="[object Map]",xn=e=>Gn(e)==="[object Set]",qo=e=>Gn(e)==="[object Date]",ce=e=>typeof e=="function",Ve=e=>typeof e=="string",Dn=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",ba=e=>De(e)&&ce(e.then)&&ce(e.catch),xa=Object.prototype.toString,Gn=e=>xa.call(e),wu=e=>Gn(e).slice(8,-1),_a=e=>Gn(e)==="[object Object]",fo=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gr=so(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bu=/-(\w)/g,Et=zr(e=>e.replace(bu,(t,n)=>n?n.toUpperCase():"")),xu=/\B([A-Z])/g,_n=zr(e=>e.replace(xu,"-$1").toLowerCase()),Hr=zr(e=>e.charAt(0).toUpperCase()+e.slice(1)),li=zr(e=>e?`on${Hr(e)}`:""),Er=(e,t)=>!Object.is(e,t),mr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ar=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Tr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Go;const _u=()=>Go||(Go=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let xt;class Cu{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&xt&&(this.parent=xt,this.index=(xt.scopes||(xt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=xt;try{return xt=this,t()}finally{xt=n}}}on(){xt=this}off(){xt=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Eu(e,t=xt){t&&t.active&&t.effects.push(e)}const co=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ca=e=>(e.w&Ht)>0,Ea=e=>(e.n&Ht)>0,Au=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ht},Tu=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Ca(i)&&!Ea(i)?i.delete(e):t[n++]=i,i.w&=~Ht,i.n&=~Ht}t.length=n}},Fi=new WeakMap;let Sn=0,Ht=1;const Li=30;let pt;const Qt=Symbol(""),ki=Symbol("");class ho{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Eu(this,r)}run(){if(!this.active)return this.fn();let t=pt,n=Ut;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=pt,pt=this,Ut=!0,Ht=1<<++Sn,Sn<=Li?Au(this):Yo(this),this.fn()}finally{Sn<=Li&&Tu(this),Ht=1<<--Sn,pt=this.parent,Ut=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pt===this?this.deferStop=!0:this.active&&(Yo(this),this.onStop&&this.onStop(),this.active=!1)}}function Yo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ut=!0;const Aa=[];function Cn(){Aa.push(Ut),Ut=!1}function En(){const e=Aa.pop();Ut=e===void 0?!0:e}function nt(e,t,n){if(Ut&&pt){let r=Fi.get(e);r||Fi.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=co()),Ta(i)}}function Ta(e,t){let n=!1;Sn<=Li?Ea(e)||(e.n|=Ht,n=!Ca(e)):n=!e.has(pt),n&&(e.add(pt),pt.deps.push(e))}function kt(e,t,n,r,i,o){const s=Fi.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&re(e))s.forEach((l,u)=>{(u==="length"||u>=r)&&a.push(l)});else switch(n!==void 0&&a.push(s.get(n)),t){case"add":re(e)?fo(n)&&a.push(s.get("length")):(a.push(s.get(Qt)),cn(e)&&a.push(s.get(ki)));break;case"delete":re(e)||(a.push(s.get(Qt)),cn(e)&&a.push(s.get(ki)));break;case"set":cn(e)&&a.push(s.get(Qt));break}if(a.length===1)a[0]&&Ri(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Ri(co(l))}}function Ri(e,t){const n=re(e)?e:[...e];for(const r of n)r.computed&&Ko(r);for(const r of n)r.computed||Ko(r)}function Ko(e,t){(e!==pt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Su=so("__proto__,__v_isRef,__isVue"),Sa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dn)),Mu=po(),Pu=po(!1,!0),Fu=po(!0),Xo=Lu();function Lu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=xe(this);for(let o=0,s=this.length;o<s;o++)nt(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(xe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Cn();const r=xe(this)[t].apply(this,n);return En(),r}}),e}function po(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Gu:ka:t?La:Fa).get(r))return r;const s=re(r);if(!e&&s&&ge(Xo,i))return Reflect.get(Xo,i,o);const a=Reflect.get(r,i,o);return(Dn(i)?Sa.has(i):Su(i))||(e||nt(r,"get",i),t)?a:Ye(a)?s&&fo(i)?a:a.value:De(a)?e?Ra(a):mo(a):a}}const ku=Ma(),Ru=Ma(!0);function Ma(e=!1){return function(n,r,i,o){let s=n[r];if(On(s)&&Ye(s)&&!Ye(i))return!1;if(!e&&!On(i)&&(Ii(i)||(i=xe(i),s=xe(s)),!re(n)&&Ye(s)&&!Ye(i)))return s.value=i,!0;const a=re(n)&&fo(r)?Number(r)<n.length:ge(n,r),l=Reflect.set(n,r,i,o);return n===xe(o)&&(a?Er(i,s)&&kt(n,"set",r,i):kt(n,"add",r,i)),l}}function Iu(e,t){const n=ge(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&kt(e,"delete",t,void 0),r}function Bu(e,t){const n=Reflect.has(e,t);return(!Dn(t)||!Sa.has(t))&&nt(e,"has",t),n}function Du(e){return nt(e,"iterate",re(e)?"length":Qt),Reflect.ownKeys(e)}const Pa={get:Mu,set:ku,deleteProperty:Iu,has:Bu,ownKeys:Du},Ou={get:Fu,set(e,t){return!0},deleteProperty(e,t){return!0}},Nu=je({},Pa,{get:Pu,set:Ru}),vo=e=>e,$r=e=>Reflect.getPrototypeOf(e);function Qn(e,t,n=!1,r=!1){e=e.__v_raw;const i=xe(e),o=xe(t);n||(t!==o&&nt(i,"get",t),nt(i,"get",o));const{has:s}=$r(i),a=r?vo:n?bo:wo;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Jn(e,t=!1){const n=this.__v_raw,r=xe(n),i=xe(e);return t||(e!==i&&nt(r,"has",e),nt(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function er(e,t=!1){return e=e.__v_raw,!t&&nt(xe(e),"iterate",Qt),Reflect.get(e,"size",e)}function Zo(e){e=xe(e);const t=xe(this);return $r(t).has.call(t,e)||(t.add(e),kt(t,"add",e,e)),this}function Qo(e,t){t=xe(t);const n=xe(this),{has:r,get:i}=$r(n);let o=r.call(n,e);o||(e=xe(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Er(t,s)&&kt(n,"set",e,t):kt(n,"add",e,t),this}function Jo(e){const t=xe(this),{has:n,get:r}=$r(t);let i=n.call(t,e);i||(e=xe(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&kt(t,"delete",e,void 0),o}function es(){const e=xe(this),t=e.size!==0,n=e.clear();return t&&kt(e,"clear",void 0,void 0),n}function tr(e,t){return function(r,i){const o=this,s=o.__v_raw,a=xe(s),l=t?vo:e?bo:wo;return!e&&nt(a,"iterate",Qt),s.forEach((u,f)=>r.call(i,l(u),l(f),o))}}function nr(e,t,n){return function(...r){const i=this.__v_raw,o=xe(i),s=cn(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...r),f=n?vo:t?bo:wo;return!t&&nt(o,"iterate",l?ki:Qt),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[f(d[0]),f(d[1])]:f(d),done:h}},[Symbol.iterator](){return this}}}}function It(e){return function(...t){return e==="delete"?!1:this}}function Vu(){const e={get(o){return Qn(this,o)},get size(){return er(this)},has:Jn,add:Zo,set:Qo,delete:Jo,clear:es,forEach:tr(!1,!1)},t={get(o){return Qn(this,o,!1,!0)},get size(){return er(this)},has:Jn,add:Zo,set:Qo,delete:Jo,clear:es,forEach:tr(!1,!0)},n={get(o){return Qn(this,o,!0)},get size(){return er(this,!0)},has(o){return Jn.call(this,o,!0)},add:It("add"),set:It("set"),delete:It("delete"),clear:It("clear"),forEach:tr(!0,!1)},r={get(o){return Qn(this,o,!0,!0)},get size(){return er(this,!0)},has(o){return Jn.call(this,o,!0)},add:It("add"),set:It("set"),delete:It("delete"),clear:It("clear"),forEach:tr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=nr(o,!1,!1),n[o]=nr(o,!0,!1),t[o]=nr(o,!1,!0),r[o]=nr(o,!0,!0)}),[e,n,t,r]}const[Uu,zu,Hu,$u]=Vu();function go(e,t){const n=t?e?$u:Hu:e?zu:Uu;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ge(n,i)&&i in r?n:r,i,o)}const Wu={get:go(!1,!1)},ju={get:go(!1,!0)},qu={get:go(!0,!1)},Fa=new WeakMap,La=new WeakMap,ka=new WeakMap,Gu=new WeakMap;function Yu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ku(e){return e.__v_skip||!Object.isExtensible(e)?0:Yu(wu(e))}function mo(e){return On(e)?e:yo(e,!1,Pa,Wu,Fa)}function Xu(e){return yo(e,!1,Nu,ju,La)}function Ra(e){return yo(e,!0,Ou,qu,ka)}function yo(e,t,n,r,i){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Ku(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function dn(e){return On(e)?dn(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function Ia(e){return dn(e)||On(e)}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function Ba(e){return Ar(e,"__v_skip",!0),e}const wo=e=>De(e)?mo(e):e,bo=e=>De(e)?Ra(e):e;function Zu(e){Ut&&pt&&(e=xe(e),Ta(e.dep||(e.dep=co())))}function Qu(e,t){e=xe(e),e.dep&&Ri(e.dep)}function Ye(e){return!!(e&&e.__v_isRef===!0)}function Ju(e){return Ye(e)?e.value:e}const ef={get:(e,t,n)=>Ju(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Da(e){return dn(e)?e:new Proxy(e,ef)}class tf{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ho(t,()=>{this._dirty||(this._dirty=!0,Qu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=xe(this);return Zu(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function nf(e,t,n=!1){let r,i;const o=ce(e);return o?(r=e,i=mt):(r=e.get,i=e.set),new tf(r,i,o||!i,n)}function zt(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Wr(o,t,n)}return i}function at(e,t,n,r){if(ce(e)){const o=zt(e,t,n,r);return o&&ba(o)&&o.catch(s=>{Wr(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(at(e[o],t,n,r));return i}function Wr(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=n;for(;o;){const u=o.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,s,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){zt(l,null,10,[e,s,a]);return}}rf(e,n,i,r)}function rf(e,t,n,r=!0){console.error(e)}let Sr=!1,Bi=!1;const tt=[];let Pt=0;const kn=[];let Mn=null,an=0;const Rn=[];let Bt=null,ln=0;const Oa=Promise.resolve();let xo=null,Di=null;function of(e){const t=xo||Oa;return e?t.then(this?e.bind(this):e):t}function sf(e){let t=Pt+1,n=tt.length;for(;t<n;){const r=t+n>>>1;Nn(tt[r])<e?t=r+1:n=r}return t}function Na(e){(!tt.length||!tt.includes(e,Sr&&e.allowRecurse?Pt+1:Pt))&&e!==Di&&(e.id==null?tt.push(e):tt.splice(sf(e.id),0,e),Va())}function Va(){!Sr&&!Bi&&(Bi=!0,xo=Oa.then(Ha))}function af(e){const t=tt.indexOf(e);t>Pt&&tt.splice(t,1)}function Ua(e,t,n,r){re(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Va()}function lf(e){Ua(e,Mn,kn,an)}function uf(e){Ua(e,Bt,Rn,ln)}function jr(e,t=null){if(kn.length){for(Di=t,Mn=[...new Set(kn)],kn.length=0,an=0;an<Mn.length;an++)Mn[an]();Mn=null,an=0,Di=null,jr(e,t)}}function za(e){if(jr(),Rn.length){const t=[...new Set(Rn)];if(Rn.length=0,Bt){Bt.push(...t);return}for(Bt=t,Bt.sort((n,r)=>Nn(n)-Nn(r)),ln=0;ln<Bt.length;ln++)Bt[ln]();Bt=null,ln=0}}const Nn=e=>e.id==null?1/0:e.id;function Ha(e){Bi=!1,Sr=!0,jr(e),tt.sort((n,r)=>Nn(n)-Nn(r));const t=mt;try{for(Pt=0;Pt<tt.length;Pt++){const n=tt[Pt];n&&n.active!==!1&&zt(n,null,14)}}finally{Pt=0,tt.length=0,za(),Sr=!1,xo=null,(tt.length||kn.length||Rn.length)&&Ha(e)}}function ff(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||_e;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:h}=r[f]||_e;h&&(i=n.map(g=>g.trim())),d&&(i=n.map(Tr))}let a,l=r[a=li(t)]||r[a=li(Et(t))];!l&&o&&(l=r[a=li(_n(t))]),l&&at(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,at(u,e,6,i)}}function $a(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!ce(e)){const l=u=>{const f=$a(u,t,!0);f&&(a=!0,je(s,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(r.set(e,null),null):(re(o)?o.forEach(l=>s[l]=null):je(s,o),r.set(e,s),s)}function qr(e,t){return!e||!Ur(t)?!1:(t=t.slice(2).replace(/Once$/,""),ge(e,t[0].toLowerCase()+t.slice(1))||ge(e,_n(t))||ge(e,t))}let st=null,Gr=null;function Mr(e){const t=st;return st=e,Gr=e&&e.type.__scopeId||null,t}function Wa(e){Gr=e}function ja(){Gr=null}function cf(e,t=st,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&cs(-1);const o=Mr(t),s=e(...i);return Mr(o),r._d&&cs(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function ui(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:f,renderCache:d,data:h,setupState:g,ctx:y,inheritAttrs:w}=e;let b,S;const E=Mr(e);try{if(n.shapeFlag&4){const C=i||r;b=_t(f.call(C,C,d,o,g,h,y)),S=l}else{const C=t;b=_t(C.length>1?C(o,{attrs:l,slots:a,emit:u}):C(o,null)),S=t.props?l:df(l)}}catch(C){In.length=0,Wr(C,e,1),b=Se(yt)}let A=b;if(S&&w!==!1){const C=Object.keys(S),{shapeFlag:T}=A;C.length&&T&7&&(s&&C.some(lo)&&(S=hf(S,s)),A=$t(A,S))}return n.dirs&&(A=$t(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),b=A,Mr(E),b}const df=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ur(n))&&((t||(t={}))[n]=e[n]);return t},hf=(e,t)=>{const n={};for(const r in e)(!lo(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function pf(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ts(r,s,u):!!s;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const h=f[d];if(s[h]!==r[h]&&!qr(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?ts(r,s,u):!0:!!s;return!1}function ts(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!qr(n,o))return!0}return!1}function vf({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const gf=e=>e.__isSuspense;function mf(e,t){t&&t.pendingBranch?re(e)?t.effects.push(...e):t.effects.push(e):uf(e)}function yf(e,t){if(He){let n=He.provides;const r=He.parent&&He.parent.provides;r===n&&(n=He.provides=Object.create(r)),n[e]=t}}function fi(e,t,n=!1){const r=He||st;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ce(t)?t.call(r.proxy):t}}const ns={};function ci(e,t,n){return qa(e,t,n)}function qa(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=_e){const a=He;let l,u=!1,f=!1;if(Ye(e)?(l=()=>e.value,u=Ii(e)):dn(e)?(l=()=>e,r=!0):re(e)?(f=!0,u=e.some(S=>dn(S)||Ii(S)),l=()=>e.map(S=>{if(Ye(S))return S.value;if(dn(S))return Zt(S);if(ce(S))return zt(S,a,2)})):ce(e)?t?l=()=>zt(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),at(e,a,3,[h])}:l=mt,t&&r){const S=l;l=()=>Zt(S())}let d,h=S=>{d=b.onStop=()=>{zt(S,a,4)}};if(Un)return h=mt,t?n&&at(t,a,3,[l(),f?[]:void 0,h]):l(),mt;let g=f?[]:ns;const y=()=>{if(!!b.active)if(t){const S=b.run();(r||u||(f?S.some((E,A)=>Er(E,g[A])):Er(S,g)))&&(d&&d(),at(t,a,3,[S,g===ns?void 0:g,h]),g=S)}else b.run()};y.allowRecurse=!!t;let w;i==="sync"?w=y:i==="post"?w=()=>Xe(y,a&&a.suspense):w=()=>lf(y);const b=new ho(l,w);return t?n?y():g=b.run():i==="post"?Xe(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&uo(a.scope.effects,b)}}function wf(e,t,n){const r=this.proxy,i=Ve(e)?e.includes(".")?Ga(r,e):()=>r[e]:e.bind(r,r);let o;ce(t)?o=t:(o=t.handler,n=t);const s=He;pn(this);const a=qa(i,o.bind(r),n);return s?pn(s):Jt(),a}function Ga(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Zt(e,t){if(!De(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ye(e))Zt(e.value,t);else if(re(e))for(let n=0;n<e.length;n++)Zt(e[n],t);else if(xn(e)||cn(e))e.forEach(n=>{Zt(n,t)});else if(_a(e))for(const n in e)Zt(e[n],t);return e}function bf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Za(()=>{e.isMounted=!0}),Qa(()=>{e.isUnmounting=!0}),e}const it=[Function,Array],xf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it},setup(e,{slots:t}){const n=sc(),r=bf();let i;return()=>{const o=t.default&&Ka(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const w of o)if(w.type!==yt){s=w;break}}const a=xe(e),{mode:l}=a;if(r.isLeaving)return di(s);const u=rs(s);if(!u)return di(s);const f=Oi(u,a,r,n);Ni(u,f);const d=n.subTree,h=d&&rs(d);let g=!1;const{getTransitionKey:y}=u.type;if(y){const w=y();i===void 0?i=w:w!==i&&(i=w,g=!0)}if(h&&h.type!==yt&&(!Kt(u,h)||g)){const w=Oi(h,a,r,n);if(Ni(h,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update()},di(s);l==="in-out"&&u.type!==yt&&(w.delayLeave=(b,S,E)=>{const A=Ya(r,h);A[String(h.key)]=h,b._leaveCb=()=>{S(),b._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=E})}return s}}},_f=xf;function Ya(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Oi(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:w,onAppear:b,onAfterAppear:S,onAppearCancelled:E}=t,A=String(e.key),C=Ya(n,e),T=(P,L)=>{P&&at(P,r,9,L)},m=(P,L)=>{const I=L[1];T(P,L),re(P)?P.every(R=>R.length<=1)&&I():P.length<=1&&I()},x={mode:o,persisted:s,beforeEnter(P){let L=a;if(!n.isMounted)if(i)L=w||a;else return;P._leaveCb&&P._leaveCb(!0);const I=C[A];I&&Kt(e,I)&&I.el._leaveCb&&I.el._leaveCb(),T(L,[P])},enter(P){let L=l,I=u,R=f;if(!n.isMounted)if(i)L=b||l,I=S||u,R=E||f;else return;let j=!1;const $=P._enterCb=q=>{j||(j=!0,q?T(R,[P]):T(I,[P]),x.delayedLeave&&x.delayedLeave(),P._enterCb=void 0)};L?m(L,[P,$]):$()},leave(P,L){const I=String(e.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return L();T(d,[P]);let R=!1;const j=P._leaveCb=$=>{R||(R=!0,L(),$?T(y,[P]):T(g,[P]),P._leaveCb=void 0,C[I]===e&&delete C[I])};C[I]=e,h?m(h,[P,j]):j()},clone(P){return Oi(P,t,n,r)}};return x}function di(e){if(Yr(e))return e=$t(e),e.children=null,e}function rs(e){return Yr(e)?e.children?e.children[0]:void 0:e}function Ni(e,t){e.shapeFlag&6&&e.component?Ni(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ka(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Ge?(s.patchFlag&128&&i++,r=r.concat(Ka(s.children,t,a))):(t||s.type!==yt)&&r.push(a!=null?$t(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}const yr=e=>!!e.type.__asyncLoader,Yr=e=>e.type.__isKeepAlive;function Cf(e,t){Xa(e,"a",t)}function Ef(e,t){Xa(e,"da",t)}function Xa(e,t,n=He){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Kr(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Yr(i.parent.vnode)&&Af(r,t,n,i),i=i.parent}}function Af(e,t,n,r){const i=Kr(t,e,r,!0);Ja(()=>{uo(r[t],i)},n)}function Kr(e,t,n=He,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;Cn(),pn(n);const a=at(t,n,e,s);return Jt(),En(),a});return r?i.unshift(o):i.push(o),o}}const Rt=e=>(t,n=He)=>(!Un||e==="sp")&&Kr(e,t,n),Tf=Rt("bm"),Za=Rt("m"),Sf=Rt("bu"),Mf=Rt("u"),Qa=Rt("bum"),Ja=Rt("um"),Pf=Rt("sp"),Ff=Rt("rtg"),Lf=Rt("rtc");function kf(e,t=He){Kr("ec",e,t)}function en(e,t){const n=st;if(n===null)return e;const r=Zr(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,l,u=_e]=t[o];ce(s)&&(s={mounted:s,updated:s}),s.deep&&Zt(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u})}return e}function qt(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Cn(),at(l,n,8,[e.el,a,e,t]),En())}}const _o="components",Rf="directives";function vt(e,t){return Co(_o,e,!0,t)||e}const el=Symbol();function If(e){return Ve(e)?Co(_o,e,!1)||e:e||el}function tl(e){return Co(Rf,e)}function Co(e,t,n=!0,r=!1){const i=st||He;if(i){const o=i.type;if(e===_o){const a=cc(o,!1);if(a&&(a===t||a===Et(t)||a===Hr(Et(t))))return o}const s=is(i[e]||o[e],t)||is(i.appContext[e],t);return!s&&r?o:s}}function is(e,t){return e&&(e[t]||e[Et(t)]||e[Hr(Et(t))])}function Eo(e,t,n,r){let i;const o=n&&n[r];if(re(e)||Ve(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(De(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=t(e[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}const Vi=e=>e?hl(e)?Zr(e)||e.proxy:Vi(e.parent):null,Pr=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vi(e.parent),$root:e=>Vi(e.root),$emit:e=>e.emit,$options:e=>rl(e),$forceUpdate:e=>e.f||(e.f=()=>Na(e.update)),$nextTick:e=>e.n||(e.n=of.bind(e.proxy)),$watch:e=>wf.bind(e)}),Bf={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const g=s[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==_e&&ge(r,t))return s[t]=1,r[t];if(i!==_e&&ge(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&ge(u,t))return s[t]=3,o[t];if(n!==_e&&ge(n,t))return s[t]=4,n[t];Ui&&(s[t]=0)}}const f=Pr[t];let d,h;if(f)return t==="$attrs"&&nt(e,"get",t),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==_e&&ge(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,ge(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==_e&&ge(i,t)?(i[t]=n,!0):r!==_e&&ge(r,t)?(r[t]=n,!0):ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==_e&&ge(e,s)||t!==_e&&ge(t,s)||(a=o[0])&&ge(a,s)||ge(r,s)||ge(Pr,s)||ge(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ui=!0;function Df(e){const t=rl(e),n=e.proxy,r=e.ctx;Ui=!1,t.beforeCreate&&os(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:f,beforeMount:d,mounted:h,beforeUpdate:g,updated:y,activated:w,deactivated:b,beforeDestroy:S,beforeUnmount:E,destroyed:A,unmounted:C,render:T,renderTracked:m,renderTriggered:x,errorCaptured:P,serverPrefetch:L,expose:I,inheritAttrs:R,components:j,directives:$,filters:q}=t;if(u&&Of(u,r,null,e.appContext.config.unwrapInjectedRef),s)for(const G in s){const Z=s[G];ce(Z)&&(r[G]=Z.bind(n))}if(i){const G=i.call(n,n);De(G)&&(e.data=mo(G))}if(Ui=!0,o)for(const G in o){const Z=o[G],z=ce(Z)?Z.bind(n,n):ce(Z.get)?Z.get.bind(n,n):mt,V=!ce(Z)&&ce(Z.set)?Z.set.bind(n):mt,Y=hc({get:z,set:V});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>Y.value,set:X=>Y.value=X})}if(a)for(const G in a)nl(a[G],r,n,G);if(l){const G=ce(l)?l.call(n):l;Reflect.ownKeys(G).forEach(Z=>{yf(Z,G[Z])})}f&&os(f,e,"c");function W(G,Z){re(Z)?Z.forEach(z=>G(z.bind(n))):Z&&G(Z.bind(n))}if(W(Tf,d),W(Za,h),W(Sf,g),W(Mf,y),W(Cf,w),W(Ef,b),W(kf,P),W(Lf,m),W(Ff,x),W(Qa,E),W(Ja,C),W(Pf,L),re(I))if(I.length){const G=e.exposed||(e.exposed={});I.forEach(Z=>{Object.defineProperty(G,Z,{get:()=>n[Z],set:z=>n[Z]=z})})}else e.exposed||(e.exposed={});T&&e.render===mt&&(e.render=T),R!=null&&(e.inheritAttrs=R),j&&(e.components=j),$&&(e.directives=$)}function Of(e,t,n=mt,r=!1){re(e)&&(e=zi(e));for(const i in e){const o=e[i];let s;De(o)?"default"in o?s=fi(o.from||i,o.default,!0):s=fi(o.from||i):s=fi(o),Ye(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function os(e,t,n){at(re(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function nl(e,t,n,r){const i=r.includes(".")?Ga(n,r):()=>n[r];if(Ve(e)){const o=t[e];ce(o)&&ci(i,o)}else if(ce(e))ci(i,e.bind(n));else if(De(e))if(re(e))e.forEach(o=>nl(o,t,n,r));else{const o=ce(e.handler)?e.handler.bind(n):t[e.handler];ce(o)&&ci(i,o,e)}}function rl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>Fr(l,u,s,!0)),Fr(l,t,s)),o.set(t,l),l}function Fr(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Fr(e,o,n,!0),i&&i.forEach(s=>Fr(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=Nf[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Nf={data:ss,props:Yt,emits:Yt,methods:Yt,computed:Yt,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:Yt,directives:Yt,watch:Uf,provide:ss,inject:Vf};function ss(e,t){return t?e?function(){return je(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function Vf(e,t){return Yt(zi(e),zi(t))}function zi(e){if(re(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function Yt(e,t){return e?je(je(Object.create(null),e),t):t}function Uf(e,t){if(!e)return t;if(!t)return e;const n=je(Object.create(null),e);for(const r in t)n[r]=qe(e[r],t[r]);return n}function zf(e,t,n,r=!1){const i={},o={};Ar(o,Xr,1),e.propsDefaults=Object.create(null),il(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Xu(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Hf(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=xe(i),[l]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let h=f[d];if(qr(e.emitsOptions,h))continue;const g=t[h];if(l)if(ge(o,h))g!==o[h]&&(o[h]=g,u=!0);else{const y=Et(h);i[y]=Hi(l,a,y,g,e,!1)}else g!==o[h]&&(o[h]=g,u=!0)}}}else{il(e,t,i,o)&&(u=!0);let f;for(const d in a)(!t||!ge(t,d)&&((f=_n(d))===d||!ge(t,f)))&&(l?n&&(n[d]!==void 0||n[f]!==void 0)&&(i[d]=Hi(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!ge(t,d)&&!0)&&(delete o[d],u=!0)}u&&kt(e,"set","$attrs")}function il(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(gr(l))continue;const u=t[l];let f;i&&ge(i,f=Et(l))?!o||!o.includes(f)?n[f]=u:(a||(a={}))[f]=u:qr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=xe(n),u=a||_e;for(let f=0;f<o.length;f++){const d=o[f];n[d]=Hi(i,l,d,u[d],e,!ge(u,d))}}return s}function Hi(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=ge(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&ce(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(pn(i),r=u[n]=l.call(null,t),Jt())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===_n(n))&&(r=!0))}return r}function ol(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!ce(e)){const f=d=>{l=!0;const[h,g]=ol(d,t,!0);je(s,h),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!l)return r.set(e,fn),fn;if(re(o))for(let f=0;f<o.length;f++){const d=Et(o[f]);as(d)&&(s[d]=_e)}else if(o)for(const f in o){const d=Et(f);if(as(d)){const h=o[f],g=s[d]=re(h)||ce(h)?{type:h}:h;if(g){const y=fs(Boolean,g.type),w=fs(String,g.type);g[0]=y>-1,g[1]=w<0||y<w,(y>-1||ge(g,"default"))&&a.push(d)}}}const u=[s,a];return r.set(e,u),u}function as(e){return e[0]!=="$"}function ls(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function us(e,t){return ls(e)===ls(t)}function fs(e,t){return re(t)?t.findIndex(n=>us(n,e)):ce(t)&&us(t,e)?0:-1}const sl=e=>e[0]==="_"||e==="$stable",Ao=e=>re(e)?e.map(_t):[_t(e)],$f=(e,t,n)=>{if(t._n)return t;const r=cf((...i)=>Ao(t(...i)),n);return r._c=!1,r},al=(e,t,n)=>{const r=e._ctx;for(const i in e){if(sl(i))continue;const o=e[i];if(ce(o))t[i]=$f(i,o,r);else if(o!=null){const s=Ao(o);t[i]=()=>s}}},ll=(e,t)=>{const n=Ao(t);e.slots.default=()=>n},Wf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=xe(t),Ar(t,"_",n)):al(t,e.slots={})}else e.slots={},t&&ll(e,t);Ar(e.slots,Xr,1)},jf=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=_e;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(je(i,t),!n&&a===1&&delete i._):(o=!t.$stable,al(t,i)),s=t}else t&&(ll(e,t),s={default:1});if(o)for(const a in i)!sl(a)&&!(a in s)&&delete i[a]};function ul(){return{app:null,config:{isNativeTag:gu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qf=0;function Gf(e,t){return function(r,i=null){ce(r)||(r=Object.assign({},r)),i!=null&&!De(i)&&(i=null);const o=ul(),s=new Set;let a=!1;const l=o.app={_uid:qf++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:pc,get config(){return o.config},set config(u){},use(u,...f){return s.has(u)||(u&&ce(u.install)?(s.add(u),u.install(l,...f)):ce(u)&&(s.add(u),u(l,...f))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,f){return f?(o.components[u]=f,l):o.components[u]},directive(u,f){return f?(o.directives[u]=f,l):o.directives[u]},mount(u,f,d){if(!a){const h=Se(r,i);return h.appContext=o,f&&t?t(h,u):e(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Zr(h.component)||h.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return o.provides[u]=f,l}};return l}}function $i(e,t,n,r,i=!1){if(re(e)){e.forEach((h,g)=>$i(h,t&&(re(t)?t[g]:t),n,r,i));return}if(yr(r)&&!i)return;const o=r.shapeFlag&4?Zr(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=e,u=t&&t.r,f=a.refs===_e?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Ve(u)?(f[u]=null,ge(d,u)&&(d[u]=null)):Ye(u)&&(u.value=null)),ce(l))zt(l,a,12,[s,f]);else{const h=Ve(l),g=Ye(l);if(h||g){const y=()=>{if(e.f){const w=h?f[l]:l.value;i?re(w)&&uo(w,o):re(w)?w.includes(o)||w.push(o):h?(f[l]=[o],ge(d,l)&&(d[l]=f[l])):(l.value=[o],e.k&&(f[e.k]=l.value))}else h?(f[l]=s,ge(d,l)&&(d[l]=s)):g&&(l.value=s,e.k&&(f[e.k]=s))};s?(y.id=-1,Xe(y,n)):y()}}}const Xe=mf;function Yf(e){return Kf(e)}function Kf(e,t){const n=_u();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:h,setScopeId:g=mt,cloneNode:y,insertStaticContent:w}=e,b=(c,p,v,_=null,M=null,F=null,O=!1,B=null,U=!!p.dynamicChildren)=>{if(c===p)return;c&&!Kt(c,p)&&(_=de(c),te(c,M,F,!0),c=null),p.patchFlag===-2&&(U=!1,p.dynamicChildren=null);const{type:N,ref:Q,shapeFlag:K}=p;switch(N){case To:S(c,p,v,_);break;case yt:E(c,p,v,_);break;case hi:c==null&&A(p,v,_,O);break;case Ge:$(c,p,v,_,M,F,O,B,U);break;default:K&1?m(c,p,v,_,M,F,O,B,U):K&6?q(c,p,v,_,M,F,O,B,U):(K&64||K&128)&&N.process(c,p,v,_,M,F,O,B,U,le)}Q!=null&&M&&$i(Q,c&&c.ref,F,p||c,!p)},S=(c,p,v,_)=>{if(c==null)r(p.el=a(p.children),v,_);else{const M=p.el=c.el;p.children!==c.children&&u(M,p.children)}},E=(c,p,v,_)=>{c==null?r(p.el=l(p.children||""),v,_):p.el=c.el},A=(c,p,v,_)=>{[c.el,c.anchor]=w(c.children,p,v,_,c.el,c.anchor)},C=({el:c,anchor:p},v,_)=>{let M;for(;c&&c!==p;)M=h(c),r(c,v,_),c=M;r(p,v,_)},T=({el:c,anchor:p})=>{let v;for(;c&&c!==p;)v=h(c),i(c),c=v;i(p)},m=(c,p,v,_,M,F,O,B,U)=>{O=O||p.type==="svg",c==null?x(p,v,_,M,F,O,B,U):I(c,p,M,F,O,B,U)},x=(c,p,v,_,M,F,O,B)=>{let U,N;const{type:Q,props:K,shapeFlag:ee,transition:ne,patchFlag:he,dirs:we}=c;if(c.el&&y!==void 0&&he===-1)U=c.el=y(c.el);else{if(U=c.el=s(c.type,F,K&&K.is,K),ee&8?f(U,c.children):ee&16&&L(c.children,U,null,_,M,F&&Q!=="foreignObject",O,B),we&&qt(c,null,_,"created"),K){for(const D in K)D!=="value"&&!gr(D)&&o(U,D,null,K[D],F,c.children,_,M,se);"value"in K&&o(U,"value",null,K.value),(N=K.onVnodeBeforeMount)&&bt(N,_,c)}P(U,c,c.scopeId,O,_)}we&&qt(c,null,_,"beforeMount");const be=(!M||M&&!M.pendingBranch)&&ne&&!ne.persisted;be&&ne.beforeEnter(U),r(U,p,v),((N=K&&K.onVnodeMounted)||be||we)&&Xe(()=>{N&&bt(N,_,c),be&&ne.enter(U),we&&qt(c,null,_,"mounted")},M)},P=(c,p,v,_,M)=>{if(v&&g(c,v),_)for(let F=0;F<_.length;F++)g(c,_[F]);if(M){let F=M.subTree;if(p===F){const O=M.vnode;P(c,O,O.scopeId,O.slotScopeIds,M.parent)}}},L=(c,p,v,_,M,F,O,B,U=0)=>{for(let N=U;N<c.length;N++){const Q=c[N]=B?Dt(c[N]):_t(c[N]);b(null,Q,p,v,_,M,F,O,B)}},I=(c,p,v,_,M,F,O)=>{const B=p.el=c.el;let{patchFlag:U,dynamicChildren:N,dirs:Q}=p;U|=c.patchFlag&16;const K=c.props||_e,ee=p.props||_e;let ne;v&&Gt(v,!1),(ne=ee.onVnodeBeforeUpdate)&&bt(ne,v,p,c),Q&&qt(p,c,v,"beforeUpdate"),v&&Gt(v,!0);const he=M&&p.type!=="foreignObject";if(N?R(c.dynamicChildren,N,B,v,_,he,F):O||z(c,p,B,null,v,_,he,F,!1),U>0){if(U&16)j(B,p,K,ee,v,_,M);else if(U&2&&K.class!==ee.class&&o(B,"class",null,ee.class,M),U&4&&o(B,"style",K.style,ee.style,M),U&8){const we=p.dynamicProps;for(let be=0;be<we.length;be++){const D=we[be],J=K[D],Ee=ee[D];(Ee!==J||D==="value")&&o(B,D,J,Ee,M,c.children,v,_,se)}}U&1&&c.children!==p.children&&f(B,p.children)}else!O&&N==null&&j(B,p,K,ee,v,_,M);((ne=ee.onVnodeUpdated)||Q)&&Xe(()=>{ne&&bt(ne,v,p,c),Q&&qt(p,c,v,"updated")},_)},R=(c,p,v,_,M,F,O)=>{for(let B=0;B<p.length;B++){const U=c[B],N=p[B],Q=U.el&&(U.type===Ge||!Kt(U,N)||U.shapeFlag&70)?d(U.el):v;b(U,N,Q,null,_,M,F,O,!0)}},j=(c,p,v,_,M,F,O)=>{if(v!==_){for(const B in _){if(gr(B))continue;const U=_[B],N=v[B];U!==N&&B!=="value"&&o(c,B,N,U,O,p.children,M,F,se)}if(v!==_e)for(const B in v)!gr(B)&&!(B in _)&&o(c,B,v[B],null,O,p.children,M,F,se);"value"in _&&o(c,"value",v.value,_.value)}},$=(c,p,v,_,M,F,O,B,U)=>{const N=p.el=c?c.el:a(""),Q=p.anchor=c?c.anchor:a("");let{patchFlag:K,dynamicChildren:ee,slotScopeIds:ne}=p;ne&&(B=B?B.concat(ne):ne),c==null?(r(N,v,_),r(Q,v,_),L(p.children,v,Q,M,F,O,B,U)):K>0&&K&64&&ee&&c.dynamicChildren?(R(c.dynamicChildren,ee,v,M,F,O,B),(p.key!=null||M&&p===M.subTree)&&fl(c,p,!0)):z(c,p,v,Q,M,F,O,B,U)},q=(c,p,v,_,M,F,O,B,U)=>{p.slotScopeIds=B,c==null?p.shapeFlag&512?M.ctx.activate(p,v,_,O,U):k(p,v,_,M,F,O,U):W(c,p,U)},k=(c,p,v,_,M,F,O)=>{const B=c.component=oc(c,_,M);if(Yr(c)&&(B.ctx.renderer=le),ac(B),B.asyncDep){if(M&&M.registerDep(B,G),!c.el){const U=B.subTree=Se(yt);E(null,U,p,v)}return}G(B,c,p,v,M,F,O)},W=(c,p,v)=>{const _=p.component=c.component;if(pf(c,p,v))if(_.asyncDep&&!_.asyncResolved){Z(_,p,v);return}else _.next=p,af(_.update),_.update();else p.el=c.el,_.vnode=p},G=(c,p,v,_,M,F,O)=>{const B=()=>{if(c.isMounted){let{next:Q,bu:K,u:ee,parent:ne,vnode:he}=c,we=Q,be;Gt(c,!1),Q?(Q.el=he.el,Z(c,Q,O)):Q=he,K&&mr(K),(be=Q.props&&Q.props.onVnodeBeforeUpdate)&&bt(be,ne,Q,he),Gt(c,!0);const D=ui(c),J=c.subTree;c.subTree=D,b(J,D,d(J.el),de(J),c,M,F),Q.el=D.el,we===null&&vf(c,D.el),ee&&Xe(ee,M),(be=Q.props&&Q.props.onVnodeUpdated)&&Xe(()=>bt(be,ne,Q,he),M)}else{let Q;const{el:K,props:ee}=p,{bm:ne,m:he,parent:we}=c,be=yr(p);if(Gt(c,!1),ne&&mr(ne),!be&&(Q=ee&&ee.onVnodeBeforeMount)&&bt(Q,we,p),Gt(c,!0),K&&Ue){const D=()=>{c.subTree=ui(c),Ue(K,c.subTree,c,M,null)};be?p.type.__asyncLoader().then(()=>!c.isUnmounted&&D()):D()}else{const D=c.subTree=ui(c);b(null,D,v,_,c,M,F),p.el=D.el}if(he&&Xe(he,M),!be&&(Q=ee&&ee.onVnodeMounted)){const D=p;Xe(()=>bt(Q,we,D),M)}(p.shapeFlag&256||we&&yr(we.vnode)&&we.vnode.shapeFlag&256)&&c.a&&Xe(c.a,M),c.isMounted=!0,p=v=_=null}},U=c.effect=new ho(B,()=>Na(N),c.scope),N=c.update=()=>U.run();N.id=c.uid,Gt(c,!0),N()},Z=(c,p,v)=>{p.component=c;const _=c.vnode.props;c.vnode=p,c.next=null,Hf(c,p.props,_,v),jf(c,p.children,v),Cn(),jr(void 0,c.update),En()},z=(c,p,v,_,M,F,O,B,U=!1)=>{const N=c&&c.children,Q=c?c.shapeFlag:0,K=p.children,{patchFlag:ee,shapeFlag:ne}=p;if(ee>0){if(ee&128){Y(N,K,v,_,M,F,O,B,U);return}else if(ee&256){V(N,K,v,_,M,F,O,B,U);return}}ne&8?(Q&16&&se(N,M,F),K!==N&&f(v,K)):Q&16?ne&16?Y(N,K,v,_,M,F,O,B,U):se(N,M,F,!0):(Q&8&&f(v,""),ne&16&&L(K,v,_,M,F,O,B,U))},V=(c,p,v,_,M,F,O,B,U)=>{c=c||fn,p=p||fn;const N=c.length,Q=p.length,K=Math.min(N,Q);let ee;for(ee=0;ee<K;ee++){const ne=p[ee]=U?Dt(p[ee]):_t(p[ee]);b(c[ee],ne,v,null,M,F,O,B,U)}N>Q?se(c,M,F,!0,!1,K):L(p,v,_,M,F,O,B,U,K)},Y=(c,p,v,_,M,F,O,B,U)=>{let N=0;const Q=p.length;let K=c.length-1,ee=Q-1;for(;N<=K&&N<=ee;){const ne=c[N],he=p[N]=U?Dt(p[N]):_t(p[N]);if(Kt(ne,he))b(ne,he,v,null,M,F,O,B,U);else break;N++}for(;N<=K&&N<=ee;){const ne=c[K],he=p[ee]=U?Dt(p[ee]):_t(p[ee]);if(Kt(ne,he))b(ne,he,v,null,M,F,O,B,U);else break;K--,ee--}if(N>K){if(N<=ee){const ne=ee+1,he=ne<Q?p[ne].el:_;for(;N<=ee;)b(null,p[N]=U?Dt(p[N]):_t(p[N]),v,he,M,F,O,B,U),N++}}else if(N>ee)for(;N<=K;)te(c[N],M,F,!0),N++;else{const ne=N,he=N,we=new Map;for(N=he;N<=ee;N++){const Re=p[N]=U?Dt(p[N]):_t(p[N]);Re.key!=null&&we.set(Re.key,N)}let be,D=0;const J=ee-he+1;let Ee=!1,wt=0;const Qe=new Array(J);for(N=0;N<J;N++)Qe[N]=0;for(N=ne;N<=K;N++){const Re=c[N];if(D>=J){te(Re,M,F,!0);continue}let rt;if(Re.key!=null)rt=we.get(Re.key);else for(be=he;be<=ee;be++)if(Qe[be-he]===0&&Kt(Re,p[be])){rt=be;break}rt===void 0?te(Re,M,F,!0):(Qe[rt-he]=N+1,rt>=wt?wt=rt:Ee=!0,b(Re,p[rt],v,null,M,F,O,B,U),D++)}const Tt=Ee?Xf(Qe):fn;for(be=Tt.length-1,N=J-1;N>=0;N--){const Re=he+N,rt=p[Re],jo=Re+1<Q?p[Re+1].el:_;Qe[N]===0?b(null,rt,v,jo,M,F,O,B,U):Ee&&(be<0||N!==Tt[be]?X(rt,v,jo,2):be--)}}},X=(c,p,v,_,M=null)=>{const{el:F,type:O,transition:B,children:U,shapeFlag:N}=c;if(N&6){X(c.component.subTree,p,v,_);return}if(N&128){c.suspense.move(p,v,_);return}if(N&64){O.move(c,p,v,le);return}if(O===Ge){r(F,p,v);for(let K=0;K<U.length;K++)X(U[K],p,v,_);r(c.anchor,p,v);return}if(O===hi){C(c,p,v);return}if(_!==2&&N&1&&B)if(_===0)B.beforeEnter(F),r(F,p,v),Xe(()=>B.enter(F),M);else{const{leave:K,delayLeave:ee,afterLeave:ne}=B,he=()=>r(F,p,v),we=()=>{K(F,()=>{he(),ne&&ne()})};ee?ee(F,he,we):we()}else r(F,p,v)},te=(c,p,v,_=!1,M=!1)=>{const{type:F,props:O,ref:B,children:U,dynamicChildren:N,shapeFlag:Q,patchFlag:K,dirs:ee}=c;if(B!=null&&$i(B,null,v,c,!0),Q&256){p.ctx.deactivate(c);return}const ne=Q&1&&ee,he=!yr(c);let we;if(he&&(we=O&&O.onVnodeBeforeUnmount)&&bt(we,p,c),Q&6)Me(c.component,v,_);else{if(Q&128){c.suspense.unmount(v,_);return}ne&&qt(c,null,p,"beforeUnmount"),Q&64?c.type.remove(c,p,v,M,le,_):N&&(F!==Ge||K>0&&K&64)?se(N,p,v,!1,!0):(F===Ge&&K&384||!M&&Q&16)&&se(U,p,v),_&&ie(c)}(he&&(we=O&&O.onVnodeUnmounted)||ne)&&Xe(()=>{we&&bt(we,p,c),ne&&qt(c,null,p,"unmounted")},v)},ie=c=>{const{type:p,el:v,anchor:_,transition:M}=c;if(p===Ge){ve(v,_);return}if(p===hi){T(c);return}const F=()=>{i(v),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(c.shapeFlag&1&&M&&!M.persisted){const{leave:O,delayLeave:B}=M,U=()=>O(v,F);B?B(c.el,F,U):U()}else F()},ve=(c,p)=>{let v;for(;c!==p;)v=h(c),i(c),c=v;i(p)},Me=(c,p,v)=>{const{bum:_,scope:M,update:F,subTree:O,um:B}=c;_&&mr(_),M.stop(),F&&(F.active=!1,te(O,c,p,v)),B&&Xe(B,p),Xe(()=>{c.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},se=(c,p,v,_=!1,M=!1,F=0)=>{for(let O=F;O<c.length;O++)te(c[O],p,v,_,M)},de=c=>c.shapeFlag&6?de(c.component.subTree):c.shapeFlag&128?c.suspense.next():h(c.anchor||c.el),ue=(c,p,v)=>{c==null?p._vnode&&te(p._vnode,null,null,!0):b(p._vnode||null,c,p,null,null,null,v),za(),p._vnode=c},le={p:b,um:te,m:X,r:ie,mt:k,mc:L,pc:z,pbc:R,n:de,o:e};let ke,Ue;return t&&([ke,Ue]=t(le)),{render:ue,hydrate:ke,createApp:Gf(ue,ke)}}function Gt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function fl(e,t,n=!1){const r=e.children,i=t.children;if(re(r)&&re(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Dt(i[o]),a.el=s.el),n||fl(s,a))}}function Xf(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<u?o=a+1:s=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const Zf=e=>e.__isTeleport,Ge=Symbol(void 0),To=Symbol(void 0),yt=Symbol(void 0),hi=Symbol(void 0),In=[];let gt=null;function ae(e=!1){In.push(gt=e?null:[])}function Qf(){In.pop(),gt=In[In.length-1]||null}let Vn=1;function cs(e){Vn+=e}function cl(e){return e.dynamicChildren=Vn>0?gt||fn:null,Qf(),Vn>0&&gt&&gt.push(e),e}function fe(e,t,n,r,i,o){return cl(H(e,t,n,r,i,o,!0))}function Lr(e,t,n,r,i){return cl(Se(e,t,n,r,i,!0))}function Jf(e){return e?e.__v_isVNode===!0:!1}function Kt(e,t){return e.type===t.type&&e.key===t.key}const Xr="__vInternal",dl=({key:e})=>e!=null?e:null,wr=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ve(e)||Ye(e)||ce(e)?{i:st,r:e,k:t,f:!!n}:e:null;function H(e,t=null,n=null,r=0,i=null,o=e===Ge?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&dl(t),ref:t&&wr(t),scopeId:Gr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(So(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Ve(n)?8:16),Vn>0&&!s&&gt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&gt.push(l),l}const Se=ec;function ec(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===el)&&(e=yt),Jf(e)){const a=$t(e,t,!0);return n&&So(a,n),Vn>0&&!o&&gt&&(a.shapeFlag&6?gt[gt.indexOf(e)]=a:gt.push(a)),a.patchFlag|=-2,a}if(dc(e)&&(e=e.__vccOpts),t){t=tc(t);let{class:a,style:l}=t;a&&!Ve(a)&&(t.class=tn(a)),De(l)&&(Ia(l)&&!re(l)&&(l=je({},l)),t.style=We(l))}const s=Ve(e)?1:gf(e)?128:Zf(e)?64:De(e)?4:ce(e)?2:0;return H(e,t,n,r,i,s,o,!0)}function tc(e){return e?Ia(e)||Xr in e?je({},e):e:null}function $t(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=t?nc(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&dl(a),ref:t&&t.ref?n&&i?re(i)?i.concat(wr(t)):[i,wr(t)]:wr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$t(e.ssContent),ssFallback:e.ssFallback&&$t(e.ssFallback),el:e.el,anchor:e.anchor}}function Be(e=" ",t=0){return Se(To,null,e,t)}function Te(e="",t=!1){return t?(ae(),Lr(yt,null,e)):Se(yt,null,e)}function _t(e){return e==null||typeof e=="boolean"?Se(yt):re(e)?Se(Ge,null,e.slice()):typeof e=="object"?Dt(e):Se(To,null,String(e))}function Dt(e){return e.el===null||e.memo?e:$t(e)}function So(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(re(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),So(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Xr in t)?t._ctx=st:i===3&&st&&(st.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:st},n=32):(t=String(t),r&64?(n=16,t=[Be(t)]):n=8);e.children=t,e.shapeFlag|=n}function nc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=tn([t.class,r.class]));else if(i==="style")t.style=We([t.style,r.style]);else if(Ur(i)){const o=t[i],s=r[i];s&&o!==s&&!(re(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function bt(e,t,n,r=null){at(e,t,7,[n,r])}const rc=ul();let ic=0;function oc(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||rc,o={uid:ic++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ol(r,i),emitsOptions:$a(r,i),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:r.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ff.bind(null,o),e.ce&&e.ce(o),o}let He=null;const sc=()=>He||st,pn=e=>{He=e,e.scope.on()},Jt=()=>{He&&He.scope.off(),He=null};function hl(e){return e.vnode.shapeFlag&4}let Un=!1;function ac(e,t=!1){Un=t;const{props:n,children:r}=e.vnode,i=hl(e);zf(e,n,i,t),Wf(e,r);const o=i?lc(e,t):void 0;return Un=!1,o}function lc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ba(new Proxy(e.ctx,Bf));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?fc(e):null;pn(e),Cn();const o=zt(r,e,0,[e.props,i]);if(En(),Jt(),ba(o)){if(o.then(Jt,Jt),t)return o.then(s=>{ds(e,s,t)}).catch(s=>{Wr(s,e,0)});e.asyncDep=o}else ds(e,o,t)}else pl(e,t)}function ds(e,t,n){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=Da(t)),pl(e,n)}let hs;function pl(e,t,n){const r=e.type;if(!e.render){if(!t&&hs&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=je(je({isCustomElement:o,delimiters:a},s),l);r.render=hs(i,u)}}e.render=r.render||mt}pn(e),Cn(),Df(e),En(),Jt()}function uc(e){return new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}})}function fc(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=uc(e))},slots:e.slots,emit:e.emit,expose:t}}function Zr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Da(Ba(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Pr)return Pr[n](e)}}))}function cc(e,t=!0){return ce(e)?e.displayName||e.name:e.name||t&&e.__name}function dc(e){return ce(e)&&"__vccOpts"in e}const hc=(e,t)=>nf(e,t,Un),pc="3.2.37",vc="http://www.w3.org/2000/svg",Xt=typeof document!="undefined"?document:null,ps=Xt&&Xt.createElement("template"),gc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Xt.createElementNS(vc,e):Xt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ps.innerHTML=r?`<svg>${e}</svg>`:e;const a=ps.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function mc(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function yc(e,t,n){const r=e.style,i=Ve(n);if(n&&!i){for(const o in n)Wi(r,o,n[o]);if(t&&!Ve(t))for(const o in t)n[o]==null&&Wi(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const vs=/\s*!important$/;function Wi(e,t,n){if(re(n))n.forEach(r=>Wi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=wc(e,t);vs.test(n)?e.setProperty(_n(r),n.replace(vs,""),"important"):e[r]=n}}const gs=["Webkit","Moz","ms"],pi={};function wc(e,t){const n=pi[t];if(n)return n;let r=Et(t);if(r!=="filter"&&r in e)return pi[t]=r;r=Hr(r);for(let i=0;i<gs.length;i++){const o=gs[i]+r;if(o in e)return pi[t]=o}return t}const ms="http://www.w3.org/1999/xlink";function bc(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ms,t.slice(6,t.length)):e.setAttributeNS(ms,t,n);else{const o=cu(t);n==null||o&&!ya(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function xc(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ya(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[vl,_c]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let ji=0;const Cc=Promise.resolve(),Ec=()=>{ji=0},Ac=()=>ji||(Cc.then(Ec),ji=vl());function Nt(e,t,n,r){e.addEventListener(t,n,r)}function Tc(e,t,n,r){e.removeEventListener(t,n,r)}function Sc(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=Mc(t);if(r){const u=o[t]=Pc(r,i);Nt(e,a,u,l)}else s&&(Tc(e,a,s,l),o[t]=void 0)}}const ys=/(?:Once|Passive|Capture)$/;function Mc(e){let t;if(ys.test(e)){t={};let n;for(;n=e.match(ys);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[_n(e.slice(2)),t]}function Pc(e,t){const n=r=>{const i=r.timeStamp||vl();(_c||i>=n.attached-1)&&at(Fc(r,n.value),t,5,[r])};return n.value=e,n.attached=Ac(),n}function Fc(e,t){if(re(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const ws=/^on[a-z]/,Lc=(e,t,n,r,i=!1,o,s,a,l)=>{t==="class"?mc(e,r,i):t==="style"?yc(e,n,r):Ur(t)?lo(t)||Sc(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):kc(e,t,r,i))?xc(e,t,r,o,s,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),bc(e,t,r,i))};function kc(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ws.test(t)&&ce(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ws.test(t)&&Ve(n)?!1:t in e}const Rc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};_f.props;const vn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return re(t)?n=>mr(t,n):t};function Ic(e){e.target.composing=!0}function bs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gl={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=vn(i);const o=r||i.props&&i.props.type==="number";Nt(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Tr(a)),e._assign(a)}),n&&Nt(e,"change",()=>{e.value=e.value.trim()}),t||(Nt(e,"compositionstart",Ic),Nt(e,"compositionend",bs),Nt(e,"change",bs))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=vn(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Tr(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},Bc={deep:!0,created(e,t,n){e._assign=vn(n),Nt(e,"change",()=>{const r=e._modelValue,i=zn(e),o=e.checked,s=e._assign;if(re(r)){const a=ao(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(xn(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(ml(e,o))})},mounted:xs,beforeUpdate(e,t,n){e._assign=vn(n),xs(e,t,n)}};function xs(e,{value:t,oldValue:n},r){e._modelValue=t,re(t)?e.checked=ao(t,r.props.value)>-1:xn(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=qn(t,ml(e,!0)))}const Dc={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=xn(t);Nt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Tr(zn(s)):zn(s));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=vn(r)},mounted(e,{value:t}){_s(e,t)},beforeUpdate(e,t,n){e._assign=vn(n)},updated(e,{value:t}){_s(e,t)}};function _s(e,t){const n=e.multiple;if(!(n&&!re(t)&&!xn(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],s=zn(o);if(n)re(t)?o.selected=ao(t,s)>-1:o.selected=t.has(s);else if(qn(zn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zn(e){return"_value"in e?e._value:e.value}function ml(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Oc=["ctrl","shift","alt","meta"],Nc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Oc.some(n=>e[`${n}Key`]&&!t.includes(n))},Ct=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=Nc[t[i]];if(o&&o(n,t))return}return e(n,...r)},Vc={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):An(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),An(e,!0),r.enter(e)):r.leave(e,()=>{An(e,!1)}):An(e,t))},beforeUnmount(e,{value:t}){An(e,t)}};function An(e,t){e.style.display=t?e._vod:"none"}const Uc=je({patchProp:Lc},gc);let Cs;function zc(){return Cs||(Cs=Yf(Uc))}const Es=(...e)=>{const t=zc().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Hc(r);if(!i)return;const o=t._component;!ce(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Hc(e){return Ve(e)?document.querySelector(e):e}const rr=new Map,Yn=[],qi=Yn.map,$c=Yn.some,Wc=Yn.hasOwnProperty,jc=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,qc=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,As=/(?:\.[^/]*|\/)$/;class gn extends Error{constructor(t){super(t)}}gn.prototype.name=gn.name;function Ts(e){const t=jc.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function Gc(e="https://cdn.jsdelivr.net/npm/",t=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(e))throw new Error("origin lacks trailing slash");function n(i){for(const o of t){let s=i[o];if(typeof s=="string")return s.startsWith("./")&&(s=s.slice(2)),As.test(s)?s:`${s}.js`}}function r(i){const o=`${e}${i.name}${i.version?`@${i.version}`:""}/package.json`;let s=rr.get(o);return s||rr.set(o,s=fetch(o).then(a=>{if(!a.ok)throw new gn("unable to load package.json");return a.redirected&&!rr.has(a.url)&&rr.set(a.url,s),a.json()})),s}return async function(o,s){if(o.startsWith(e)&&(o=o.substring(e.length)),/^(\w+:)|\/\//i.test(o))return o;if(/^[.]{0,2}\//i.test(o))return new URL(o,s==null?location:s).href;if(!o.length||/^[\s._]/.test(o)||/\s$/.test(o))throw new gn("illegal name");const a=Ts(o);if(!a)return`${e}${o}`;if(!a.version&&s!=null&&s.startsWith(e)){const u=await r(Ts(s.substring(e.length)));a.version=u.dependencies&&u.dependencies[a.name]||u.peerDependencies&&u.peerDependencies[a.name]}if(a.path&&!As.test(a.path)&&(a.path+=".js"),a.path&&a.version&&qc.test(a.version))return`${e}${a.name}@${a.version}/${a.path}`;const l=await r(a);return`${e}${l.name}@${l.version}/${a.path||n(l)||"index.js"}`}}var Yc=yl(Gc());function yl(e){const t=new Map,n=i(null);function r(a){if(typeof a!="string")return a;let l=t.get(a);return l||t.set(a,l=new Promise((u,f)=>{const d=document.createElement("script");d.onload=()=>{try{u(Yn.pop()(i(a)))}catch{f(new gn("invalid module"))}d.remove()},d.onerror=()=>{f(new gn("unable to load module")),d.remove()},d.async=!0,d.src=a,window.define=wl,document.head.appendChild(d)})),l}function i(a){return l=>Promise.resolve(e(l,a)).then(r)}function o(a){return yl((l,u)=>l in a&&(l=a[l],u=null,typeof l!="string")?l:e(l,u))}function s(a){return arguments.length>1?Promise.all(qi.call(arguments,n)).then(Kc):n(a)}return s.alias=o,s.resolve=e,s}function Kc(e){const t={};for(const n of e)for(const r in n)Wc.call(n,r)&&(n[r]==null?Object.defineProperty(t,r,{get:Xc(n,r)}):t[r]=n[r]);return t}function Xc(e,t){return()=>e[t]}function Zc(e){return e=e+"",e==="exports"||e==="module"}function wl(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t=typeof e=="string"?[]:e),Yn.push($c.call(t,Zc)?i=>{const o={},s={exports:o};return Promise.all(qi.call(t,a=>(a=a+"",a==="exports"?o:a==="module"?s:i(a)))).then(a=>(n.apply(null,a),s.exports))}:i=>Promise.all(qi.call(t,i)).then(o=>typeof n=="function"?n.apply(null,o):n))}wl.amd={};var Qr=function(t){Jc(t);var n=Qc(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function Qc(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n=="undefined";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var s=t[n],a=0;a<s.length;++a)s[a].callback===r&&s.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var s=r[o];s.callback.apply(s.ctx,i)}return e}}}function Jc(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var bl=1e-6,Ke=typeof Float32Array!="undefined"?Float32Array:Array;function ed(e){Ke=e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});function td(){var e=new Ke(9);return Ke!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Lt(){var e=new Ke(16);return Ke!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function nd(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Kn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],f=t[8],d=t[9],h=t[10],g=t[11],y=t[12],w=t[13],b=t[14],S=t[15],E=n*a-r*s,A=n*l-i*s,C=n*u-o*s,T=r*l-i*a,m=r*u-o*a,x=i*u-o*l,P=f*w-d*y,L=f*b-h*y,I=f*S-g*y,R=d*b-h*w,j=d*S-g*w,$=h*S-g*b,q=E*$-A*j+C*R+T*I-m*L+x*P;return q?(q=1/q,e[0]=(a*$-l*j+u*R)*q,e[1]=(i*j-r*$-o*R)*q,e[2]=(w*x-b*m+S*T)*q,e[3]=(h*m-d*x-g*T)*q,e[4]=(l*I-s*$-u*L)*q,e[5]=(n*$-i*I+o*L)*q,e[6]=(b*C-y*x-S*A)*q,e[7]=(f*x-h*C+g*A)*q,e[8]=(s*j-a*I+u*P)*q,e[9]=(r*I-n*j-o*P)*q,e[10]=(y*m-w*C+S*E)*q,e[11]=(d*C-f*m-g*E)*q,e[12]=(a*L-s*R-l*P)*q,e[13]=(n*R-r*L+i*P)*q,e[14]=(w*A-y*T-b*E)*q,e[15]=(f*T-d*A+h*E)*q,e):null}function Wt(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],f=t[7],d=t[8],h=t[9],g=t[10],y=t[11],w=t[12],b=t[13],S=t[14],E=t[15],A=n[0],C=n[1],T=n[2],m=n[3];return e[0]=A*r+C*a+T*d+m*w,e[1]=A*i+C*l+T*h+m*b,e[2]=A*o+C*u+T*g+m*S,e[3]=A*s+C*f+T*y+m*E,A=n[4],C=n[5],T=n[6],m=n[7],e[4]=A*r+C*a+T*d+m*w,e[5]=A*i+C*l+T*h+m*b,e[6]=A*o+C*u+T*g+m*S,e[7]=A*s+C*f+T*y+m*E,A=n[8],C=n[9],T=n[10],m=n[11],e[8]=A*r+C*a+T*d+m*w,e[9]=A*i+C*l+T*h+m*b,e[10]=A*o+C*u+T*g+m*S,e[11]=A*s+C*f+T*y+m*E,A=n[12],C=n[13],T=n[14],m=n[15],e[12]=A*r+C*a+T*d+m*w,e[13]=A*i+C*l+T*h+m*b,e[14]=A*o+C*u+T*g+m*S,e[15]=A*s+C*f+T*y+m*E,e}function rd(e,t,n){var r=n[0],i=n[1],o=n[2],s,a,l,u,f,d,h,g,y,w,b,S;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15]):(s=t[0],a=t[1],l=t[2],u=t[3],f=t[4],d=t[5],h=t[6],g=t[7],y=t[8],w=t[9],b=t[10],S=t[11],e[0]=s,e[1]=a,e[2]=l,e[3]=u,e[4]=f,e[5]=d,e[6]=h,e[7]=g,e[8]=y,e[9]=w,e[10]=b,e[11]=S,e[12]=s*r+f*i+y*o+t[12],e[13]=a*r+d*i+w*o+t[13],e[14]=l*r+h*i+b*o+t[14],e[15]=u*r+g*i+S*o+t[15]),e}function id(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function od(e,t,n,r){var i=r[0],o=r[1],s=r[2],a=Math.hypot(i,o,s),l,u,f,d,h,g,y,w,b,S,E,A,C,T,m,x,P,L,I,R,j,$,q,k;return a<bl?null:(a=1/a,i*=a,o*=a,s*=a,l=Math.sin(n),u=Math.cos(n),f=1-u,d=t[0],h=t[1],g=t[2],y=t[3],w=t[4],b=t[5],S=t[6],E=t[7],A=t[8],C=t[9],T=t[10],m=t[11],x=i*i*f+u,P=o*i*f+s*l,L=s*i*f-o*l,I=i*o*f-s*l,R=o*o*f+u,j=s*o*f+i*l,$=i*s*f+o*l,q=o*s*f-i*l,k=s*s*f+u,e[0]=d*x+w*P+A*L,e[1]=h*x+b*P+C*L,e[2]=g*x+S*P+T*L,e[3]=y*x+E*P+m*L,e[4]=d*I+w*R+A*j,e[5]=h*I+b*R+C*j,e[6]=g*I+S*R+T*j,e[7]=y*I+E*R+m*j,e[8]=d*$+w*q+A*k,e[9]=h*$+b*q+C*k,e[10]=g*$+S*q+T*k,e[11]=y*$+E*q+m*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function sd(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],l=t[7],u=t[8],f=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=s*i+f*r,e[6]=a*i+d*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=f*i-s*r,e[10]=d*i-a*r,e[11]=h*i-l*r,e}function ad(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],u=t[8],f=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=s*i-f*r,e[2]=a*i-d*r,e[3]=l*i-h*r,e[8]=o*r+u*i,e[9]=s*r+f*i,e[10]=a*r+d*i,e[11]=l*r+h*i,e}function ld(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],u=t[4],f=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=s*i+f*r,e[2]=a*i+d*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=f*i-s*r,e[6]=d*i-a*r,e[7]=h*i-l*r,e}function ud(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,l=i+i,u=o+o,f=r*a,d=r*l,h=r*u,g=i*l,y=i*u,w=o*u,b=s*a,S=s*l,E=s*u;return e[0]=1-(g+w),e[1]=d+E,e[2]=h-S,e[3]=0,e[4]=d-E,e[5]=1-(f+w),e[6]=y+b,e[7]=0,e[8]=h+S,e[9]=y-b,e[10]=1-(f+g),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function fd(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function cd(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],u=t[9],f=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,s,a),e[2]=Math.hypot(l,u,f),e}function Mo(e,t){var n=new Ke(3);cd(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],s=t[0]*r,a=t[1]*i,l=t[2]*o,u=t[4]*r,f=t[5]*i,d=t[6]*o,h=t[8]*r,g=t[9]*i,y=t[10]*o,w=s+f+y,b=0;return w>0?(b=Math.sqrt(w+1)*2,e[3]=.25*b,e[0]=(d-g)/b,e[1]=(h-l)/b,e[2]=(a-u)/b):s>f&&s>y?(b=Math.sqrt(1+s-f-y)*2,e[3]=(d-g)/b,e[0]=.25*b,e[1]=(a+u)/b,e[2]=(h+l)/b):f>y?(b=Math.sqrt(1+f-s-y)*2,e[3]=(h-l)/b,e[0]=(a+u)/b,e[1]=.25*b,e[2]=(d+g)/b):(b=Math.sqrt(1+y-s-f)*2,e[3]=(a-u)/b,e[0]=(h+l)/b,e[1]=(d+g)/b,e[2]=.25*b),e}function dd(e,t,n,r,i){var o=1/Math.tan(t/2),s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e}var hd=dd;function Po(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=r[0],l=r[1],u=r[2],f=i-n[0],d=o-n[1],h=s-n[2],g=f*f+d*d+h*h;g>0&&(g=1/Math.sqrt(g),f*=g,d*=g,h*=g);var y=l*h-u*d,w=u*f-a*h,b=a*d-l*f;return g=y*y+w*w+b*b,g>0&&(g=1/Math.sqrt(g),y*=g,w*=g,b*=g),e[0]=y,e[1]=w,e[2]=b,e[3]=0,e[4]=d*b-h*w,e[5]=h*y-f*b,e[6]=f*w-d*y,e[7]=0,e[8]=f,e[9]=d,e[10]=h,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}var pd=Wt;function xl(){var e=new Ke(3);return Ke!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function vd(e){var t=new Ke(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gd(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Ss(e,t,n){var r=new Ke(3);return r[0]=e,r[1]=t,r[2]=n,r}function kr(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function md(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function yd(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Fo(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function Jr(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Gi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vi(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2];return e[0]=i*l-o*a,e[1]=o*s-r*l,e[2]=r*a-i*s,e}function mn(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,e}function Rr(e,t,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=t[0],l=t[1],u=t[2],f=i*u-o*l,d=o*a-r*u,h=r*l-i*a,g=i*h-o*d,y=o*f-r*h,w=r*d-i*f,b=s*2;return f*=b,d*=b,h*=b,g*=2,y*=2,w*=2,e[0]=a+f+g,e[1]=l+d+y,e[2]=u+h+w,e}var Bn=yd,wd=gd;(function(){var e=xl();return function(t,n,r,i,o,s){var a,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,a=r;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function bd(){var e=new Ke(4);return Ke!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function xd(e){var t=new Ke(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function _d(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Cd(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s,e}function _l(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}(function(){var e=bd();return function(t,n,r,i,o,s){var a,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,a=r;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function Ms(){var e=new Ke(4);return Ke!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Yi(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Ed(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=n[0],l=n[1],u=n[2],f=n[3];return e[0]=r*f+s*a+i*u-o*l,e[1]=i*f+s*l+o*a-r*u,e[2]=o*f+s*u+r*l-i*a,e[3]=s*f-r*a-i*l-o*u,e}function br(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=t[3],l=n[0],u=n[1],f=n[2],d=n[3],h,g,y,w,b;return g=i*l+o*u+s*f+a*d,g<0&&(g=-g,l=-l,u=-u,f=-f,d=-d),1-g>bl?(h=Math.acos(g),y=Math.sin(h),w=Math.sin((1-r)*h)/y,b=Math.sin(r*h)/y):(w=1-r,b=r),e[0]=w*i+b*l,e[1]=w*o+b*u,e[2]=w*s+b*f,e[3]=w*a+b*d,e}function Ad(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[o*3+o]-t[s*3+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[o*3+s]-t[s*3+o])*r,e[o]=(t[o*3+i]+t[i*3+o])*r,e[s]=(t[s*3+i]+t[i*3+s])*r}return e}var Ps=xd,Cl=_d,Ir=Ed,El=Cd;(function(){var e=xl(),t=Ss(1,0,0),n=Ss(0,1,0);return function(r,i,o){var s=Gi(i,o);return s<-.999999?(vi(e,t,i),wd(e)<1e-6&&vi(e,n,i),Jr(e,e),Yi(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(vi(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,El(r,r))}})();(function(){var e=Ms(),t=Ms();return function(n,r,i,o,s,a){return br(e,r,s,a),br(t,i,o,a),br(n,e,t,2*a*(1-a)),n}})();(function(){var e=td();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],El(t,Ad(t,e))}})();var Ae=function(){this.children=[],this.model=Lt(),this.worldModel=Lt(),this.modelViewProjection=Lt(),this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0,this.type="Element",this.scene=null,this.parent=null};Ae.prototype.appendChild=function(t,n){n===void 0&&(n=!1),t.parent=this,n?this.children.unshift(t):this.children.push(t),t.bindScene&&t.bindScene(this.scene),this.scene&&this.scene.renderFrame()};Ae.prototype.insertChildAfter=function(t,n){t.parent=this;var r=this.children.indexOf(n);if(r<0)throw new Error("Could not find element to insert after");this.children.splice(r+1,0,t),t.bindScene&&t.bindScene(this.scene),this.scene&&this.scene.renderFrame()};Ae.prototype.bindScene=function(t){this.scene=t,this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0};Ae.prototype.traverse=function(t,n){t(this);for(var r=0;r<this.children.length;++r){var i=this.children[r];i.traverse(t,n)}n&&n(this)};Ae.prototype.rotate=function(t,n){return od(this.model,this.model,t,n),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.rotateX=function(t){return sd(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.rotateY=function(t){return ad(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.rotateZ=function(t){return ld(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.scale=function(t){return id(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.translate=function(t){return rd(this.model,this.model,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this};Ae.prototype.removeChild=function(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),t.bindScene(null)),this.scene&&this.scene.renderFrame()};Ae.prototype.updateWorldTransform=function(t){t===void 0&&(t=!1),(this.worldTransformNeedsUpdate||t)&&(this.parent?Wt(this.worldModel,this.parent.worldModel,this.model):nd(this.worldModel,this.model),this.modelViewProjectionNeedsUpdate=!0,this.worldTransformNeedsUpdate=!1,t=!0);for(var n=t,r=this.children,i=0;i<r.length;i++)n=r[i].updateWorldTransform(t)||n;return n};Ae.prototype.scheduleMVPUpdate=function(){this.modelViewProjectionNeedsUpdate=!0;for(var t=this.children,n=0;n<t.length;n++)t[n].scheduleMVPUpdate()};Ae.prototype.updateModelViewProjection=function(t,n){!this.modelViewProjectionNeedsUpdate||(Wt(this.modelViewProjection,t,n),Wt(this.modelViewProjection,this.modelViewProjection,this.worldModel),this.modelViewProjectionNeedsUpdate=!1)};Ae.prototype.draw=function(t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r];i.updateModelViewProjection(n.projection,n.view.matrix),i.draw(t,n)}};Ae.prototype.dispose=function(){for(var t=0;t<this.children.length;++t){var n=this.children[t];n.dispose()}};var Fs={maxSingleTouchTime:300,singleTapDistanceSquared:25};function Td(e,t,n){var r=Date.now(),i;return e.addEventListener("click",l,{passive:!1}),e.addEventListener("touchend",s,{passive:!1}),e.addEventListener("touchstart",o,{passive:!1}),a;function o(u){var f=u.touches;f.length===1&&(r=Date.now(),i={x:u.touches[0].pageX,y:u.touches[0].pageY})}function s(u){if(!(u.touches.length>1)){var f=Date.now()-r;if(!(f>Fs.maxSingleTouchTime)){var d=u.changedTouches[0],h=d.pageX-i.x,g=d.pageY-i.y;h*h+g*g<Fs.singleTapDistanceSquared&&l(d)}}}function a(){e.removeEventListener("click",l),e.removeEventListener("touchend",s),e.removeEventListener("touchstart",o)}function l(u){t.call(n,u)}}var Sd=[0,0,0],Md=[1,0,0],Pd=[0,1,0],Fd=[0,0,1],jt=function(t){this.matrix=t||Lt(),this.cameraWorld=Kn(Lt(),this.matrix),this.position=[0,0,0],this.orientation=[0,0,0,1],this.center=[0,0,0],this.deconstructPositionRotation()};jt.prototype.lookAt=function(t,n,r){return Po(this.cameraWorld,t,n,r),Kn(this.matrix,this.cameraWorld),this.deconstructPositionRotation(),this};jt.prototype.update=function(){return ud(this.cameraWorld,this.orientation,this.position),Kn(this.matrix,this.cameraWorld),this};jt.prototype.deconstructPositionRotation=function(){fd(this.position,this.cameraWorld),Mo(this.orientation,this.cameraWorld)};jt.prototype.translateOnAxis=function(t,n){var r=Rr(Sd,t,this.orientation);return Fo(this.position,this.position,r,n),this};jt.prototype.translateX=function(t){return this.translateOnAxis(Md,t)};jt.prototype.translateY=function(t){return this.translateOnAxis(Pd,t)};jt.prototype.translateZ=function(t){return this.translateOnAxis(Fd,t)};var Ld=4,kd=.001,Rd=1e-7,Id=10,Pn=11,ir=1/(Pn-1),Bd=typeof Float32Array=="function";function Al(e,t){return 1-3*t+3*e}function Tl(e,t){return 3*t-6*e}function Sl(e){return 3*e}function Br(e,t,n){return((Al(t,n)*e+Tl(t,n))*e+Sl(t))*e}function Ml(e,t,n){return 3*Al(t,n)*e*e+2*Tl(t,n)*e+Sl(t)}function Dd(e,t,n,r,i){var o,s,a=0;do s=t+(n-t)/2,o=Br(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Rd&&++a<Id);return s}function Od(e,t,n,r){for(var i=0;i<Ld;++i){var o=Ml(t,n,r);if(o===0)return t;var s=Br(t,n,r)-e;t-=s/o}return t}function Nd(e){return e}var Tn=function(t,n,r,i){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===i)return Nd;for(var o=Bd?new Float32Array(Pn):new Array(Pn),s=0;s<Pn;++s)o[s]=Br(s*ir,t,r);function a(l){for(var u=0,f=1,d=Pn-1;f!==d&&o[f]<=l;++f)u+=ir;--f;var h=(l-o[f])/(o[f+1]-o[f]),g=u+h*ir,y=Ml(g,t,r);return y>=kd?Od(l,g,t,r):y===0?g:Dd(l,u,u+ir,t,r)}return function(u){return u===0?0:u===1?1:Br(a(u),n,i)}},Ls={ease:Tn(.25,.1,.25,1),easeIn:Tn(.42,0,1,1),easeOut:Tn(0,0,.58,1),easeInOut:Tn(.42,0,.58,1),linear:Tn(0,0,1,1)},Lo=zd,Vd=Pl,Ud=Pl();function zd(e,t,n){var r=Object.create(null),i=Object.create(null);n=n||{};var o=typeof n.easing=="function"?n.easing:Ls[n.easing];o||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),o=Ls.ease);var s=typeof n.step=="function"?n.step:ks,a=typeof n.done=="function"?n.done:ks,l=Hd(n.scheduler),u=Object.keys(t);u.forEach(function(S){r[S]=e[S],i[S]=t[S]-e[S]});var f=typeof n.duration=="number"?n.duration:400,d=Math.max(1,f*.06),h,g=0;return h=l.next(w),{cancel:y};function y(){l.cancel(h),h=0}function w(){var S=o(g/d);g+=1,b(S),g<=d?(h=l.next(w),s(e)):(h=0,setTimeout(function(){a(e)},0))}function b(S){u.forEach(function(E){e[E]=i[E]*S+r[E]})}}function ks(){}function Hd(e){if(!e){var t=typeof window!="undefined"&&window.requestAnimationFrame;return t?$d():Wd()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function $d(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Wd(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Pl(){var e=new Set,t=new Set,n=0;return{next:i,cancel:i,clearAll:r};function r(){e.clear(),t.clear(),cancelAnimationFrame(n),n=0}function i(a){t.add(a),o()}function o(){n||(n=requestAnimationFrame(s))}function s(){n=0;var a=t;t=e,e=a,e.forEach(function(l){l()}),e.clear()}}Lo.makeAggregateRaf=Vd;Lo.sharedScheduler=Ud;function Rs(e,t,n){typeof n!="object"&&(n={});var r=.001,i=typeof n.minVelocity=="number"?n.minVelocity:r,o=typeof n.amplitude=="number"?n.amplitude:.01,s=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:jd(),a=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:qd(),l,u,f=342,d,h,g,y,w,b,S,E;return{start:m,setAmplitude:A,getAmplitude:C,stop:P,impulse:L,cancel:T};function A(R){o=R}function C(){return o}function T(){s(d),s(E)}function m(){l=e(),g=w=h=y=b=0,u=new Date,s(d),s(E),d=a(x)}function x(){var R=Date.now(),j=R-u;u=R;var $=e(),q=$.x-l.x,k=$.y-l.y,W=($.z||0)-l.z;l=$;var G=1e3/(1+j);h=.8*q*G+.2*h,y=.8*k*G+.2*y,b=.8*W*G+.2*b,d=a(x)}function P(){!d||(s(d),d=0,s(E),E=0,L(h,y,b))}function L(R,j,$){u=Date.now(),(R<-i||R>i)&&(g=o*R),(j<-i||j>i)&&(w=o*j),($<-i||$>i)&&(S=o*$),E=a(I)}function I(){var R=Date.now()-u,j=!1,$=0,q=0,k=0,W=Math.exp(-R/f);if(g&&($=g*W,$>r||$<-r?j=!0:$=g=0),w&&(q=w*W,q>r||q<-r?j=!0:q=w=0),S&&(k=S*W,k>r||k<-r?j=!0:k=S=0),j){var G=e();t(G.x+$,G.y+q,G.z+k),E=a(I)}}}function jd(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function qd(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var Fl=function(t){this.x=t.clientX,this.y=t.clientY,this.lastX=this.x,this.lastY=this.y,this.id=t.identifier,this.createdAt=Date.now()};Fl.prototype.move=function(t){this.lastX=this.x,this.lastY=this.y,this.x=t.clientX,this.y=t.clientY};var ei=0,Gd=1,Yd=2,Kd=3,ti=function(t){this.allowRotation=t,this.state=ei,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0,this.stateChanged=!1};ti.prototype.reset=function(){this.state=ei,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0};ti.prototype.isUnknown=function(){return this.state===ei};ti.prototype.track=function(t,n){if(this.stateChanged=!1,this.state===ei){if(!(this.first&&this.second)){this.first={id:t.id,x:t.x,y:t.y},this.second={id:n.id,x:n.x,y:n.y};return}var r=this.first,i=this.second;if(t.id===i.id&&n.id===r.id){var o=r;r=i,i=o}var s=r.y-i.y,a=r.x-i.x,l=t.y-n.y,u=t.x-n.x,f=Math.abs(Math.hypot(s,a)-Math.hypot(l,u)),d=Math.atan2(s,a),h=Math.abs(d-Math.atan2(l,u));d=Math.abs(d)*180/Math.PI;var g=60,y=d<g||180-d<g;if(y&&this.allowRotation&&Math.abs(t.createdAt-n.createdAt)<100){var w=t.x-r.x+n.x-i.x,b=t.y-r.y+n.y-i.y;Math.abs(w)<10&&Math.abs(b)>42&&(this.canIncline=!0)}this.canIncline?(this.canRotate=!1,this.canScale=!1,this.canIncline=!0,this.state=Kd):h>.1&&this.allowRotation?(this.canRotate=!0,this.canScale=!0,this.canIncline=!1,this.state=Yd):f>15&&(this.canRotate=!1,this.canScale=!0,this.canIncline=!1,this.state=Gd),this.stateChanged=!0}};function Xd(e,t){var n=!1,r=new Map,i=t.allowRotation,o=t.allowPinchRotation,s=t.panAnimation,a=t.rotateAnimation,l=new ti(o&&i),u,f=Date.now(),d=f;return g(),{dispose:h};function h(){e.removeEventListener("touchstart",y,{passive:!1}),E()}function g(){e.addEventListener("touchstart",y,{passive:!1})}function y(A){n||(S(),n=!0),s.cancel(),a.cancel(),A.touches.length===1&&s.start();for(var C=0;C<A.touches.length;++C){var T=A.touches[C];r.has(T.identifier)||r.set(T.identifier,new Fl(T))}A.stopPropagation(),A.preventDefault()}function w(A){for(var C=Date.now(),T=0,m=0,x=0,P=0,L,I,R=!1,j=A.touches,$=0;$<j.length;++$){var q=j[$],k=r.get(q.identifier);!k||(k.move(q),x+=k.x,P+=k.y,T+=k.x-k.lastX,m+=k.y-k.lastY,L?I||(I=k):L=k)}var W=j.length;if(T/=W,m/=W,x/=W,P/=W,I||l.reset(),L&&I){d=C;var G=I.x-L.x,Z=I.y-L.y,z=I.lastX-L.lastX,V=I.lastY-L.lastY,Y=Math.hypot(G,Z)/Math.hypot(z,V)-1,X=Math.atan2(Z,G)-Math.atan2(V,z);if(l.track(L,I),l.stateChanged&&(a.start(),s.cancel()),l.canScale&&(t.zoomToClientCoordinates(x,P,Y),R=!0),l.canRotate&&(t.rotateByAngle(X,0),R=!0),l.canIncline){var te=I.y-I.lastY+L.y-L.lastY;t.rotateByAbsoluteOffset(0,te),R=!0}A.preventDefault(),A.stopPropagation()}var ie=C-f,ve=l.canIncline||ie<300||A.touches.length>1&&l.isUnknown();(T!==0||m!==0)&&!ve&&(t.panByAbsoluteOffset(T,m),R=!0),R&&t.redraw()}function b(A){var C=Date.now(),T=C-f;f=C;for(var m=A.changedTouches,x=0;x<m.length;++x){var P=m[x];r.delete(P.identifier)}if(A.touches.length<2&&(l.reset(),a.stop(),s.stop()),A.touches.length===0&&r.clear(),r.size===0&&A.changedTouches.length===1){if(n=!1,E(),s.stop(),T<350&&C-d>350){var L=A.changedTouches[0],I=Math.abs(L.clientX-u.clientX),R=Math.abs(L.clientY-u.clientY);Math.hypot(I,R)<30&&t.zoomToClientCoordinates(u.clientX,u.clientY,.5,!0)}u=A.changedTouches[0]}}function S(){document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",b,{passive:!1}),document.addEventListener("touchcancel ",b,{passive:!1})}function E(){document.removeEventListener("touchmove",w),document.removeEventListener("touchend",b),document.removeEventListener("touchcancel ",b)}}function Is(e,t,n){var r=e*Math.cos(t),i=e*Math.sin(t)*Math.cos(n),o=e*Math.sin(t)*Math.sin(n);return[i,o,r]}function Je(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function Ot(e,t){return e===void 0?t:e}function ht(e,t,n){return Math.abs(e)<t?n:e}function Zd(e,t){var n=0,r=0,i=0,o=0,s=0,a=0,l=0,u=0,f=0,d=0,h=0,g=0,y=0;return w(),{dispose:b};function w(){e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keydown",A),e.addEventListener("keyup",C)}function b(){e.removeEventListener("keydown",A),e.removeEventListener("keyup",C),cancelAnimationFrame(n)}function S(){n=0;var m=.9,x=!1;if(s=ht(s*m+r,.5,0),a=ht(a*m+i,.5,0),l=ht(l*m+o,.5,0),(s||a)&&(t.panByAbsoluteOffset(s,a),x=!0),l&&(t.slideCenterUpDown(l),x=!0),u=ht(u*m+f/2,Math.PI/360,0),g=ht(g*m+y/6,Math.PI/360,0),(u||g)&&(t.rotateByAbsoluteOffset(u,g),x=!0),d=ht(d*.7+h,.5,0),d){var P=Math.sign(d)*.025;t.zoomCenterByScaleFactor(P,0,0),x=!0}x&&(t.redraw(),E())}function E(){n||(n=requestAnimationFrame(S))}function A(m){T(m,1)}function C(m){T(m,0)}function T(m,x){if(!Qd(m)){switch(m.which){case 81:f=-x;break;case 69:f=x;break;case 187:h=x;break;case 189:h=-x;break;case 82:y=x;break;case 70:y=-x;break;case 37:case 65:r=x;break;case 39:case 68:r=-x;break;case 38:case 87:i=x;break;case 40:case 83:i=-x;break;case 71:o=-x;break;case 84:o=x;break}E()}}}function Qd(e){return e.altKey||e.ctrlKey||e.metaKey}function Jd(e,t){var n,r,i,o=t.allowRotation,s=t.panAnimation,a=t.rotateAnimation;return e.addEventListener("wheel",g,{passive:!1}),e.addEventListener("mousedown",u,{passive:!1}),e.addEventListener("dblclick",h,{passive:!1}),{dispose:l};function l(){e.removeEventListener("wheel",g,{passive:!1}),e.removeEventListener("mousedown",u,{passive:!1}),e.removeEventListener("dblclick",h,{passive:!1}),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)}function u(w){var b=w.button===1&&window.event!==null||w.button===0;!b||(document.addEventListener("mousemove",f),document.addEventListener("mouseup",d),n=w.clientX,r=w.clientY,i=w.altKey&&o,s.cancel(),a.cancel(),i?a.start():s.start())}function f(w){var b=w.clientY-r,S=w.clientX-n;i?t.rotateByAbsoluteOffset(S,b):t.panByAbsoluteOffset(S,b),n=w.clientX,r=w.clientY,t.redraw()}function d(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d),i?a.stop():s.stop()}function h(w){t.zoomToClientCoordinates(w.clientX,w.clientY,.5,!0),w.preventDefault(),w.stopPropagation()}function g(w){var b=w.deltaMode>0?100:1,S=y(-w.deltaY*b);t.zoomToClientCoordinates(w.clientX,w.clientY,S),w.preventDefault()}function y(w){return Math.sign(w)*Math.min(.25,Math.abs(w/128))}}function ko(e,t){if(typeof e=="string"){var n=document.querySelector(e);if(!n)throw new Error("Cannot resolve input target element: "+e);return n}return e||t}var Ll=function(t){this.drawContext=t.getDrawContext(),this.updated=!1};function kl(e){var t=e.getDrawContext(),n=t.view,r=Math.PI*2,i=Math.PI*1.618,o=new Ll(e),s=e.getOptions()||{},a=s.allowRotation===void 0?!0:!!s.allowRotation,l=s.allowPinchRotation===void 0?a:!!s.allowPinchRotation,u=Ot(s.minPhi,-1/0),f=Ot(s.maxPhi,1/0),d=Je(-Math.PI/2,u,f),h=Ot(s.minTheta,0),g=Ot(s.maxTheta,Math.PI),y=Je(0,h,g),w=Ot(s.minZoom,-1/0),b=Ot(s.maxZoom,1/0),S=Je(1,w,b),E=n.center,A=n.position,C=Rs(Y,ie),T=Rs(X,te,{minVelocity:1}),m=[0,0,1],x={dispose:$,setViewBox:j,panByAbsoluteOffset:G,slideCenterUpDown:V,rotateByAngle:k,rotateByAbsoluteOffset:W,zoomCenterByScaleFactor:ve,zoomToClientCoordinates:Z,redraw:Me,allowRotation:a,allowPinchRotation:l,rotateAnimation:T,panAnimation:C},P=ko(s.inputTarget,t.canvas),L=Zd(P,x),I=Xd(P,x),R=Jd(P,x);return Me(),x;function j(){return A=n.position,S=Math.hypot(A[2]),E[0]=A[0],E[1]=A[1],E[2]=0,y=Je(0,h,g),d=Je(-Math.PI/2,u,f),Me(),x}function $(){T.cancel(),C.cancel(),I.dispose(),L.dispose(),R.dispose()}function q(se,de){var ue=e.getSceneCoordinate(se,de),le=Bn(ue,ue,A);Jr(le,le);var ke=Gi(m,le);if(Math.abs(ke)>1e-7){var Ue=Gi(Bn([0,0,0],E,A),m)/ke;return Fo([0,0,0],A,le,Ue)}}function k(se,de){d=Je(d+se,u,f),y=Je(y+de,h,g)}function W(se,de){if(!!a){var ue=t.width/t.height;d-=r*se/t.width,y-=i*de/t.height*ue,y=Je(y,h,g),d=Je(d,u,f)}}function G(se,de){var ue=t.width/t.height,le=2*S*Math.tan(t.fov/2),ke=ue*le*se/(t.width/t.pixelRatio),Ue=le*de/(t.height/t.pixelRatio);z(ke,-Ue)}function Z(se,de,ue,le){var ke=q(se,de);if(!!ke){var Ue=ke[0]-E[0],c=ke[1]-E[1];if(le){var p={r:S,x:E[0],y:E[1]},v={r:Je(S*(1-ue),w,b),x:p.x+Ue*ue,y:p.y+c*ue};Lo(p,v,{step:function(M){S=M.r,E[0]=M.x,E[1]=M.y,Me()}})}else ve(ue,Ue,c),Me()}}function z(se,de){var ue=Math.cos(d),le=Math.sin(d);E[0]+=ue*de+le*se,E[1]+=le*de-ue*se}function V(se){E[2]+=se*S*.001}function Y(){return{x:E[0],y:E[1],z:E[2]}}function X(){return{x:d,y,z:0}}function te(se,de){y=Je(de,h,g),d=Je(se,u,f),Me()}function ie(se,de,ue){kr(E,se,de,ue),Me()}function ve(se,de,ue){var le=Je(S*(1-se),w,b);le!==S&&(S=le,E[0]+=de*se,E[1]+=ue*se)}function Me(){var se=Is(S,y,d),de=Math.hypot(S,1),ue=y-Math.acos(S/de),le=Is(de,ue,d);if(Bn(le,le,se),kr(A,se[0],se[1],se[2]),md(A,A,E),Po(n.cameraWorld,A,E,le),Mo(n.orientation,n.cameraWorld),n.update(),o.updated=!1,e.fire("transform",o),o.updated){Me();return}e.getRoot().scheduleMVPUpdate(),e.renderFrame()}}ed(Float64Array);function Ki(e,t){t===void 0&&(t={});var n,r,i=t.devicePixelRatio||window.devicePixelRatio,o=t.wglContextOptions,s=e.getContext(t.version===2?"webgl2":"webgl",o)||e.getContext("experimental-webgl",o);s.enable(s.BLEND),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var a=0,l=new Ae,u=!1,f=!1,d=ko(t.inputTarget,e),h,g=new jt,y=Lt(),w=Lt(),b=t.fov===void 0?Math.PI*45/180:t.fov,S=t.near===void 0?.01:t.near,E=t.far===void 0?1/0:t.far,A={width:window.innerWidth,height:window.innerHeight,pixelRatio:i,canvas:e,projection:y,inverseProjection:w,view:g,fov:b};X();var C=Qr({appendChild:ke,getSceneCoordinate:ve,getClientCoordinate:Me,getTransform:W,getRoot:$,getGL:j,removeChild:Ue,setViewBox:se,setClearColor:G,getClearColor:Z,clear:le,dispose:V,renderFrame:de,getPixelRatio:P,setPixelRatio:R,getCameraController:k,setCameraController:q,getDrawContext:L,getOptions:I}),T=C.on;C.on=c,l.bindScene(C);var m=(t.controls||kl)(C),x;return z(),de(),C;function P(){return i}function L(){return A}function I(){return t}function R(p){i=p,A.pixelRatio=i,X()}function j(){return s}function $(){return l}function q(p){return m&&m.dispose(),m=p(C,A),m}function k(){return m}function W(){return l.model}function G(p,v,_,M){s.clearColor(p,v,_,M)}function Z(){return s.getParameter(s.COLOR_CLEAR_VALUE)}function z(){d.addEventListener("mousemove",ie),x=Td(d,te),window.addEventListener("resize",Y,!0)}function V(){d.removeEventListener("mousemove",ie),x&&x(),window.removeEventListener("resize",Y,!0),m.dispose(),l.dispose(),a&&(cancelAnimationFrame(a),a=0)}function Y(){X()}function X(){t.size?(n=e.width=t.size.width,r=e.height=t.size.height):(n=e.width=e.offsetWidth*i,r=e.height=e.offsetHeight*i),h=e.getBoundingClientRect(),s.viewport(0,0,n,r),A.width=n,A.height=r,l.worldTransformNeedsUpdate=!0,hd(y,b,n/r,S,E),Kn(w,y),de()}function te(p){if(!!u){var v=ve(p.clientX,p.clientY);!v||C.fire("click",{originalEvent:p,x:v[0],y:v[1],z:v[2]})}}function ie(p){if(!!f){var v=ve(p.clientX,p.clientY);!v||C.fire("mousemove",{originalEvent:p,x:v[0],y:v[1],z:v[2]})}}function ve(p,v){p-=h.left,v-=h.top;var _=C.getPixelRatio(),M=_*p/n*2-1,F=(1-_*v/r)*2-1,O=[0,0,0],B=mn(O,[M,F,0],w);mn(B,B,g.cameraWorld),Bn(B,B,g.position),Jr(B,B);var U=0,N=(U-g.position[2])/B[2];return B[2]>0,Fo(B,g.position,B,N),B}function Me(p,v,_){_===void 0&&(_=0);var M=Wt(Lt(),y,g.matrix);Wt(M,M,l.model);var F=_l([0,0,0,0],[p,v,_,1],M),O=C.getPixelRatio(),B=n*(F[0]/F[3]+1)*.5/O,U=r*(1-(F[1]/F[3]+1)*.5)/O;return{x:B,y:U}}function se(p){var v=A.pixelRatio,_=v*Math.max((p.top-p.bottom)/2,(p.right-p.left)/2),M=A.view,F=M.position,O=M.orientation;F[0]=(p.left+p.right)/2,F[1]=(p.top+p.bottom)/2,F[2]=_/Math.tan(A.fov/2),Cl(O,0,0,0,1),A.view.update(),m.setViewBox&&m.setViewBox(p)}function de(p){if(p===void 0&&(p=!1),p)return ue();a||(a=requestAnimationFrame(ue))}function ue(){s.clear(s.COLOR_BUFFER_BIT),l.updateWorldTransform(),l.draw(s,A),a=0}function le(){s.clear(s.COLOR_BUFFER_BIT)}function ke(p,v){v===void 0&&(v=!1),l.appendChild(p,v),C.fire("append-child",p)}function Ue(p){l.removeChild(p),C.fire("remove-child",p)}function c(p,v,_){return p==="click"&&(u=!0),p==="mousemove"&&(f=!0),T(p,v,_)}}var $e={compile:eh,link:th,getLocations:nh,getAttributes:Rl,getUniforms:Il,initBuffer:rh};function eh(e,t,n){var r=e.createShader(t);if(!r)throw new Error("Failed to create a shared "+n);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r)||"Failed to compile shader "+n);return r}function th(e,t,n){var r=e.createProgram();if(!r)throw new Error("Failed to link a program");if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(r)||"Failed to link a program");return r}function nh(e,t){return{attributes:Rl(e,t),uniforms:Il(e,t)}}function Rl(e,t){for(var n=Object.create(null),r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;++i){var o=e.getActiveAttrib(t,i);if(o){var s=o.name;n[s]=e.getAttribLocation(t,s)}}return n}function Il(e,t){for(var n=Object.create(null),r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i);if(o){var s=o.name;n[s]=e.getUniformLocation(t,s)}}return n}function rh(e,t,n,r){var i=e.createBuffer();if(!i)throw new Error("Failed to create a buffer");e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.vertexAttribPointer(r,n,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)}function ni(){var e=new Map;return{get:t,set:n,remove:r};function t(i){if(!!i){for(var o=e,s,a=0;a<i.length;++a){var l=i[a];if(s=o.get(l),!s)return;o=s}return s}}function n(i,o){for(var s=e,a=0;a<i.length-1;++a){var l=i[a],u=s.get(l);u||(u=new Map,s.set(l,u)),s=u}s.set(i[i.length-1],o)}function r(i){for(var o=e,s=0;s<i.length-1;++s){var a=i[s],l=o.get(a);if(!l)return;o=l}o.delete(i[i.length-1])}}var gi=ni();function ih(e,t){var n=!!t.allowColors,r=[n,e],i=gi.get(r);if(!i){var o=oh(n),s=o.fragmentShaderCode,a=o.vertexShaderCode,l=$e.compile(e,e.VERTEX_SHADER,a),u=$e.compile(e,e.FRAGMENT_SHADER,s);i=$e.link(e,l,u),gi.set(r,i)}var f=$e.getLocations(e,i),d=e.getExtension("ANGLE_instanced_arrays");if(!d)throw new Error("PointCollection requires instancing. Please ping @anvaka so that we can add fallback");var h=e.createBuffer();if(!h)throw new Error("failed to create a nodesBuffer");var g=e.createBuffer(),y=new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5]),w=t.is3D?3:2,b=w*4,S=(w+1)*4,E=(w+2)*4,A=(w+1)*4;return{draw:T,dispose:C};function C(){e.deleteProgram(i),gi.remove(r)}function T(m){if(!!t.count){if(e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.useProgram(i),e.uniformMatrix4fv(f.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(f.uniforms.projectionMatrix,!1,m.projection),e.uniformMatrix4fv(f.uniforms.uView,!1,m.view.matrix),e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,y,e.STATIC_DRAW),e.enableVertexAttribArray(f.attributes.aPoint),e.vertexAttribPointer(f.attributes.aPoint,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t.buffer,e.DYNAMIC_DRAW),n)e.enableVertexAttribArray(f.attributes.aPosition),e.vertexAttribPointer(f.attributes.aPosition,w,e.FLOAT,!1,E,0),e.enableVertexAttribArray(f.attributes.aPointSize),e.vertexAttribPointer(f.attributes.aPointSize,1,e.FLOAT,!1,E,b),e.enableVertexAttribArray(f.attributes.aColor),e.vertexAttribPointer(f.attributes.aColor,4,e.UNSIGNED_BYTE,!0,E,S);else{e.enableVertexAttribArray(f.attributes.aPosition),e.vertexAttribPointer(f.attributes.aPosition,w,e.FLOAT,!1,A,0),e.enableVertexAttribArray(f.attributes.aPointSize),e.vertexAttribPointer(f.attributes.aPointSize,1,e.FLOAT,!1,A,b);var x=t.color;e.uniform4f(f.uniforms.uColor,x.r,x.g,x.b,x.a)}d.vertexAttribDivisorANGLE(f.attributes.aPoint,0),d.vertexAttribDivisorANGLE(f.attributes.aPosition,1),d.vertexAttribDivisorANGLE(f.attributes.aPointSize,1),d.vertexAttribDivisorANGLE(f.attributes.aColor,1),d.drawArraysInstancedANGLE(e.TRIANGLES,0,6,t.count),d.vertexAttribDivisorANGLE(f.attributes.aPosition,0),d.vertexAttribDivisorANGLE(f.attributes.aPoint,0),d.vertexAttribDivisorANGLE(f.attributes.aPointSize,0),d.vertexAttribDivisorANGLE(f.attributes.aColor,0),e.disable(e.DEPTH_TEST)}}}function oh(e){var t=`
  precision highp float;
  varying vec4 vColor;
  varying vec3 vPosition;

  void main() {
    float dist = length(vPosition);

    if (dist >= 0.5) {discard;}
    gl_FragColor = vColor;
  }
  `,n=`
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;

  attribute float aPointSize;
  attribute vec3 aPosition;
  attribute vec3 aPoint;
  `+(e?"attribute vec4 aColor;":"")+`

  varying vec4 vColor;
  varying vec3 vPosition;

  void main() {
    vPosition = aPoint;
    gl_Position = projectionMatrix * uView * uModel * vec4( aPosition + aPoint * aPointSize, 1.0 );
    vColor = `+(e?"aColor.abgr":"uColor")+`;
  }
`;return{fragmentShaderCode:t,vertexShaderCode:n}}var Ro=function(t,n,r,i){i===void 0&&(i=1),this.r=t,this.g=n,this.b=r,this.a=i===void 0?1:i},Io=function(t,n,r){this.offset=n,this._points=t,r!==void 0&&(this.data=r)};Io.prototype.update=function(t){var n=this.offset,r=this._points.positions,i=this._points.is3D;r[n]=t.x,n++,r[n]=t.y,n++,i&&(r[n]=t.z||0,n++);var o=t.size||this._points.size||1;o!==void 0&&(r[n]=o),this.setColor(t.color)};Io.prototype.setColor=function(t){if(!(!this._points.colors||t===void 0)){var n=this.offset+(this._points.is3D?4:3);this._points.colors[n]=t}};var sh=function(e){function t(n,r){if(n===void 0)throw new Error("Point capacity should be defined");e.call(this),this.is3D=!r||r.is3D===void 0||r.is3D,this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.itemsPerPoint=3,this.is3D&&(this.itemsPerPoint+=1),this.allowColors&&(this.itemsPerPoint+=1),this.capacity=n,this.count=0,this.color=new Ro(1,1,1,1),this._program=null,this.buffer=new ArrayBuffer(n*this.itemsPerPoint*4),this.positions=new Float32Array(this.buffer),this.colors=this.allowColors?new Uint32Array(this.buffer):null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.draw=function(r,i){this._program||(this._program=ih(r,this)),this._program.draw(i)},t.prototype.dispose=function(){this._program&&(this._program=null)},t.prototype.add=function(r,i){if(!r)throw new Error("Point is required");this.count>=this.capacity&&this._extendArray();var o=this.count*this.itemsPerPoint,s=new Io(this,o,i);return s.update(r),this.count+=1,s},t.prototype._extendArray=function(){var r=new ArrayBuffer(this.buffer.byteLength*2),i=new Float32Array(r);this.positions&&i.set(this.positions),this.buffer=r,this.positions=i,this.allowColors&&(this.colors=new Uint32Array(r)),this.capacity*=2},t}(Ae),mi=ni();function Xi(e,t){var n=!!t.allowColors,r=[n,e],i=mi.get(r);if(!i){var o=ah(n),s=o.frag,a=o.vert,l=$e.compile(e,e.VERTEX_SHADER,a),u=$e.compile(e,e.FRAGMENT_SHADER,s);i=$e.link(e,l,u),mi.set(r,i)}var f=$e.getLocations(e,i),d=e.createBuffer(),h=t.is3D?3:2,g=(h+1)*4,y=h*4,w={draw:S,dispose:b};return w;function b(){e.deleteBuffer(d),e.deleteProgram(i),mi.remove(r)}function S(E){if(t.count!==0){var A=t.buffer;e.useProgram(i),e.uniformMatrix4fv(f.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(f.uniforms.projectionMatrix,!1,E.projection),e.uniformMatrix4fv(f.uniforms.uView,!1,E.view.matrix);var C=t.color;e.uniform4f(f.uniforms.uColor,C.r,C.g,C.b,C.a),e.bindBuffer(e.ARRAY_BUFFER,d),t.isDirtyBuffer&&(e.bufferData(e.ARRAY_BUFFER,A,e.STATIC_DRAW),t.isDirtyBuffer=!1),e.enableVertexAttribArray(f.attributes.aPosition),n?(e.vertexAttribPointer(f.attributes.aPosition,h,e.FLOAT,!1,g,0),e.enableVertexAttribArray(f.attributes.aColor),e.vertexAttribPointer(f.attributes.aColor,4,e.UNSIGNED_BYTE,!0,g,y)):e.vertexAttribPointer(f.attributes.aPosition,h,e.FLOAT,!1,4*h,0),e.drawArrays(e.LINES,0,t.count*2)}}}function ah(e){return{vert:`attribute vec3 aPosition;
  varying vec4 vColor;
  `+(e?"attribute vec4 aColor;":"")+`
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;

void main() {
  gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);
  vColor = `+(e?"aColor.abgr":"uColor")+`;
}`,frag:`precision mediump float;
    varying vec4 vColor;
    void main() {
      gl_FragColor = vColor;
    }`}}var yi=ni();function lh(e,t){var n=Number.isFinite(t.width)&&t.width>0&&t.width!==1,r;if(n){if(r=e.getExtension("ANGLE_instanced_arrays"),!r)return console.error("ANGLE_instanced_arrays is not supported, thick lines are not possible"),Xi(e,t)}else return Xi(e,t);var i=!!t.allowColors,o=[i,e],s=yi.get(o);if(!s){var a=uh(i),l=a.frag,u=a.vert,f=$e.compile(e,e.VERTEX_SHADER,u),d=$e.compile(e,e.FRAGMENT_SHADER,l);s=$e.link(e,f,d),yi.set(o,s)}var h=$e.getLocations(e,s),g=e.createBuffer(),y=t.is3D?3:2,w=i?2*(y+1)*4:2*y*4,b=e.createBuffer(),S=new Float32Array([-.5,0,-.5,1,.5,1,-.5,0,.5,1,.5,0]),E={isThickWire:!0,draw:C,dispose:A};return E;function A(){g&&e.deleteBuffer(g),b&&e.deleteBuffer(b),h&&(e.disableVertexAttribArray(h.attributes.aFrom),e.disableVertexAttribArray(h.attributes.aFromColor),e.disableVertexAttribArray(h.attributes.aTo),e.disableVertexAttribArray(h.attributes.aToColor),e.disableVertexAttribArray(h.attributes.aPosition)),e.deleteProgram(s),yi.remove(o)}function C(T){if(t.count!==0){var m=t.buffer;e.useProgram(s),e.uniformMatrix4fv(h.uniforms.uModel,!1,t.worldModel),e.uniformMatrix4fv(h.uniforms.projectionMatrix,!1,T.projection),e.uniformMatrix4fv(h.uniforms.uView,!1,T.view.matrix),e.uniform3fv(h.uniforms.uOrigin,T.view.position),e.uniform1f(h.uniforms.uWidth,t.width),e.uniform2f(h.uniforms.uResolution,T.width,T.height);var x=t.color;e.uniform4f(h.uniforms.uColor,x.r,x.g,x.b,x.a),e.bindBuffer(e.ARRAY_BUFFER,b),e.bufferData(e.ARRAY_BUFFER,S,e.STATIC_DRAW),e.enableVertexAttribArray(h.attributes.aPosition),e.vertexAttribPointer(h.attributes.aPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,m,e.DYNAMIC_DRAW),e.enableVertexAttribArray(h.attributes.aFrom),e.vertexAttribPointer(h.attributes.aFrom,y,e.FLOAT,!1,w,0),i?(e.enableVertexAttribArray(h.attributes.aFromColor),e.vertexAttribPointer(h.attributes.aFromColor,4,e.UNSIGNED_BYTE,!0,w,y*4),e.enableVertexAttribArray(h.attributes.aTo),e.vertexAttribPointer(h.attributes.aTo,y,e.FLOAT,!1,w,(y+1)*4),e.enableVertexAttribArray(h.attributes.aToColor),e.vertexAttribPointer(h.attributes.aToColor,4,e.UNSIGNED_BYTE,!0,w,(2*y+1)*4)):(e.enableVertexAttribArray(h.attributes.aTo),e.vertexAttribPointer(h.attributes.aTo,y,e.FLOAT,!1,w,y*4)),r.vertexAttribDivisorANGLE(h.attributes.aPosition,0),r.vertexAttribDivisorANGLE(h.attributes.aTo,1),r.vertexAttribDivisorANGLE(h.attributes.aFrom,1),r.vertexAttribDivisorANGLE(h.attributes.aFromColor,1),r.vertexAttribDivisorANGLE(h.attributes.aToColor,1),r.drawArraysInstancedANGLE(e.TRIANGLES,0,6,t.count),r.vertexAttribDivisorANGLE(h.attributes.aFrom,0),r.vertexAttribDivisorANGLE(h.attributes.aTo,0),r.vertexAttribDivisorANGLE(h.attributes.aFromColor,0),r.vertexAttribDivisorANGLE(h.attributes.aToColor,0)}}}function uh(e){return{vert:`attribute vec3 aPosition, aFrom, aTo;
    varying vec4 vColor;
    `+(e?"attribute vec4 aFromColor, aToColor;":"")+`
    uniform vec4 uColor;
    uniform mat4 projectionMatrix;
    uniform mat4 uModel;
    uniform mat4 uView;
    uniform float uWidth;
    uniform vec2 uResolution;
  
  void main() {
    // let's get the model point to clip space:
    vec4 clip0 = projectionMatrix * uView * uModel * vec4(aFrom, 1.0);
    vec4 clip1 = projectionMatrix * uView * uModel * vec4(aTo, 1.0);

    // And from the clip space move to the screen pixels 
    // (as we set width of the lines in pixels)
    vec2 screen0 = uResolution * (0.5 * clip0.xy/clip0.w + 0.5);
    vec2 screen1 = uResolution * (0.5 * clip1.xy/clip1.w + 0.5);

    // this is direction along the x axis
    vec2 xBasis = normalize(screen1 - screen0);
    // But since we set the width, we get the direction along the Y:
    vec2 yBasis = vec2(-xBasis.y, xBasis.x);

    // Offset the original points:
    vec2 pt0 = screen0 + uWidth * aPosition.x * yBasis;
    vec2 pt1 = screen1 + uWidth * aPosition.x * yBasis;

    // and interpolate along the Y of the instanced geometry 
    // (remember, Y changes from 0 to 1):
    vec2 pt = mix(pt0, pt1, aPosition.y);
    vec4 clip = mix(clip0, clip1, aPosition.y);

    // Finally move back to the clip space:
    gl_Position = vec4(clip.w * (2.0 * pt/uResolution - 1.0), clip.z, clip.w);
    vColor = `+(e?"mix(aFromColor.abgr, aToColor.abgr, aPosition.y)":"uColor")+`;
  }`,frag:`precision mediump float;
    varying vec4 vColor;
    void main() {
      gl_FragColor = vColor;
    }`}}var Bo=function(t,n){this.offset=n,this._wire=t,this.update=t.is3D?this.update3D:this.update2D};Bo.prototype.update2D=function(t,n){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,i=this.offset;r[i+0]=t.x,r[i+1]=t.y,i+=2;var o=this._wire.allowColors;o&&(t.color!==void 0&&(this._wire.colors[i]=t.color),i+=1),r[i+0]=n.x,r[i+1]=n.y,o&&n.color!==void 0&&(this._wire.colors[i+2]=n.color)};Bo.prototype.update3D=function(t,n){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,i=this.offset;r[i+0]=t.x,r[i+1]=t.y,r[i+2]=t.z||0,i+=3;var o=this._wire.allowColors;o&&(t.color!==void 0?this._wire.colors[i]=t.color:this._wire.colors[i]=Bs(this._wire.color),i+=1),r[i+0]=n.x,r[i+1]=n.y,r[i+2]=n.z||0,o&&(n.color!==void 0?this._wire.colors[i+3]=n.color:this._wire.colors[i+3]=Bs(this._wire.color))};function Bs(e){var t=Math.round(e.r*255),n=Math.round(e.g*255),r=Math.round(e.b*255),i=Math.round(e.a*255);return t<<24|n<<16|r<<8|i}function fh(e,t,n){n===void 0&&(n=.5);var r=Ds(e),i=Ds(t);return[r[0]*n+(1-n)*i[0],r[1]*n+(1-n)*i[1],r[2]*n+(1-n)*i[2],r[3]*n+(1-n)*i[3]]}function Ds(e){return[e>>24&255/255,e>>16&255/255,e>>8&255/255,e&255/255]}function Zi(e){var t=wi(e[0]),n=wi(e[1]),r=wi(e[2]);return"#"+t+n+r}function wi(e){var t=Math.floor(e*255).toString(16);return t.length===1?"0"+t:t}var hn=function(e){function t(n,r){e.call(this);var i=4;this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.is3D=!r||r.is3D===void 0||r.is3D,this.itemsPerLine=4,this.is3D&&(this.itemsPerLine+=2),this.allowColors&&(this.itemsPerLine+=2),this.capacity=n,this.count=0,this.color=new Ro(1,1,1,1),this.type="WireCollection",this._program=null,this.buffer=new ArrayBuffer(n*this.itemsPerLine*i),this.positions=new Float32Array(this.buffer),this.width=r&&r.width||1,this.allowColors?this.colors=new Uint32Array(this.buffer):this.colors=null,this.isDirtyBuffer=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.draw=function(r,i){this._program||(this._program=Os(this.width)?lh(r,this):Xi(r,this)),this._program.draw(i)},t.prototype.setLineWidth=function(r){if(r!==this.width){var i=Os(r);if(this.width=r,!(!this._program||!this.scene)){if(i&&this._program.isThickWire){this.scene.renderFrame();return}if(this.parent){var o=this.parent;o.removeChild(this),this.dispose(),o.appendChild(this)}}}},t.prototype.add=function(r){if(!r)throw new Error("Line is required");this.count>=this.capacity&&this._extendArray();var i=this.count*this.itemsPerLine,o=new Bo(this,i);return o.update(r.from,r.to),this.count+=1,o},t.prototype.getLineColor=function(r,i){return this.allowColors&&r&&r.color&&i&&i.color?fh(r.color,i.color):[this.color.r,this.color.g,this.color.b,this.color.a]},t.prototype.forEachLine=function(r){var i=this,o=i.positions,s=i.count,a=i.itemsPerLine,l=s*a;if(this.is3D)for(var u=0;u<l;u+=a){var f={x:o[u],y:o[u+1],z:o[u+2]},d=u+3;this.colors&&(f.color=this.colors[u+3],d+=1);var h={x:o[d],y:o[d+1],z:o[d+2]};this.colors&&(h.color=this.colors[d+3]),r(f,h)}else for(var g=0;g<l;g+=a){var y={x:o[g],y:o[g+1],z:0},w=g+2;this.colors&&(y.color=this.colors[g+2],w+=1);var b={x:o[w],y:o[w+1],z:0};this.colors&&(b.color=this.colors[w+2]),r(y,b)}},t.prototype.dispose=function(){this._program&&(this._program=null)},t.prototype._extendArray=function(){var r=new ArrayBuffer(this.buffer.byteLength*2),i=new Float32Array(r);this.positions&&i.set(this.positions),this.buffer=r,this.positions=i,this.allowColors&&(this.colors=new Uint32Array(r)),this.capacity*=2},t}(Ae);function Os(e){return e!==void 0&&e!==1&&e>0}var bi=ni();function ch(e,t){var n=t.allowColors,r=t.is3D;n=!!n;var i=[n,e],o=bi.get(i),s=2+(n?1:0)+(r?1:0),a=t.buffer;if(!o){var l=dh(n),u=l.lineFSSrc,f=l.lineVSSrc,d=$e.compile(e,e.VERTEX_SHADER,f),h=$e.compile(e,e.FRAGMENT_SHADER,u);o=$e.link(e,d,h),bi.set(i,o)}var g=$e.getLocations(e,o),y=r?3:2,w=(y+1)*4,b=y*4,S=e.createBuffer(),E={draw:C,dispose:A};return E;function A(){e.deleteBuffer(S),e.deleteProgram(o),bi.remove(i)}function C(T,m){if(a.length!==0){e.useProgram(o),e.uniformMatrix4fv(g.uniforms.uModel,!1,T.worldModel),e.uniformMatrix4fv(g.uniforms.projectionMatrix,!1,m.projection),e.uniformMatrix4fv(g.uniforms.uView,!1,m.view.matrix),e.uniform3fv(g.uniforms.uOrigin,m.view.position);var x=T.color,P=T.nextElementIndex,L=T.madeFullCircle;if(e.uniform4f(g.uniforms.uColor,x.r,x.g,x.b,x.a),e.bindBuffer(e.ARRAY_BUFFER,S),e.enableVertexAttribArray(g.attributes.aPosition),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW),n?(e.vertexAttribPointer(g.attributes.aPosition,y,e.FLOAT,!1,w,0),e.enableVertexAttribArray(g.attributes.aColor),e.vertexAttribPointer(g.attributes.aColor,4,e.UNSIGNED_BYTE,!0,w,b)):e.vertexAttribPointer(g.attributes.aPosition,y,e.FLOAT,!1,0,0),L){var I=a.byteLength/4/s-P;e.drawArrays(e.LINE_STRIP,P,I),P>1&&e.drawArrays(e.LINE_STRIP,0,P-1)}else e.drawArrays(e.LINE_STRIP,1,P-1)}}}function dh(e){var t=`precision mediump float;
varying vec4 vColor;
void main() {
  gl_FragColor = vColor;
}
`,n=`attribute vec3 aPosition;
  varying vec4 vColor;
  `+(e?"attribute vec4 aColor;":"")+`
  uniform vec4 uColor;
  uniform mat4 projectionMatrix;
  uniform mat4 uModel;
  uniform mat4 uView;
  void main() {
    gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);
    vColor = `+(e?"aColor.abgr":"uColor")+`;
  }`;return{lineVSSrc:n,lineFSSrc:t}}var hh=function(e){function t(n,r){e.call(this);var i=4;this.drawCount=0,this.madeFullCircle=!1,this.allowColors=!r||r.allowColors===void 0||r.allowColors,this.is3D=!r||r.is3D===void 0||r.is3D,this.itemsPerLine=2,this.allowColors&&(this.itemsPerLine+=1),this.is3D&&(this.itemsPerLine+=1),this.capacity=n,this.nextElementIndex=1,this._program=null,this.color=new Ro(1,1,1,1),this.buffer=new ArrayBuffer((n+1)*this.itemsPerLine*i),this.positions=new Float32Array(this.buffer),this.allowColors?this.colors=new Uint32Array(this.buffer):this.colors=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.draw=function(r,i){this._program||(this._program=ch(r,this)),this._program.draw(this,i)},t.prototype.add=function(r){var i=this.nextElementIndex*this.itemsPerLine,o=this.positions;if(o[i]=r.x,i+=1,o[i]=r.y,i+=1,this.is3D&&(o[i]=r.z||0,i+=1),this.colors&&(this.colors[i]=r.color===void 0?4294967295:r.color),this.nextElementIndex+=1,this.drawCount+=1,this.nextElementIndex>this.capacity){this.nextElementIndex=1;var s=0;o[s]=r.x,s+=1,o[s]=r.y,s+=1,this.is3D&&(o[s]=r.z||0,s+=1),this.colors&&(this.colors[s]=this.colors[i]),this.madeFullCircle=!0}},t.prototype.dispose=function(){this._program&&(this._program.dispose(),this._program=null)},t}(Ae);function Bl(e){try{return window.WebGLRenderingContext?(e||(e=document.createElement("canvas")),!!(e.getContext("webgl")||e.getContext("experimental-webgl"))):!1}catch{return!1}}var Ns=ph;function ph(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=[],r={},i=0,o=e.multigraph?C:A,s=[],a=k,l=k,u=k,f=k,d={addNode:w,addLink:E,removeLink:P,removeNode:S,getNode:b,getNodeCount:T,getLinkCount:m,getLinksCount:m,getNodesCount:T,getLinks:x,forEachNode:Z,forEachLinkedNode:j,forEachLink:R,beginUpdate:u,endUpdate:f,clear:I,hasLink:L,hasNode:b,getLink:L};return Qr(d),h(),d;function h(){var z=d.on;d.on=V;function V(){return d.beginUpdate=u=W,d.endUpdate=f=G,a=g,l=y,d.on=z,z.apply(d,arguments)}}function g(z,V){s.push({link:z,changeType:V})}function y(z,V){s.push({node:z,changeType:V})}function w(z,V){if(z===void 0)throw new Error("Invalid node identifier");u();var Y=b(z);return Y?(Y.data=V,l(Y,"update")):(Y=new vh(z,V),l(Y,"add")),t.set(z,Y),f(),Y}function b(z){return t.get(z)}function S(z){var V=b(z);if(!V)return!1;u();var Y=V.links;if(Y){V.links=null;for(var X=0;X<Y.length;++X)P(Y[X])}return t.delete(z),l(V,"remove"),f(),!0}function E(z,V,Y){u();var X=b(z)||w(z),te=b(V)||w(V),ie=o(z,V,Y);return n.push(ie),Vs(X,ie),z!==V&&Vs(te,ie),a(ie,"add"),f(),ie}function A(z,V,Y){var X=_i(z,V);return new Us(z,V,Y,X)}function C(z,V,Y){var X=_i(z,V),te=r.hasOwnProperty(X);if(te||L(z,V)){te||(r[X]=0);var ie="@"+ ++r[X];X=_i(z+ie,V+ie)}return new Us(z,V,Y,X)}function T(){return t.size}function m(){return n.length}function x(z){var V=b(z);return V?V.links:null}function P(z){if(!z)return!1;var V=xi(z,n);if(V<0)return!1;u(),n.splice(V,1);var Y=b(z.fromId),X=b(z.toId);return Y&&(V=xi(z,Y.links),V>=0&&Y.links.splice(V,1)),X&&(V=xi(z,X.links),V>=0&&X.links.splice(V,1)),a(z,"remove"),f(),!0}function L(z,V){var Y=b(z),X;if(!Y||!Y.links)return null;for(X=0;X<Y.links.length;++X){var te=Y.links[X];if(te.fromId===z&&te.toId===V)return te}return null}function I(){u(),Z(function(z){S(z.id)}),f()}function R(z){var V,Y;if(typeof z=="function")for(V=0,Y=n.length;V<Y;++V)z(n[V])}function j(z,V,Y){var X=b(z);if(X&&X.links&&typeof V=="function")return Y?q(X.links,z,V):$(X.links,z,V)}function $(z,V,Y){for(var X,te=0;te<z.length;++te){var ie=z[te],ve=ie.fromId===V?ie.toId:ie.fromId;if(X=Y(t.get(ve),ie),X)return!0}}function q(z,V,Y){for(var X,te=0;te<z.length;++te){var ie=z[te];if(ie.fromId===V&&(X=Y(t.get(ie.toId),ie),X))return!0}}function k(){}function W(){i+=1}function G(){i-=1,i===0&&s.length>0&&(d.fire("changed",s),s.length=0)}function Z(z){if(typeof z!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+z);for(var V=t.values(),Y=V.next();!Y.done;){if(z(Y.value))return!0;Y=V.next()}}}function xi(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n=t.length,r;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function vh(e,t){this.id=e,this.links=null,this.data=t}function Vs(e,t){e.links?e.links.push(t):e.links=[t]}function Us(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function _i(e,t){return e.toString()+"\u{1F449} "+t.toString()}function Dl(e,t){t===void 0&&(t={});var n=e.getRoot();n.updateWorldTransform();var r=[],i=Object.assign({background:Zi(e.getClearColor()),write:o,scene:e},e.getDrawContext());return yh(i,t),s(n.children),wh(i,t),r.join(`
`);function o(a){r.push(a)}function s(a){for(var l={beforeWrite:t.beforeWrite||mh,round:t.round===void 0?void 0:t.round},u=0;u<a.length;++u){var f=a[u],d=gh(f);d&&bh(d,i,l),s(f.children)}}}function gh(e){if(!(!e||e.svgInvisible)&&e.forEachLine)return e}function mh(){return!0}function yh(e,t){var n="0 0 "+e.width+" "+e.height;e.write('<?xml version="1.0" encoding="utf-8"?>'),t.open&&e.write(t.open()),e.write(`<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="`+n+`">
<style>
  path {
   vector-effect: non-scaling-stroke;
  }
</style>
`),e.background&&e.write('<rect id="background" fill="'+e.background+'" x="0" y="0" width="'+e.width+'" height="'+e.height+'"></rect>')}function wh(e,t){t.close&&e.write(t.close()),e.write("</svg>")}function bh(e,t,n){if(!!e.scene){var r=n.beforeWrite,i=n.round,o=Ns(),s=new Map,a=e.multiColorSegment,l=_h(e,t,i);e.forEachLine(function(f,d){var h=l(f.x,f.y,f.z),g=l(d.x,d.y,d.z);if(!(h.isBehind||g.isBehind)&&Ah(h,g,t.width,t.height)){var y=Zi(e.getLineColor(f,d)),w=h.x+"|"+h.y,b=g.x+"|"+g.y,S=o;a&&(S=s.get(y),S||(S=Ns(),s.set(y,S))),S.getNode(w)||S.addNode(w,h),S.getNode(b)||S.addNode(b,g),S.hasLink(w,b)||S.addLink(w,b,{stroke:y})}});var u=[];a?s.forEach(function(f,d){u.push([f,d])}):u.push([o,Zi(e.getLineColor())]),u.forEach(function(f){var d=f[0],h=f[1];if(d.getLinksCount()===0)return;var g=e.width===void 0?1:e.width,y=g/e.scene.getPixelRatio(),w='fill="none" stroke-width="'+y+'" stroke="'+h+'"',b=e.id?'<g id="'+e.id+'" '+w+">":"<g "+w+">";t.write(b);var S=xh(d),E=null,A=null;S.forEach(function(T){var m=T.from,x=T.to;if(m!==E)if(x===E){var P=m;m=x,x=P}else C(),A=[];A&&A.push(m,x),E=x}),C(),t.write("</g>");function C(){if(!!A){var T=A.map(function(x){var P=d.getNode(x);if(P)return P.data;throw new Error("Node is found in the path construction, but missing in the graph")});if(!(r&&!r(T))){var m="M"+T[0].x+" "+T[0].y+" L"+T.slice(1).map(function(x){return x.x+" "+x.y}).join(",");t.write('<path d="'+m+'"/>')}}}})}}function xh(e){var t=new Set,n=[],r=[];return e.forEachNode(function(o){t.has(o.id)||(r.push({to:o.id}),i())}),n;function i(){for(var o=function(){var s=r.pop();s.to&&s.from&&n.push({from:s.from,to:s.to}),!t.has(s.to)&&(t.add(s.to),e.forEachLinkedNode(s.to,function(a){t.has(a.id)||r.push({from:s.to,to:a.id})},!1))};r.length;)o()}}function _h(e,t,n){var r=t.width,i=t.height,o=t.projection,s=t.view,a=Wt(Lt(),o,s.matrix);Wt(a,a,e.worldModel);var l=Eh(n);return function(u,f,d){var h=_l([0,0,0,0],[u,f,d||0,1],a),g=l(r*(h[0]/h[3]+1)*.5),y=l(i*(1-(h[1]/h[3]+1)*.5));return{x:g,y,isBehind:h[3]<=0}}}function Ch(e){return e}function Eh(e){return e===void 0?Ch:e===!0||e===0?Math.round:function(t){return Math.round(t*e)/e}}function Ah(e,t,n,r){return or(e,t,{x:0,y:0},{x:0,y:1})&&or(e,t,{x:0,y:0},{x:1,y:0})&&or(e,t,{x:0,y:r},{x:0,y:-1})&&or(e,t,{x:n,y:0},{x:-1,y:0})}function or(e,t,n,r){var i=zs(e,n,r),o=zs(t,n,r);if(i<=0&&o<=0)return!1;if(i>0&&o>0)return!0;var s=i/(i-o),a=e.x+s*(t.x-e.x),l=e.y+s*(t.y-e.y);return i<=0?(e.x=a,e.y=l):(t.x=a,t.y=l),!0}function zs(e,t,n){return(e.x-t.x)*n.x+(e.y-t.y)*n.y}var sr=.5*Math.PI/180,Hs=[0,0,-1];function Th(e,t,n,r){n||(n=Function.prototype),e.addEventListener("touchstart",b),e.addEventListener("touchend",S);var i="deviceorientationabsolute";window.addEventListener("orientationchange",g);var o=!0,s=[0,0,0,1],a=[0,0,0,1],l=[0,0,0,1];g();var u={isEnabled:!1,isAbsolute:!0,useCurrentOrientation:d,dispose:w,enable:f};return u;function f(E){u.isEnabled=E,u.isEnabled?window.DeviceOrientationEvent!==void 0&&window.DeviceOrientationEvent.requestPermission!==void 0?DeviceOrientationEvent.requestPermission().then(function(A){A==="granted"?(i="deviceorientation",window.addEventListener(i,h)):u.isEnabled=!1,r&&r.fire("device-orientation",u.isEnabled)}).catch(function(A){u.isEnabled=!1,r&&r.fire("device-orientation",u.isEnabled)}):window.addEventListener(i,h):(b(),r&&r.fire("device-orientation",u.isEnabled))}function d(){o=!0}function h(E){var A=E.alpha,C=E.beta,T=E.gamma;if(E.absolute&&A===null&&C===null&&T===null){window.removeEventListener("deviceorientationabsolute",h),window.addEventListener("deviceorientation",h),i="deviceorientation",u.isAbsolute=!1;return}if(y(A,C,T),o){o=!1;var m=Rr([0,0,0],Hs,a),x=Rr([0,0,0],Hs,t),P=m[0]*x[0]+m[1]*x[1],L=Math.sqrt(m[0]*m[0]+m[1]*m[1]),I=Math.sqrt(x[0]*x[0]+x[1]*x[1]),R=Math.acos(P/(L*I))/2,j=Math.sign(m[0]*x[1]-m[1]*x[0]);s[2]=j*Math.sin(R),s[3]=Math.cos(R)}Ir(a,a,l),Ir(t,s,a),n()}function g(){var E=window.orientation||0,A=-E*sr;l[2]=Math.sin(A),l[3]=Math.cos(A)}function y(E,A,C){var T=A?A*sr:0,m=C?C*sr:0,x=E?E*sr:0,P=Math.cos(T),L=Math.cos(m),I=Math.cos(x),R=Math.sin(T),j=Math.sin(m),$=Math.sin(x);a[0]=R*L*I-P*j*$,a[1]=P*j*I+R*L*$,a[2]=P*L*$+R*j*I,a[3]=P*L*I-R*j*$}function w(){e.removeEventListener("touchstart",b),e.removeEventListener("touchend",S),window.removeEventListener("deviceorientationabsolute",h),window.removeEventListener("deviceorientation",h),window.removeEventListener("orientationchange",g)}function b(E){o||(o=!0,E&&E.preventDefault(),window.removeEventListener(i,h))}function S(E){E.touches.length||(o=!0,u.isEnabled&&(window.removeEventListener(i,h),window.addEventListener(i,h)))}}var $s=[0,0,-1],oe={MOVE_FORWARD:1,MOVE_BACKWARD:2,MOVE_LEFT:3,MOVE_RIGHT:4,MOVE_UP:5,MOVE_DOWN:6,TURN_LEFT:7,TURN_RIGHT:8,TURN_UP:9,TURN_DOWN:10};function Sh(e){var t=e.getDrawContext(),n=t.view,r=n.position,i=n.center,o=e.getOptions()||{},s=[0,0,1],a=Math.PI,l=Math.PI*1.618,u=Ot(o.captureMouse,!1),f,d,h=[0,0,0,1],g=0,y=[0,0,0,1],w=[0,0,0,1],b=[0,0,0],S=0,E=0,A=0,C=ko(o.inputTarget,t.canvas);C.style.outline="none",C.getAttribute("tabindex")||C.setAttribute("tabindex","0"),C.addEventListener("keydown",ie),C.addEventListener("keyup",ve),C.addEventListener("mousedown",Me),C.addEventListener("touchmove",le),C.addEventListener("touchstart",se),C.addEventListener("wheel",de),document.addEventListener("pointerlockchange",c,!1);var T=new Ll(e),m=0,x=0,P=0,L=0,I=0,R=0,j=0,$=0,q=0,k=0,W=0,G={};G[oe.MOVE_FORWARD]=!1,G[oe.MOVE_BACKWARD]=!1,G[oe.MOVE_LEFT]=!1,G[oe.MOVE_RIGHT]=!1,G[oe.MOVE_UP]=!1,G[oe.MOVE_DOWN]=!1,G[oe.TURN_LEFT]=!1,G[oe.TURN_RIGHT]=!1,G[oe.TURN_UP]=!1,G[oe.TURN_DOWN]=!1;var Z=.01,z=3,V=.01,Y={dispose:be,handleCommand:B,setViewBox:N,getUpVector:ee,lookAt:K,enableMouseCapture:_,enableDeviceOrientation:M,isDeviceOrientationEnabled:F,setRotationSpeed:function(J){return a=J,Y},setMoveSpeed:function(J){return Z=J,Y},setScrollSpeed:function(J){return z=J,Y},setFlySpeed:function(J){return V=J,Y},setSpeed:function(J){return Z=J,V=J,Y},getRotationSpeed:function(){return a},getMoveSpeed:function(){return Z},getScrollSpeed:function(){return z},getFlySpeed:function(){return V},getKeymap:function(){return X},getMouseCapture:function(){return u}},X={87:oe.MOVE_FORWARD,65:oe.MOVE_LEFT,83:oe.MOVE_BACKWARD,68:oe.MOVE_RIGHT,81:oe.TURN_LEFT,37:oe.TURN_LEFT,69:oe.TURN_RIGHT,39:oe.TURN_RIGHT,38:oe.TURN_UP,40:oe.TURN_DOWN,16:oe.MOVE_DOWN,32:oe.MOVE_UP};Qr(Y);var te=Th(C,n.orientation,ne,Y);return Ot(o.useDeviceOrientation,!0)&&te.enable(!0),Y;function ie(D){O(D,1)}function ve(D){O(D,0)}function Me(D){D.which===1&&(document.pointerLockElement?document.exitPointerLock():u?C.requestPointerLock():(C.focus(),document.addEventListener("mousemove",ke),document.addEventListener("mouseup",Ue),f=D.clientX,d=D.clientY,D.preventDefault()))}function se(D){D.touches.length===1&&(f=D.touches[0].clientX,d=D.touches[0].clientY)}function de(D){D.preventDefault();var J=D.deltaMode>0?100:1,Ee=z*ue(-D.deltaY*J),wt=+new Date,Qe=D.clientX,Tt=D.clientY;if(document.pointerLockElement&&(Qe=t.width/(t.pixelRatio*2),Tt=t.height/(t.pixelRatio*2)),document.pointerLockElement||wt-S>200||Math.hypot(Qe-E,Tt-A)>20){var Re=[0,0,-1];Re[0]=(Qe*t.pixelRatio/t.width-.5)*2,Re[1]=(1-Tt*t.pixelRatio/t.height-.5)*2,mn(Re,Re,pd([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.view.cameraWorld,t.inverseProjection)),b=Bn([0,0,0],Re,n.position),Jr(b,b);var rt=vd(i);y=Ps(n.orientation),K(r,Re),w=Ps(n.orientation),K(r,rt),E=Qe,A=Tt,g=0,S=wt}g<1&&(br(h,y,w,g),Cl(n.orientation,h[0],h[1],h[2],h[3]),g+=.01),r[0]+=Z*Ee*b[0],r[1]+=Z*Ee*b[1],r[2]+=Z*Ee*b[2],ne(),D.preventDefault()}function ue(D){return Math.sign(D)*Math.min(.25,Math.abs(D/128))}function le(D){if(D.touches.length===1){var J=D.touches[0].clientY-d,Ee=D.touches[0].clientX-f;v(-Ee,J),f=D.touches[0].clientX,d=D.touches[0].clientY,D.preventDefault()}}function ke(D){var J=D.clientY-d,Ee=D.clientX-f;v(-Ee,J),f=D.clientX,d=D.clientY,D.preventDefault()}function Ue(D){document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",Ue)}function c(D){document.pointerLockElement?document.addEventListener("mousemove",p,!1):(document.removeEventListener("mousemove",p,!1),$=0,k=0),Y.fire("pointer-locked",document.pointerLockElement)}function p(D){v(D.movementX,-D.movementY)}function v(D,J){var Ee=a*D/t.width,wt=l*J/t.height;he(Ee,wt),ne()}function _(D){return u=D,Y.fire("mouse-capture",D),Y}function M(D){te.enable(D)}function F(){return te.isEnabled}function O(D,J){if(Mh(D)){L=0;return}var Ee=X[D.which];Ee&&B(Ee,J)}function B(D,J){switch(D){case oe.MOVE_FORWARD:P=J;break;case oe.MOVE_BACKWARD:P=-J;break;case oe.MOVE_LEFT:x=J;break;case oe.MOVE_RIGHT:x=-J;break;case oe.MOVE_UP:L=J;break;case oe.MOVE_DOWN:L=-J;break;case oe.TURN_LEFT:q=-J;break;case oe.TURN_RIGHT:q=J;break;case oe.TURN_UP:W=J;break;case oe.TURN_DOWN:W=-J;break;default:throw new Error("Unknown command "+D)}U()}function U(){m||(m=requestAnimationFrame(Q))}function N(D){var J=e.getPixelRatio(),Ee=J*Math.max((D.top-D.bottom)/2,(D.right-D.left)/2),wt=(D.left+D.right)/2,Qe=(D.top+D.bottom)/2,Tt=Ee/Math.tan(t.fov/2);return K([wt,Qe,Tt],[wt,Qe,0]),Y}function Q(){m=0;var D=.9,J=!1;I=ht(I*D+x,.5,0),R=ht(R*D+P,.5,0),j=ht(j*D+L,.5,0),$=ht($*D+q/2,Math.PI/360,0),k=ht(k*D+W/6,Math.PI/360,0),(I||R)&&(we(I*Z,R*Z),J=!0),j&&(r[2]+=j*V,J=!0),(k||$)&&(he($*.01,k*.01),J=!0),J&&(ne(),U()),G[oe.MOVE_LEFT]=I>0,G[oe.MOVE_RIGHT]=I<0,G[oe.MOVE_FORWARD]=R>0,G[oe.MOVE_BACKWARD]=R<0,G[oe.MOVE_UP]=j>0,G[oe.MOVE_DOWN]=j<0,G[oe.TURN_LEFT]=$<0,G[oe.TURN_RIGHT]=$>0,Y.fire("move",G)}function K(D,J){return kr(r,D[0],D[1],D[2]),kr(i,J[0],J[1],J[2]),Po(n.cameraWorld,r,i,s),Mo(n.orientation,n.cameraWorld),Kn(n.matrix,n.cameraWorld),ne(),Y}function ee(){return s}function ne(){if(n.update(),mn(i,$s,n.cameraWorld),T.updated=!1,e.fire("transform",T),T.updated){ne();return}e.getRoot().scheduleMVPUpdate(),e.renderFrame()}function he(D,J){D&&(Ir(n.orientation,Yi([0,0,0,0],$s,D),n.orientation),te.useCurrentOrientation()),J&&Ir(n.orientation,n.orientation,Yi([0,0,0,0],[1,0,0],J))}function we(D,J){var Ee=Rr([0,0,0],[-D,0,-J],n.orientation);r[0]+=Ee[0],r[1]+=Ee[1]}function be(){cancelAnimationFrame(m),m=0,C.removeEventListener("keydown",ie),C.removeEventListener("keyup",ve),C.removeEventListener("mousedown",Me),C.removeEventListener("touchmove",le),C.removeEventListener("touchstart",se),C.removeEventListener("wheel",de),document.removeEventListener("mousemove",p,!1),document.removeEventListener("pointerlockchange",c,!1),document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",Ue),te.dispose()}}function Mh(e){return e.altKey||e.ctrlKey||e.metaKey}function Ph(e,t){var n="navigation-controls",r=document.createElement("div");r.classList.add(n),r.innerHTML=Fh();var i=document.createElement("style");i.appendChild(document.createTextNode(kh(n))),document.querySelector("head").appendChild(i),e.appendChild(r);var o=Array.from(r.querySelectorAll("a.navigation-btn")),s=o.map(f),a=r.querySelector("#capture-mouse");t.getMouseCapture()&&(a.checked=!0),a.addEventListener("change",d);var l=r.querySelector("#device-orientation");return l&&(l.checked=t.isDeviceOrientationEnabled(),l.addEventListener("change",g)),t.on("move",w),t.on("mouse-capture",h),t.on("device-orientation",y),t.on("pointer-locked",u),{dispose:S};function u(E){var A=r.querySelector(".cross");A&&(A.style.display=E?"block":"none")}function f(E){var A=b(E);return Rh(E,function(C){t.handleCommand(A,C?1:0)})}function d(E){t.enableMouseCapture(a.checked)}function h(E){a.checked=E}function g(){t.enableDeviceOrientation(l.checked)}function y(E){l&&(l.checked=E)}function w(E){o.forEach(function(A){E[b(A)]?A.classList.add("down"):A.classList.remove("down")})}function b(E){return Number.parseInt(E.getAttribute("data-command"),10)}function S(){t.off("move",w),t.off("mouse-capture",h),t.off("device-orientation",y),t.off("pointer-locked",u),s.forEach(function(E){return E()}),r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i)}}function Fh(){return`
  <div class='navigation-row padded'>
    <div class='item'>
      <a href="#" class='navigation-btn secondary' data-command='`+oe.TURN_LEFT+`'>
        <svg viewBox="0 0 1024 1024">
        <path d="m884.6 622.6v192c0 11.333-3.834 20.833-11.5 28.5-7.667 7.666-17 11.5-28 11.5s-20.5-3.834-28.5-11.5c-8-7.667-12-17.167-12-28.5v-192c0-61.334-21.667-113.67-65-157-43.334-43.334-95.667-65-157-65h-340l113 112c7.333 8 11 17.5 11 28.5s-3.834 20.333-11.5 28c-7.667 7.666-17 11.5-28 11.5s-20.5-4-28.5-12l-178-178c-8-8-12-17.5-12-28.5s4-20.5 12-28.5l183-183c8-8 17.5-12 28.5-12s20.5 3.833 28.5 11.5c8 7.666 12 17 12 28s-4 20.5-12 28.5l-114 114h336c83.333 0 154.5 29.5 213.5 88.5s88.5 130.17 88.5 213.5z"/>
        </svg>
        <div class='nav-key-legend'>Q</div>
      </a>
    </div>
    <a href='#' class='item navigation-btn' data-command='`+oe.MOVE_FORWARD+`'>
      <svg viewBox="0 0 100 100"><path d="M10,80 50,30 90,80z"></path></svg>
      <div class='nav-key-legend'>W</div>
    </a>
    <a href="#" class='item navigation-btn secondary' data-command='`+oe.TURN_RIGHT+`'>
      <svg viewBox="0 0 1024 1024">
        <path d="m108.6 622.6v192c0 11.333 3.833 20.833 11.5 28.5 7.666 7.666 17 11.5 28 11.5s20.5-3.834 28.5-11.5c8-7.667 12-17.167 12-28.5v-192c0-61.334 21.666-113.67 65-157 43.333-43.334 95.666-65 157-65h340l-113 112c-7.334 8-11 17.5-11 28.5s3.833 20.333 11.5 28c7.666 7.666 17 11.5 28 11.5s20.5-4 28.5-12l178-178c8-8 12-17.5 12-28.5s-4-20.5-12-28.5l-183-183c-8-8-17.5-12-28.5-12s-20.5 3.833-28.5 11.5c-8 7.666-12 17-12 28s4 20.5 12 28.5l114 114h-336c-83.334 0-154.5 29.5-213.5 88.5s-88.5 130.17-88.5 213.5z"/>
      </svg>
      <div class='nav-key-legend'>E</div>
    </a>
  </div>
  <div class='navigation-row padded'>
    <a href='#' class='item navigation-btn' data-command='`+oe.MOVE_LEFT+`'>
      <svg viewBox="0 0 100 100" ><path d="M80,10 80,90 30,50z"></path></svg>
      <div class='nav-key-legend'>A</div>
    </a>
    <a href='#' class='item navigation-btn' data-command='`+oe.MOVE_BACKWARD+`'>
      <svg viewBox="0 0 100 100"><path d="M10,30 50,80 90,30z"></path></svg>
      <div class='nav-key-legend'>S</div>
    </a>
    <a href='#' class='item navigation-btn' data-command='`+oe.MOVE_RIGHT+`'>
      <svg viewBox="0 0 100 100" ><path d="M30,10 30,90 80,50z"></path></svg>
      <div class='nav-key-legend'>D</div>
    </a>
  </div>
  <div class='navigation-row'>
    <a href='#'  class='item navigation-btn wide' data-command='`+oe.MOVE_DOWN+`'>
      <svg width="100%" height="100%" viewBox="0 0 1024 1024">
          <path d="M364,666L522,824C528,830 535.5,833 544.5,833C553.5,833 561,830 567,824L725,666C731.667,659.333 735,651.667 735,643C735,634.333 731.667,626.667 725,620C719,614 711.5,611 702.5,611C693.5,611 686,614 680,620L576,724L576,32C576,23.333 573,15.833 567,9.5C561,3.167 553.333,0 544,0C535.333,0 527.833,3.167 521.5,9.5C515.167,15.833 512,23.333 512,32L512,724L409,620C403,614 395.5,611 386.5,611C377.5,611 370,614 364,620C358,626.667 355,634.333 355,643C355,651.667 358,659.333 364,666ZM1024,992C1024,1000.67 1020.83,1008.17 1014.5,1014.5C1008.17,1020.83 1000.67,1024 992,1024L32,1024C23.333,1024 15.833,1020.83 9.5,1014.5C3.167,1008.17 0,1000.67 0,992C0,983.333 3.167,975.833 9.5,969.5C15.833,963.167 23.333,960 32,960L992,960C1000.67,960 1008.17,963.167 1014.5,969.5C1020.83,975.833 1024,983.333 1024,992Z" style="fill-rule:nonzero;"/>
      </svg>
      <div class='nav-key-legend'>shift</div>
    </a>
    <a href='#' class='item navigation-btn wide' data-command='`+oe.MOVE_UP+`'>
      <svg viewBox="0 0 1024 1024"><path d="M726 167L568 9q-9-9-22.5-9T523 9L365 167q-10 10-10 23t10 23q9 9 22.5 9t22.5-9l104-104v692q0 13 9 22.5t23 9.5q13 0 22.5-9.5T578 801V109l103 104q9 9 22.5 9t22.5-9q9-10 9-23t-9-23zm298 825q0 13-9.5 22.5T992 1024H32q-13 0-22.5-9.5T0 992t9.5-22.5T32 960h960q13 0 22.5 9.5t9.5 22.5z"></path></svg>
      <div class='nav-key-legend'>space</div>
    </a>
</div>
  <div class='cursor-legend'>
    <input type='checkbox' id='capture-mouse' name="capture-mouse">
    <label for='capture-mouse'>Capture mouse cursor</label>
  </div>
  `+Lh()+`
  <div class='cross'>+</div>
</div>`}function Lh(){return window.DeviceOrientationEvent&&"ontouchstart"in window?`<div class='device-orientation-legend'>
    <input type='checkbox' id='device-orientation' name="device-orientation">
    <label for='device-orientation'>Use device orientation</label>
  </div>`:""}function kh(e){var t="."+e;return`
`+t+` {
  position: fixed;
  bottom: 8px;
  left: 8px;
  font-family: 'Avenir', Helvetica, Arial, sans-serif
}
`+t+` * {
  box-sizing: border-box;
}
`+t+` label {
  color: white;
}
`+t+` .nav-key-legend {
  text-align: center;
  font-size: 14px;
}
`+t+` .navigation-row {
  display: flex;
}
`+t+` .item {
  width: 42px;
  height: 42px;
  margin: 2px;
}
`+t+` .navigation-btn {
  background: rgba(0,0,0,0.2);
  box-shadow: 0 2px 4px #000, 0 -1px 0 rgb(0 0 0 / 5%);
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  text-decoration: none;
  display: flex;
  width: 42px;
  flex-direction: column;
  color: #cecece;
}
`+t+` .navigation-btn.down {
  background: rgba(250,250,250,.2);
}
`+t+` .padded {
  margin-left: 10px;
}
`+t+` .navigation-btn.secondary {
  width: 42px;
  height: 42px;
  transform: scale(0.70);
}

`+t+` .navigation-btn.secondary svg {
  padding: 4px;
}
`+t+` .navigation-btn.secondary .nav-key-legend {
  color: #aaa;
}
`+t+` .navigation-btn.secondary.left {
  transform-origin: right bottom;
}
`+t+` .navigation-btn.secondary.right {
  transform-origin: left bottom;
}
`+t+` .navigation-btn.wide {
  width: 75px;
}
`+t+` .navigation-btn svg {
  fill: white;
  padding-top: 4px;
}
`+t+` .cursor-legend {
  margin-top: 8px;
  display: none;
}

`+t+` .cross {
  position: fixed;
  pointer-events: none;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 68px;
  color: white;
  display: none;
}
@media (pointer: fine) {
  `+t+` .cursor-legend {
    display: block;
  }
}`}function Rh(e,t,n){n===void 0&&(n=15);var r;return e.addEventListener("mousedown",o),e.addEventListener("touchstart",o),e.addEventListener("keydown",l),e.addEventListener("keyup",u),i;function i(){e.removeEventListener("mousedown",o),e.removeEventListener("touchstart",o),e.removeEventListener("keydown",l),e.removeEventListener("keyup",u),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",f),clearTimeout(r)}function o(h){h.preventDefault(),document.addEventListener("mouseup",a),document.addEventListener("touchend",f),document.addEventListener("touchcancel",f),s()}function s(){t(1),r=setTimeout(s,n)}function a(){d()}function l(h){h.which===13&&(t(1),h.preventDefault())}function u(h){h.which===13&&(t(0),h.preventDefault())}function f(){d()}function d(){clearTimeout(r),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",f),t(0)}}function Ih(e,t){t===void 0&&(t={}),e.getCameraController();var n={redraw:Function.prototype,dispose:Function.prototype},r=t.lineColor||196194594,i=t.maxAlpha||255,o=u(r),s=f(t.cursorColor||4294967295);return e.on("transform",l),{dispose:a,update:l};function a(){e.off("transform",l),o.dispose(),s.dispose()}function l(){o.redraw(),s.redraw()}function u(d){if(t.showGrid===!1)return n;var h=32*2,g=new hn(2*(h+1),{width:2.5,is3D:!0,allowColors:!0});g.svgInvisible=!0;var y=new hn(2*(h+1),{width:1.5,is3D:!0,allowColors:!0});y.svgInvisible=!0;var w=e.getDrawContext(),b=w.view.center;return A(),e.appendChild(y),e.appendChild(g),{redraw:A,dispose:S};function S(){e.removeChild(y),e.removeChild(g)}function E(T){return 1-(T-Math.floor(T))}function A(){var T=e.getDrawContext().view.position,m=T[0]-b[0],x=T[1]-b[1],P=T[2]-b[2],L=Math.sqrt(m*m+x*x+P*P),I=L*Math.tan(w.fov/2),R=Math.log10(I),j=Math.pow(10,Math.floor(R)),$=E(R),q=Math.round($*i),k=Math.floor(b[0]/j)*j-Math.floor(h*j/2),W=Math.floor(b[1]/j)*j-Math.floor(h*j/2),G=k+j*h,Z=W+j*h;C(y,k,W,G,Z,j,q),C(g,k,W,G,Z,j*10,i-q)}function C(T,m,x,P,L,I,R){T.model[14]=b[2],T.worldTransformNeedsUpdate=!0,T.count=0;for(var j=d&4294967040|R,$=Math.ceil(x/I)*I,q=$;q<=L;q+=I)T.add({from:{x:m,y:q,color:j},to:{x:P,y:q,color:j}});for(var k=Math.ceil(m/I)*I,W=k;W<=P;W+=I)T.add({from:{x:W,y:x,color:j},to:{x:W,y:L,color:j}})}}function f(d){if(t.showCursor===!1)return n;var h=360,g=e.getDrawContext().view.center,y=e.getDrawContext().view.position,w=new hn(h+1,{width:3,is3D:!0,allowColors:!0});w.svgInvisible=!0;for(var b,S=[],E=0;E<=h;++E)S.push(w.add({from:{x:0,y:0,color:d},to:{x:E,y:E,color:d}}));return e.appendChild(w),C(),{redraw:C,dispose:A};function A(){e.removeChild(w)}function C(){var T=y[0]-g[0],m=y[1]-g[1],x=y[2]-g[2],P=Math.sqrt(T*T+m*m+x*x);P*=.025;for(var L=0;L<=h+1;++L){var I=L/h*2*Math.PI;if(L===0){b={x:P*Math.cos(I),y:P*Math.sin(I),color:d};continue}var R={x:P*Math.cos(I),y:P*Math.sin(I),color:d};S[L-1].update(b,R),b=R}w.model[12]=g[0],w.model[13]=g[1],w.model[14]=g[2],w.worldTransformNeedsUpdate=!0}}}var Bh={mat4:"uniformMatrix4fv",mat3:"uniformMatrix3fv",mat2:"uniformMatrix2fv",vec4:"uniform4fv",vec3:"uniform3fv",vec2:"uniform2fv",float:"uniform1f",bool:"uniform1i"},Do=function(t,n){var r=Bh[n];if(!r)throw new Error("Function name for uniform is required");this.name=t,this.functionName=r,this.location=this.name+"UniformLocation"};Do.prototype.getInitBlockForDraw=function(){return"let "+this.location+" = gl.getUniformLocation(program, '"+this.name+"');"};Do.prototype.getDraw=function(){return this.functionName.indexOf("Matrix")>-1?"gl."+this.functionName+"("+this.location+", false, uniforms."+this.name+");":"gl."+this.functionName+"("+this.location+", uniforms."+this.name+");"};var yn=function(t,n){n===void 0&&(n=0),this.name=t,this.offset=n,this.variableName=t+"Texture",this.ready=this.variableName+"Ready",this.location=this.name+"UniformLocation",this.isTexture=!0};yn.prototype.getInitBlockForDraw=function(){return`
  let `+this.location+" = gl.getUniformLocation(program, '"+this.name+`');
  let `+this.variableName+` = gl.createTexture();
  let `+this.ready+` = false;
`};yn.prototype.getTextureInitCanvasBlock=function(){return`
  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
  gl.bindTexture(gl.TEXTURE_2D, `+this.variableName+`);
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
  gl.bindTexture(gl.TEXTURE_2D, null);
  `+this.ready+" = true"};yn.prototype.getDraw=function(){return`
    gl.activeTexture(gl.TEXTURE`+this.offset+`);
    gl.bindTexture(gl.TEXTURE_2D, `+this.variableName+`);
    gl.uniform1i(`+this.location+", "+this.offset+`);
`};var ut=function(){this.type="gl.FLOAT",this.debug=!1,this.bufferViewType="Float32Array",this.count=1,this.name=void 0,this.bytePerElement=4};ut.prototype.setName=function(t){this.name=t};ut.prototype.getInitBlockForBuffer=function(t){this.ensureNameIsSet();var n=t?"let ":"";return""+n+this.name+"Array = new "+this.bufferViewType+"(buffer);"};ut.prototype.getInitBlockForDraw=function(){this.ensureNameIsSet();var t=this,n=t.name;return"let "+n+"AttributeLocation = gl.getAttribLocation(program, '"+n+"');"};ut.prototype.getAddBlock=function(t,n){throw new Error("Concrete types have to implement this")};ut.prototype.getMoveBlock=function(t,n){throw new Error("Concrete type have to implement `getMoveBlock`")};ut.prototype.getGetBlock=function(t){throw new Error("Concrete types have to implement `getGetBlock`")};ut.prototype.getDivisor=function(t){this.ensureNameIsSet();var n=this.name+"AttributeLocation";return"if ("+n+" > -1) gle.vertexAttribDivisorANGLE("+n+", "+t+");"};ut.prototype.getDraw=function(t,n){this.ensureNameIsSet();var r=this.name+"AttributeLocation";return`
    gl.enableVertexAttribArray(`+r+`);
    gl.vertexAttribPointer(`+r+", "+this.count+", "+this.type+", false, "+t+", "+n+");"};ut.prototype.ensureNameIsSet=function(){if(!this.name)throw new Error("You have to call setName() before using attributes")};var xr=function(e){function t(n){e.call(this),this.count=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(r,i){i===void 0&&(i=`
`);var o=this.name,s=o+"Array",a=[];this.debug&&a.push("if (item."+o+` === undefined) throw new Error('Attribute "`+o+`" is missing');
`);for(var l=0;l<this.count;++l){var u="item."+o+"["+l+"]";this.debug&&a.push("if ("+u+` === undefined) throw new Error('Attribute "`+o+'" is missing value at index '+l+`');
`),a.push(s+"[index + "+(r+l)+"] = "+u+";")}return{code:a.join(i),offset:r+this.count}},t.prototype.getMoveBlock=function(r,i){i===void 0&&(i=`
`);for(var o=this.name,s=o+"Array",a=[],l=0;l<this.count;++l)a.push(s+"[to + "+(r+l)+"] = "+s+"[from + "+(r+l)+"];");return a.join(i)},t.prototype.getGetBlock=function(r){for(var i=this.name+"Array",o=[],s=0;s<this.count;++s)o.push(i+"[index + "+(r+s)+"]");return this.name+": ["+o.join(", ")+"]"},t}(ut),Ol=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(r){var i=this.name,o=i+"Array",s="";return this.debug&&(s="if (item."+i+` === undefined) throw new Error('Attribute "`+i+`" is missing');`),s+=o+"[index + "+r+"] = item."+i+";",{code:s,offset:r+this.count}},t.prototype.getMoveBlock=function(r,i){i===void 0&&(i=`
`);var o=this.name,s=o+"Array",a="";return a+=s+"[to + "+r+"] = "+s+"[from + "+r+"];"+i,a},t.prototype.getGetBlock=function(r){return this.name+": "+this.name+"Array[index + "+r+"]"},t}(ut),Ws={vec4:function(){return new xr(4)},vec3:function(){return new xr(3)},vec2:function(){return new xr(2)},float:function(){return new Ol}};function Dh(e,t){var n=[],r=[],i=Oh(e.vertex,e.fragment,t);i.attributes.forEach(function(f){var d=f.name,h=f.type,g=e.attributes&&e.attributes[d];if(!g&&typeof Ws[h]=="function"&&(g=Ws[h]()),!g)throw console.error("Unknown type "+h+" for "+d),new Error("Unknown type "+h+" for "+d);g.debug=e&&e.debug||!1,g.setName(d);var y=e.instanced&&e.instanced[d];y?(y.setTypeDefinition(g),r.push(y)):n.push(g)});var o=[],s=0;i.uniforms.forEach(function(f){var d=f.name;f.type==="sampler2D"?o.push(new yn(d,s++)):o.push(new Do(d,f.type))});var a=0,l=0;if(n.forEach(function(f){l+=f.count,a+=f.count*f.bytePerElement}),e.attributeLayout){var u=new Map;e.attributeLayout.forEach(function(f,d){return u.set(f,d)}),n.sort(function(f,d){return u.get(f.name)-u.get(d.name)})}return{bytePerVertex:a,itemPerVertex:l,attributes:n,instanced:r,uniforms:o}}function Oh(e,t,n){var r=n?/in\s+(.+);/:/attribute\s+(.+);/,i=/uniform\s+(.+);/,o=[],s=[];return e.split(`
`).forEach(function(l){var u=l.match(r);if(u&&!l.trim().startsWith("//")){a(u[1],o);return}var f=l.match(i);if(f&&!l.trim().startsWith("//")){a(f[1],s);return}}),t.split(`
`).forEach(function(l){var u=l.match(i);u&&a(u[1],s)}),{attributes:o,uniforms:s};function a(l,u){for(var f=l.replace(/,/g," ").split(" ").filter(function(y){return y}),d=f[0],h=function(y){var w=f[y];u.find(function(b){return b.name===w})||u.push({type:d,name:w})},g=1;g<f.length;++g)h(g)}}var nn=function(){this.api=[],this.init=[],this.implementation=[],this.bufferInit=[]};nn.prototype.addToInit=function(t){t&&this.init.push(t)};nn.prototype.addBufferInit=function(t){t&&this.bufferInit.push(t)};nn.prototype.addToAPI=function(t){t&&this.api.push(t)};nn.prototype.addToImplementation=function(t){t&&this.implementation.push(t)};nn.prototype.setAttributesDrawBlock=function(t){this.attributesDrawBlock=t};nn.prototype.link=function(){var t=[];return this.init.forEach(n),n("  return {"),this.api.forEach(n),n("  };"),this.implementation.forEach(n),t.join(`
`);function n(r){Array.isArray(r)?t.push(r.join(`
    `)):t.push(r)}};function Nl(e){var t=e.gl,n=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext,r=Dh(e,n),i=A(e.vertex,e.fragment),o=e.preDrawHook||js,s=e.postDrawHook||js,a=f(r),l=a.link(),u=new Function("gl","program",l)(t,i);return e.debug&&(console.log("Compiled code: "),console.log(l)),u.getCode=function(){return a},u.dispose=function(){t.deleteProgram(i)},u;function f(T){var m=new nn;return w(T,m),e.sourceBuffer?d(T,m):(b(T,m),h(T,m)),g(T,m),y(T,m),m}function d(T,m){m.addToInit(["let glBuffer;",""]),m.addToAPI(["setGLBuffer: (newBuffer) => glBuffer = newBuffer,"])}function h(T,m){m.addToInit(["let glBuffer = gl.createBuffer();","if (!glBuffer) throw new Error('failed to create a WebGL buffer');",""]),m.addToAPI(["getGLBuffer: () => glBuffer,"])}function g(T,m){var x=T.uniforms,P=[];if(x.forEach(function(R){R instanceof yn&&P.push(R)}),!!P.length){m.addToAPI("setTextureCanvas: setTextureCanvas,");var L=P.map(function(R){return`
      case '`+R.name+`': {
        `+R.getTextureInitCanvasBlock()+`
        return;
      }
      `});m.addToImplementation(`
  function setTextureCanvas(textureName, textureCanvas) {
    switch(textureName) {
      `+L.join(`
      `)+`
    }
    throw new Error('Unknown texture name: ' + textureName);
  }
`);var I=P.map(function(R){return"case '"+R.name+"': return "+R.variableName+";"});m.addToAPI("getTextureByName: getTextureByName,"),m.addToImplementation(`
  function getTextureByName(textureName) {
    switch(textureName) {
      `+I.join(`
      `)+`
    }
    throw new Error('Unknown texture name: ' + textureName);
  }
`)}}function y(T,m){var x=T.attributes,P=T.instanced,L=T.uniforms,I=T.bytePerVertex;T.itemPerVertex;var R=e.sourceBuffer&&e.sourceBuffer.getCode();R?(m.addToInit(R.bufferInit),m.addBufferInit(R.bufferInit)):x.forEach(function(W){var G="  "+W.getInitBlockForDraw();m.addToInit(G),m.addBufferInit(G)});var j=[];L.forEach(function(W){m.addToInit("  "+W.getInitBlockForDraw()),W instanceof yn&&j.push(W)}),P.length&&(m.addToInit(`  let gle = gl.getExtension('ANGLE_instanced_arrays');
  if (!gle) {
    // Not sure if this is going to be an error, given instancing is widely supported. But
    // If you get this error please ping me so that we can find a fallback solution
    throw new Error('Instanced collection requires instancing support. Please ping @anvaka so that we can add fallback');
  }
`),P.forEach(function(W){m.addToInit("  "+W.getInitBlock())}));var $=[];if(R)$=R.attributesDrawBlock;else{var q=0;x.forEach(function(W){$.push(W.getDraw(I,q)),q+=W.count*W.bytePerElement})}m.setAttributesDrawBlock($),m.addToImplementation(k()),m.addToAPI(["draw: draw,"]);function k(){var W=L.map(function(ie){return ie.getDraw()}),G=[],Z=[],z=[];P.forEach(function(ie){G.push(ie.getDraw()),Z.push(ie.getDivisor(0)),z.push(ie.getDivisor(0))});var V=[];return P.length?(x.forEach(function(ie){Z.push(ie.getDivisor(1)),z.push(ie.getDivisor(0))}),V.push(Z.join(`
    `)),V.push("gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, count)"),V.push(z.join(`
    `))):V.push("gl.drawArrays(gl.TRIANGLES, 0, count)"),` 
  function draw(uniforms, from, to) {
    `+X()+`
    `+te()+`
    `+o(T)+`

    gl.useProgram(program);
    `+W.join(`
    `)+`
    `+G.join(`
    `)+`

    gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);
    `+Y()+`

    `+$.join(`
    `)+`
    `+V.join(`
    `)+`

    `+s(T)+`
  }`;function Y(){return e.sourceBuffer?"":`  if (isDirty) {
          gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.DYNAMIC_DRAW);
          isDirty = false;
        }`}function X(){return"if (count === 0) return;"}function te(){return j.length===0?"":j.map(function(ie){return"if (!"+ie.ready+") return;"}).join(`
    `)}}}function w(T,m){m.addToInit(["  var count = 0;"]),m.addToAPI(["setCount: (newCount) => count = newCount,","getCount: () => count,"])}function b(T,m){var x=T.attributes,P=T.bytePerVertex,L=T.itemPerVertex;m.addToInit(["var bytePerVertex = "+P+";","var itemPerVertex = "+L+";","var capacity = "+(e.capacity||1)*P+";","var buffer = new ArrayBuffer(capacity);","","var isDirty = true;","var dirtyOffset = 0;"]),x.forEach(function(R){m.addToInit(R.getInitBlockForBuffer(!0))}),m.addToAPI(["add: add,","get: get,","update: update,","remove: remove,","getBuffer: getBuffer,","appendBuffer: appendBuffer,"]),m.addToImplementation(I());function I(){var R=[],j=[],$=[],q=[],k=0;return x.forEach(W),`
  function add(item) {
    if (count * bytePerVertex >= capacity) {
      extend();
    }

    var index = count * itemPerVertex;

    `+R.join("")+`

    isDirty = true;
    return count++;
  }

  function update(index, item) {
    `+S()+`
    index *= itemPerVertex;
    `+R.join(`
    `)+`
    isDirty = true;
  }

  function remove(index) {
    `+E()+`
    isDirty = true;
    count -= 1;
    if (count <= 0) {
      count = 0;
      return count; // last element removed
    }
    // move last element to take this element's position
    var from = count * itemPerVertex;
    var to = index * itemPerVertex;
    for (var i = 0; i < itemPerVertex; ++i) {
      `+$.join(`
`)+`
    }

    return count;
  }

  function get(index) {
    index *= itemPerVertex; 
    return {
      `+j.join(`,
      `)+`
    };
  }

  function extend() {
    var oldBuffer = buffer;
    capacity *= 2;
    buffer = new ArrayBuffer(capacity);
    // Copy old buffer to the new buffer
    new Uint8Array(buffer).set(new Uint8Array(oldBuffer));
    // And re-assign views:
    `+q.join(`
    `)+`
  }

  function getBuffer() {
    return buffer.slice(0, count * bytePerVertex);
  }

  function appendBuffer(uint8Collection, byteOffset) {
    var requiredCapacity = byteOffset + uint8Collection.byteLength;
    if (requiredCapacity > capacity) {
      // extend the buffer to fulfill the request:
      let oldBuffer = buffer;
      buffer = new ArrayBuffer(requiredCapacity);
      new Uint8Array(buffer).set(new Uint8Array(oldBuffer));
      capacity = requiredCapacity;
    }

    var view = new Uint8Array(buffer);
    view.set(uint8Collection, byteOffset);
    count = Math.floor(requiredCapacity / bytePerVertex);

    `+q.join(`
    `)+`

    isDirty = true;
  }
`;function W(G){var Z=G.getInitBlockForBuffer(!1);Z&&q.push(Z);var z=G.getAddBlock(k,`
    `);R.push(z.code),$.push(G.getMoveBlock(k,`
    `)),j.push(G.getGetBlock(k)),k=z.offset}}}function S(){return e.debug?`
    if (!Number.isFinite(index)) throw new Error('update() requires integer value for "index", got: ' + index);
    if (index < 0 || index >= count) throw new Error('update(' + index + ') is outside of [0..' + count + ') range');
`:""}function E(){return e.debug?`
    if (!Number.isFinite(index)) throw new Error('remove() requires integer value for "index", got: ' + index);
    if (index < 0 || index >= count) throw new Error('remove(' + index + ') is outside of [0..' + count + ') range');
`:""}function A(T,m){var x=C(t.VERTEX_SHADER,T),P=C(t.FRAGMENT_SHADER,m),L=t.createProgram();if(!L)throw new Error("Failed to link a program");if(t.attachShader(L,x),t.attachShader(L,P),t.linkProgram(L),!t.getProgramParameter(L,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(L)||"Failed to link a program");return L}function C(T,m){var x=t.createShader(T);if(!x)throw new Error("Failed to create a shared "+m);if(t.shaderSource(x,m),t.compileShader(x),!t.getShaderParameter(x,t.COMPILE_STATUS))throw console.error(t.getShaderInfoLog(x)),new Error(t.getShaderInfoLog(x)||"Failed to compile shader "+m);return x}}function js(){return""}var Nh=function(e){function t(){e.call(this),this.type="gl.UNSIGNED_BYTE",this.bufferViewType="Uint32Array"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(r){var i=this.name+"Array",o="";return this.debug&&(o="if (item."+this.name+` === undefined) throw new Error('Attribute "`+this.name+`" is missing');
`),o+=i+"[index + "+r+"] = item."+this.name+";",{code:o,offset:r+this.count}},t.prototype.getMoveBlock=function(r,i){i===void 0&&(i=`
`);var o=this.name,s=o+"Array",a="";return a+=s+"[to + "+r+"] = "+s+"[from + "+r+"];"+i,a},t.prototype.getGetBlock=function(r){return this.name+": "+this.name+"Array[index + "+r+"]"},t.prototype.getDraw=function(r,i){var o=this.name+"AttributeLocation";return`
    if (`+o+` > -1) {
      gl.enableVertexAttribArray(`+o+`);
      gl.vertexAttribPointer(`+o+", 4, "+this.type+", true, "+r+", "+i+`);
    }`},t}(ut),Xn=function(t){this.bufferValues=t,this.typeDef=void 0};Xn.prototype.setTypeDefinition=function(t){this.typeDef=t};Xn.prototype.getInitBlock=function(){var t=this.typeDef,n=t.name;return`
  const `+n+`InstancedBuffer = gl.createBuffer();
  if (!`+n+`InstancedBuffer) throw new Error('failed to create a WebGL buffer');
  const `+n+"InstancedBufferValues = new Float32Array(["+this.bufferValues.join(",")+`]);
  let `+n+"AttributeLocation = gl.getAttribLocation(program, '"+n+`');
`};Xn.prototype.getDivisor=function(t){return this.typeDef.getDivisor(t)};Xn.prototype.getDraw=function(){var t=this,n=t.typeDef,r=n.name;return`
  gl.bindBuffer(gl.ARRAY_BUFFER, `+r+`InstancedBuffer);
  gl.bufferData(gl.ARRAY_BUFFER, `+r+`InstancedBufferValues, gl.STATIC_DRAW);

  gl.enableVertexAttribArray(`+r+`AttributeLocation);
  gl.vertexAttribPointer(`+r+"AttributeLocation, "+n.count+`, gl.FLOAT, false, 0, 0);
`};var Vl=function(e){function t(n){e.call(this),this.program=n,this.uniforms=void 0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this.program.getBuffer()},t.prototype.appendBuffer=function(r,i){this.program.appendBuffer(r,i),this.scene&&this.scene.renderFrame()},t.prototype.add=function(r){return this.program.add(r)},t.prototype.update=function(r,i){this.program.update(r,i)},t.prototype.remove=function(r){return this.program.remove(r)},t.prototype.get=function(r){return this.program.get(r)},t.prototype.draw=function(r,i){this.uniforms||(this.uniforms={projectionMatrix:i.projection,model:this.worldModel,view:i.view.matrix,modelViewProjection:this.modelViewProjection}),this.program.draw(this.uniforms)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.program&&this.program.dispose()},t}(Ae);function me(e){return Math.abs(e)<1e-10?0:e}var Vh=function(e){function t(n){var r=Nl({gl:n,vertex:`
  uniform mat4 modelViewProjection;
  attribute vec3 point;

  void main() {
    gl_Position = modelViewProjection * vec4(point, 1.0);
  }`,fragment:`
      precision highp float;
      void main() {
        gl_FragColor = vec4(0., 0., 0., 0.);
      }`,preDrawHook:function(){return`gl.disable(gl.BLEND);
          gl.enable(gl.DEPTH_TEST);
          gl.depthFunc(gl.LEQUAL);`},postDrawHook:function(){return"gl.enable(gl.BLEND); gl.disable(gl.DEPTH_TEST);"}});e.call(this,r),this.domElementToPoints=new Map,this.uiIDToUI=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.appendFromDomElement=function(r){var i=this,o=Number.parseFloat(r.el.style.width),s=Number.parseFloat(r.el.style.height),a=[[-o/2,-s/2,0],[o/2,-s/2,0],[o/2,s/2,0],[o/2,s/2,0],[-o/2,s/2,0],[-o/2,-s/2,0]];r.updateWorldTransform();var l=a.map(function(u){var f=mn([0,0,0],u,r.worldModel),d={original:u,point:f,uiId:-1};return d.uiId=i.add(d),i.uiIDToUI.set(d.uiId,d),d});this.domElementToPoints.set(r,l),r.on("update-transform",this.updateDOMElementTransform,this),r.on("disposed",this.disposeDomElement,this)},t.prototype.disposeDomElement=function(r){var i=this,o=this.domElementToPoints.get(r);if(!o)throw new Error("Unknown dom element requested to be disposed");o.forEach(function(s){var a=s.uiId,l=i.remove(a),u=i.uiIDToUI.get(l);if(!u)throw new Error("Cannot find moved vertex ui");i.uiIDToUI.delete(l),l!==a&&(u.uiId=a,i.uiIDToUI.set(a,u))}),r.off("update-transform",this.updateDOMElementTransform),r.off("disposed",this.disposeDomElement),this.domElementToPoints.delete(r)},t.prototype.updateDOMElementTransform=function(r){var i=this,o=this.domElementToPoints.get(r);if(!o)throw new Error("Unknown dom element requested transform update");o.forEach(function(s){mn(s.point,s.original,r.worldModel),i.update(s.uiId,s)})},t.prototype.clear=function(){this.program.setCount(0)},t}(Vl),Ul=function(e){function t(n){e.call(this),this.container=document.createElement("div"),this.container.style.overflow="hidden",this.camera=document.createElement("div"),this.camera.style.transformStyle="preserve-3d",this.camera.style.pointerEvents="none",this.camera.style.position="relative",this.container.appendChild(this.camera),this.container.style.pointerEvents="none",this.bound=!1,this.lastCameraTransform="",this.seeThrough=n&&typeof n.seeThrough!="undefined"?n.seeThrough:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bindScene=function(r){if(r){var i=r.getDrawContext(),o=i.canvas.parentElement;if(!o)throw new Error("Scene does not have a parent element");this.seeThrough?o.insertBefore(this.container,i.canvas):o.append(this.container),this.bound=!0}else this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.bound=!1,this.seeThroughQuads&&this.seeThroughQuads.parent&&this.seeThroughQuads.parent.removeChild(this.seeThroughQuads);e.prototype.bindScene.call(this,r)},t.prototype.acceptDomChild=function(r){if(this.camera.appendChild(r.el),!!this.seeThrough){if(!this.scene)throw new Error("Scene should be available at this point!");this.seeThroughQuads||(this.seeThroughQuads=new Vh(this.scene.getGL()),this.scene.appendChild(this.seeThroughQuads)),this.seeThroughQuads.appendFromDomElement(r)}},t.prototype.draw=function(r,i){!this.bound||(this._updateCameraTransforms(i),e.prototype.draw.call(this,r,i))},t.prototype._updateCameraTransforms=function(r){var i=r.projection[5]*r.height/(2*r.pixelRatio),o=r.width/r.pixelRatio,s=r.height/r.pixelRatio,a="translateZ("+i+"px)"+Uh(r.view.matrix)+"translate("+o/2+"px,"+s/2+"px)";this.lastCameraTransform!=a&&(this.lastCameraTransform=a,this.camera.style.transform=this.lastCameraTransform,this.camera.style.width=o+"px",this.camera.style.height=s+"px",this.container.style.width=o+"px",this.container.style.height=s+"px",this.container.style.perspective=i+"px")},t}(Ae);function Uh(e){return"matrix3d("+me(e[0])+","+me(-e[1])+","+me(e[2])+","+me(e[3])+","+me(e[4])+","+me(-e[5])+","+me(e[6])+","+me(e[7])+","+me(e[8])+","+me(-e[9])+","+me(e[10])+","+me(e[11])+","+me(e[12])+","+me(-e[13])+","+me(e[14])+","+me(e[15])+")"}var zh=function(e){function t(n){e.call(this),this.lastTransform="",this.el=document.createElement("div");var r=this.el.style;if(r.position="absolute",r.pointerEvents="initial",n){var i=this.el.style;Object.keys(n).forEach(function(o){i[o]=n[o]})}Qr(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateWorldTransform=function(r){var i=e.prototype.updateWorldTransform.call(this,r);return i&&this.fire("update-transform",this),i},t.prototype.bindScene=function(r){if(r){var i=zl(this);if(!i)throw new Error("DomElement should be part of DomContainer hierarchy");i.acceptDomChild(this)}else this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.fire("disposed",this));e.prototype.bindScene.call(this,r)},t.prototype.draw=function(){var r=Hh(this.worldModel);r!==this.lastTransform&&(this.el.style.transform=r,this.lastTransform=r)},t.prototype.dispose=function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t}(Ae);function Hh(e){var t="matrix3d("+me(e[0])+","+me(e[1])+","+me(e[2])+","+me(e[3])+","+me(-e[4])+","+me(-e[5])+","+me(-e[6])+","+me(-e[7])+","+me(e[8])+","+me(e[9])+","+me(e[10])+","+me(e[11])+","+me(e[12])+","+me(e[13])+","+me(e[14])+","+me(e[15])+")";return"translate(-50%,-50%)"+t}function zl(e){return e instanceof Ul?e:e.parent&&zl(e.parent)}var $h=Object.freeze(Object.defineProperty({__proto__:null,ColorAttribute:Nh,DomContainer:Ul,DomElement:zh,Element:Ae,FloatAttribute:xr,GLCollection:Vl,InstancedAttribute:Xn,LineStripCollection:hh,NumberAttribute:Ol,PointCollection:sh,WireCollection:hn,createFPSControlsUI:Ph,createGuide:Ih,createScene:Ki,defineProgram:Nl,fpsControls:Sh,isWebGLEnabled:Bl,mapControls:kl,scene:Ki,toSVG:Dl,utils:$e},Symbol.toStringTag,{value:"Module"})),ft=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const Wh={},jh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"12",height:"12",fill:"black",class:"loader"},qh=H("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"},null,-1),Gh=H("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},[H("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"})],-1),Yh=[qh,Gh];function Kh(e,t){return ae(),fe("svg",jh,Yh)}var Hl=ft(Wh,[["render",Kh]]),Oo=function(t){Zh(t);var n=Xh(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function Xh(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n=="undefined";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var s=t[n],a=0;a<s.length;++a)s[a].callback===r&&s.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var s=r[o];s.callback.apply(s.ctx,i)}return e}}}function Zh(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}class ri{constructor(t){Oo(this),this.callback=t||Function.prototype}cancel(){this.isCancelled=!0,this.fire("cancel")}notify(t){this.isCancelled||this.callback(t)}onCancel(t){this.on("cancel",t,this)}offCancel(t){this.off("cancel",t)}}function ii(e,t){t||(t={});let n,r=t.progress||new ri;return r.on&&r.onCancel(i),new Promise(o);function i(){n&&n.abort()}function o(s,a){n=new XMLHttpRequest,typeof r.notify=="function"&&n.addEventListener("progress",l,!1),n.addEventListener("load",u,!1),n.addEventListener("error",f,!1),n.addEventListener("abort",d,!1),n.open(t.method||"GET",e),t.responseType&&(n.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(h=>{n.setRequestHeader(h,t.headers[h])}),t.method==="POST"?n.send(t.body):n.send(null);function l(h){h.lengthComputable?r.notify({loaded:h.loaded,total:h.total,percent:h.loaded/h.total,lengthComputable:!0}):r.notify({loaded:h.loaded,lengthComputable:!1})}function u(){if(r.offCancel(i),!r.isCancelled){if(n.status!==200){a({statusError:n.status,message:`Unexpected status code ${n.status} when calling ${e}`});return}var h=n.response;t.responseType==="json"&&typeof h=="string"&&(h=JSON.parse(h)),setTimeout(()=>s(h),0)}}function f(){a(`Failed to download ${e}`)}function d(){a({cancelled:!0,message:`Cancelled download of ${e}`})}}}let Ci=["https://overpass-api.de/api/interpreter","https://overpass.kumi.systems/api/interpreter","https://lz4.overpass-api.de/api/interpreter","https://z.overpass-api.de/api/interpreter"];function Qh(e,t){t=t||new ri;const n={method:"POST",responseType:"json",progress:t,headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data="+encodeURIComponent(e)};let r=0;return i(Ci[r]);function i(s){return ii(s,n).catch(o)}function o(s){if(s.cancelled||r>=Ci.length-1)throw s;return s.statusError&&t.notify({loaded:-1}),r+=1,i(Ci[r])}}class Jh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}growBy(t){this.minX-=t,this.minY-=t,this.maxX+=t,this.maxY+=t}get left(){return this.minX}get top(){return this.minY}get right(){return this.maxX}get bottom(){return this.maxY}get width(){return this.maxX-this.minX}get height(){return this.maxY-this.minY}get cx(){return(this.minX+this.maxX)/2}get cy(){return(this.minY+this.maxY)/2}addPoint(t,n){if(t===void 0)throw new Error("Point is not defined");let r=t,i=n;i===void 0&&(r=t.x,i=t.y),r<this.minX&&(this.minX=r),r>this.maxX&&(this.maxX=r),i<this.minY&&(this.minY=i),i>this.maxY&&(this.maxY=i)}addRect(t){if(!t)throw new Error("rect is not defined");this.addPoint(t.left,t.top),this.addPoint(t.right,t.top),this.addPoint(t.left,t.bottom),this.addPoint(t.right,t.bottom)}merge(t){t.minX<this.minX&&(this.minX=t.minX),t.minY<this.minY&&(this.minY=t.minY),t.maxX>this.maxX&&(this.maxX=t.maxX),t.maxY>this.maxY&&(this.maxY=t.maxY)}}class ep{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}function*tp(e){for(const t of e)yield*t}function $l(e){return Array.from(tp(e))}var Ce=1e-6,np=1e-12,pe=Math.PI,Ze=pe/2,qs=pe/4,lt=pe*2,et=180/pe,Ie=pe/180,Le=Math.abs,Wl=Math.atan,Hn=Math.atan2,Pe=Math.cos,rp=Math.exp,ip=Math.log,Fe=Math.sin,op=Math.sign||function(e){return e>0?1:e<0?-1:0},oi=Math.sqrt,sp=Math.tan;function ap(e){return e>1?0:e<-1?pe:Math.acos(e)}function $n(e){return e>1?Ze:e<-1?-Ze:Math.asin(e)}function Fn(){}function Dr(e,t){e&&Ys.hasOwnProperty(e.type)&&Ys[e.type](e,t)}var Gs={Feature:function(e,t){Dr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Dr(n[r].geometry,t)}},Ys={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Qi(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Qi(n[r],t,0)},Polygon:function(e,t){Ks(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ks(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Dr(n[r],t)}};function Qi(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ks(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Qi(e[n],t,1);t.polygonEnd()}function lp(e,t){e&&Gs.hasOwnProperty(e.type)?Gs[e.type](e,t):Dr(e,t)}function Ji(e){return[Hn(e[1],e[0]),$n(e[2])]}function wn(e){var t=e[0],n=e[1],r=Pe(n);return[r*Pe(t),r*Fe(t),Fe(n)]}function ar(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Or(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ei(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function lr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function eo(e){var t=oi(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function to(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function no(e,t){return[Le(e)>pe?e+Math.round(-e/lt)*lt:e,t]}no.invert=no;function jl(e,t,n){return(e%=lt)?t||n?to(Zs(e),Qs(t,n)):Zs(e):t||n?Qs(t,n):no}function Xs(e){return function(t,n){return t+=e,[t>pe?t-lt:t<-pe?t+lt:t,n]}}function Zs(e){var t=Xs(e);return t.invert=Xs(-e),t}function Qs(e,t){var n=Pe(e),r=Fe(e),i=Pe(t),o=Fe(t);function s(a,l){var u=Pe(l),f=Pe(a)*u,d=Fe(a)*u,h=Fe(l),g=h*n+f*r;return[Hn(d*i-g*o,f*n-h*r),$n(g*i+d*o)]}return s.invert=function(a,l){var u=Pe(l),f=Pe(a)*u,d=Fe(a)*u,h=Fe(l),g=h*i-d*o;return[Hn(d*i+h*o,f*n+g*r),$n(g*n-f*r)]},s}function up(e){e=jl(e[0]*Ie,e[1]*Ie,e.length>2?e[2]*Ie:0);function t(n){return n=e(n[0]*Ie,n[1]*Ie),n[0]*=et,n[1]*=et,n}return t.invert=function(n){return n=e.invert(n[0]*Ie,n[1]*Ie),n[0]*=et,n[1]*=et,n},t}function fp(e,t,n,r,i,o){if(!!n){var s=Pe(t),a=Fe(t),l=r*n;i==null?(i=t+r*lt,o=t-l/2):(i=Js(s,i),o=Js(s,o),(r>0?i<o:i>o)&&(i+=r*lt));for(var u,f=i;r>0?f>o:f<o;f-=l)u=Ji([s,-a*Pe(f),-a*Fe(f)]),e.point(u[0],u[1])}}function Js(e,t){t=wn(t),t[0]-=e,eo(t);var n=ap(-t[1]);return((-t[2]<0?-n:n)+lt-Ce)%lt}function ql(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Fn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _r(e,t){return Le(e[0]-t[0])<Ce&&Le(e[1]-t[1])<Ce}function ur(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Gl(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(y){if(!((w=y.length-1)<=0)){var w,b=y[0],S=y[w],E;if(_r(b,S)){if(!b[2]&&!S[2]){for(i.lineStart(),a=0;a<w;++a)i.point((b=y[a])[0],b[1]);i.lineEnd();return}S[0]+=2*Ce}o.push(E=new ur(b,y,null,!0)),s.push(E.o=new ur(b,null,E,!1)),o.push(E=new ur(S,y,null,!1)),s.push(E.o=new ur(S,null,E,!0))}}),!!o.length){for(s.sort(t),ea(o),ea(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],f,d;;){for(var h=u,g=!0;h.v;)if((h=h.n)===u)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(a=0,l=f.length;a<l;++a)i.point((d=f[a])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g)for(f=h.p.z,a=f.length-1;a>=0;--a)i.point((d=f[a])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,g=!g}while(!h.v);i.lineEnd()}}}function ea(e){if(!!(t=e.length)){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Ai(e){return Le(e[0])<=pe?e[0]:op(e[0])*((Le(e[0])+pe)%lt-pe)}function cp(e,t){var n=Ai(t),r=t[1],i=Fe(r),o=[Fe(n),-Pe(n),0],s=0,a=0,l=new ep;i===1?r=Ze+Ce:i===-1&&(r=-Ze-Ce);for(var u=0,f=e.length;u<f;++u)if(!!(h=(d=e[u]).length))for(var d,h,g=d[h-1],y=Ai(g),w=g[1]/2+qs,b=Fe(w),S=Pe(w),E=0;E<h;++E,y=C,b=m,S=x,g=A){var A=d[E],C=Ai(A),T=A[1]/2+qs,m=Fe(T),x=Pe(T),P=C-y,L=P>=0?1:-1,I=L*P,R=I>pe,j=b*m;if(l.add(Hn(j*L*Fe(I),S*x+j*Pe(I))),s+=R?P+L*lt:P,R^y>=n^C>=n){var $=Or(wn(g),wn(A));eo($);var q=Or(o,$);eo(q);var k=(R^P>=0?-1:1)*$n(q[2]);(r>k||r===k&&($[0]||$[1]))&&(a+=R^P>=0?1:-1)}}return(s<-Ce||s<Ce&&l<-np)^a&1}function Yl(e,t,n,r){return function(i){var o=t(i),s=ql(),a=t(s),l=!1,u,f,d,h={point:g,lineStart:w,lineEnd:b,polygonStart:function(){h.point=S,h.lineStart=E,h.lineEnd=A,f=[],u=[]},polygonEnd:function(){h.point=g,h.lineStart=w,h.lineEnd=b,f=$l(f);var C=cp(u,r);f.length?(l||(i.polygonStart(),l=!0),Gl(f,hp,C,n,i)):C&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(C,T){e(C,T)&&i.point(C,T)}function y(C,T){o.point(C,T)}function w(){h.point=y,o.lineStart()}function b(){h.point=g,o.lineEnd()}function S(C,T){d.push([C,T]),a.point(C,T)}function E(){a.lineStart(),d=[]}function A(){S(d[0][0],d[0][1]),a.lineEnd();var C=a.clean(),T=s.result(),m,x=T.length,P,L,I;if(d.pop(),u.push(d),d=null,!!x){if(C&1){if(L=T[0],(P=L.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),m=0;m<P;++m)i.point((I=L[m])[0],I[1]);i.lineEnd()}return}x>1&&C&2&&T.push(T.pop().concat(T.shift())),f.push(T.filter(dp))}}return h}}function dp(e){return e.length>1}function hp(e,t){return((e=e.x)[0]<0?e[1]-Ze-Ce:Ze-e[1])-((t=t.x)[0]<0?t[1]-Ze-Ce:Ze-t[1])}var ta=Yl(function(){return!0},pp,gp,[-pe,-Ze]);function pp(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?pe:-pe,l=Le(o-t);Le(l-pe)<Ce?(e.point(t,n=(n+s)/2>0?Ze:-Ze),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=pe&&(Le(t-r)<Ce&&(t-=r*Ce),Le(o-a)<Ce&&(o-=a*Ce),n=vp(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vp(e,t,n,r){var i,o,s=Fe(e-n);return Le(s)>Ce?Wl((Fe(t)*(o=Pe(r))*Fe(n)-Fe(r)*(i=Pe(t))*Fe(e))/(i*o*s)):(t+r)/2}function gp(e,t,n,r){var i;if(e==null)i=n*Ze,r.point(-pe,i),r.point(0,i),r.point(pe,i),r.point(pe,0),r.point(pe,-i),r.point(0,-i),r.point(-pe,-i),r.point(-pe,0),r.point(-pe,i);else if(Le(e[0]-t[0])>Ce){var o=e[0]<t[0]?pe:-pe;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function mp(e){var t=Pe(e),n=6*Ie,r=t>0,i=Le(t)>Ce;function o(f,d,h,g){fp(g,e,n,h,f,d)}function s(f,d){return Pe(f)*Pe(d)>t}function a(f){var d,h,g,y,w;return{lineStart:function(){y=g=!1,w=1},point:function(b,S){var E=[b,S],A,C=s(b,S),T=r?C?0:u(b,S):C?u(b+(b<0?pe:-pe),S):0;if(!d&&(y=g=C)&&f.lineStart(),C!==g&&(A=l(d,E),(!A||_r(d,A)||_r(E,A))&&(E[2]=1)),C!==g)w=0,C?(f.lineStart(),A=l(E,d),f.point(A[0],A[1])):(A=l(d,E),f.point(A[0],A[1],2),f.lineEnd()),d=A;else if(i&&d&&r^C){var m;!(T&h)&&(m=l(E,d,!0))&&(w=0,r?(f.lineStart(),f.point(m[0][0],m[0][1]),f.point(m[1][0],m[1][1]),f.lineEnd()):(f.point(m[1][0],m[1][1]),f.lineEnd(),f.lineStart(),f.point(m[0][0],m[0][1],3)))}C&&(!d||!_r(d,E))&&f.point(E[0],E[1]),d=E,g=C,h=T},lineEnd:function(){g&&f.lineEnd(),d=null},clean:function(){return w|(y&&g)<<1}}}function l(f,d,h){var g=wn(f),y=wn(d),w=[1,0,0],b=Or(g,y),S=ar(b,b),E=b[0],A=S-E*E;if(!A)return!h&&f;var C=t*S/A,T=-t*E/A,m=Or(w,b),x=lr(w,C),P=lr(b,T);Ei(x,P);var L=m,I=ar(x,L),R=ar(L,L),j=I*I-R*(ar(x,x)-1);if(!(j<0)){var $=oi(j),q=lr(L,(-I-$)/R);if(Ei(q,x),q=Ji(q),!h)return q;var k=f[0],W=d[0],G=f[1],Z=d[1],z;W<k&&(z=k,k=W,W=z);var V=W-k,Y=Le(V-pe)<Ce,X=Y||V<Ce;if(!Y&&Z<G&&(z=G,G=Z,Z=z),X?Y?G+Z>0^q[1]<(Le(q[0]-k)<Ce?G:Z):G<=q[1]&&q[1]<=Z:V>pe^(k<=q[0]&&q[0]<=W)){var te=lr(L,(-I+$)/R);return Ei(te,x),[q,Ji(te)]}}}function u(f,d){var h=r?e:pe-e,g=0;return f<-h?g|=1:f>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return Yl(s,a,o,r?[0,-e]:[-pe,e-pe])}function yp(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],f=0,d=1,h=l-s,g=u-a,y;if(y=n-s,!(!h&&y>0)){if(y/=h,h<0){if(y<f)return;y<d&&(d=y)}else if(h>0){if(y>d)return;y>f&&(f=y)}if(y=i-s,!(!h&&y<0)){if(y/=h,h<0){if(y>d)return;y>f&&(f=y)}else if(h>0){if(y<f)return;y<d&&(d=y)}if(y=r-a,!(!g&&y>0)){if(y/=g,g<0){if(y<f)return;y<d&&(d=y)}else if(g>0){if(y>d)return;y>f&&(f=y)}if(y=o-a,!(!g&&y<0)){if(y/=g,g<0){if(y>d)return;y>f&&(f=y)}else if(g>0){if(y<f)return;y<d&&(d=y)}return f>0&&(e[0]=s+f*h,e[1]=a+f*g),d<1&&(t[0]=s+d*h,t[1]=a+d*g),!0}}}}}var Ln=1e9,fr=-Ln;function wp(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function o(u,f,d,h){var g=0,y=0;if(u==null||(g=s(u,d))!==(y=s(f,d))||l(u,f)<0^d>0)do h.point(g===0||g===3?e:n,g>1?r:t);while((g=(g+d+4)%4)!==y);else h.point(f[0],f[1])}function s(u,f){return Le(u[0]-e)<Ce?f>0?0:3:Le(u[0]-n)<Ce?f>0?2:1:Le(u[1]-t)<Ce?f>0?1:0:f>0?3:2}function a(u,f){return l(u.x,f.x)}function l(u,f){var d=s(u,1),h=s(f,1);return d!==h?d-h:d===0?f[1]-u[1]:d===1?u[0]-f[0]:d===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,d=ql(),h,g,y,w,b,S,E,A,C,T,m,x={point:P,lineStart:j,lineEnd:$,polygonStart:I,polygonEnd:R};function P(k,W){i(k,W)&&f.point(k,W)}function L(){for(var k=0,W=0,G=g.length;W<G;++W)for(var Z=g[W],z=1,V=Z.length,Y=Z[0],X,te,ie=Y[0],ve=Y[1];z<V;++z)X=ie,te=ve,Y=Z[z],ie=Y[0],ve=Y[1],te<=r?ve>r&&(ie-X)*(r-te)>(ve-te)*(e-X)&&++k:ve<=r&&(ie-X)*(r-te)<(ve-te)*(e-X)&&--k;return k}function I(){f=d,h=[],g=[],m=!0}function R(){var k=L(),W=m&&k,G=(h=$l(h)).length;(W||G)&&(u.polygonStart(),W&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),G&&Gl(h,a,k,o,u),u.polygonEnd()),f=u,h=g=y=null}function j(){x.point=q,g&&g.push(y=[]),T=!0,C=!1,E=A=NaN}function $(){h&&(q(w,b),S&&C&&d.rejoin(),h.push(d.result())),x.point=P,C&&f.lineEnd()}function q(k,W){var G=i(k,W);if(g&&y.push([k,W]),T)w=k,b=W,S=G,T=!1,G&&(f.lineStart(),f.point(k,W));else if(G&&C)f.point(k,W);else{var Z=[E=Math.max(fr,Math.min(Ln,E)),A=Math.max(fr,Math.min(Ln,A))],z=[k=Math.max(fr,Math.min(Ln,k)),W=Math.max(fr,Math.min(Ln,W))];yp(Z,z,e,t,n,r)?(C||(f.lineStart(),f.point(Z[0],Z[1])),f.point(z[0],z[1]),G||f.lineEnd(),m=!1):G&&(f.lineStart(),f.point(k,W),m=!1)}E=k,A=W,C=G}return x}}var na=e=>e,bn=1/0,Nr=bn,Wn=-bn,Vr=Wn,bp={point:xp,lineStart:Fn,lineEnd:Fn,polygonStart:Fn,polygonEnd:Fn,result:function(){var e=[[bn,Nr],[Wn,Vr]];return Wn=Vr=-(Nr=bn=1/0),e}};function xp(e,t){e<bn&&(bn=e),e>Wn&&(Wn=e),t<Nr&&(Nr=t),t>Vr&&(Vr=t)}var ra=bp;function No(e){return function(t){var n=new ro;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ro(){}ro.prototype={constructor:ro,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vo(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),lp(n,e.stream(ra)),t(ra.result()),r!=null&&e.clipExtent(r),e}function Kl(e,t,n){return Vo(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function _p(e,t,n){return Kl(e,[[0,0],t],n)}function Cp(e,t,n){return Vo(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function Ep(e,t,n){return Vo(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var ia=16,Ap=Pe(30*Ie);function oa(e,t){return+t?Sp(e,t):Tp(e)}function Tp(e){return No({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Sp(e,t){function n(r,i,o,s,a,l,u,f,d,h,g,y,w,b){var S=u-r,E=f-i,A=S*S+E*E;if(A>4*t&&w--){var C=s+h,T=a+g,m=l+y,x=oi(C*C+T*T+m*m),P=$n(m/=x),L=Le(Le(m)-1)<Ce||Le(o-d)<Ce?(o+d)/2:Hn(T,C),I=e(L,P),R=I[0],j=I[1],$=R-r,q=j-i,k=E*$-S*q;(k*k/A>t||Le((S*$+E*q)/A-.5)>.3||s*h+a*g+l*y<Ap)&&(n(r,i,o,s,a,l,R,j,L,C/=x,T/=x,m,w,b),b.point(R,j),n(R,j,L,C,T,m,u,f,d,h,g,y,w,b))}}return function(r){var i,o,s,a,l,u,f,d,h,g,y,w,b={point:S,lineStart:E,lineEnd:C,polygonStart:function(){r.polygonStart(),b.lineStart=T},polygonEnd:function(){r.polygonEnd(),b.lineStart=E}};function S(P,L){P=e(P,L),r.point(P[0],P[1])}function E(){d=NaN,b.point=A,r.lineStart()}function A(P,L){var I=wn([P,L]),R=e(P,L);n(d,h,f,g,y,w,d=R[0],h=R[1],f=P,g=I[0],y=I[1],w=I[2],ia,r),r.point(d,h)}function C(){b.point=S,r.lineEnd()}function T(){E(),b.point=m,b.lineEnd=x}function m(P,L){A(i=P,L),o=d,s=h,a=g,l=y,u=w,b.point=A}function x(){n(d,h,f,g,y,w,o,s,i,a,l,u,ia,r),b.lineEnd=C,C()}return b}}var Mp=No({point:function(e,t){this.stream.point(e*Ie,t*Ie)}});function Pp(e){return No({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Fp(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function sa(e,t,n,r,i,o){if(!o)return Fp(e,t,n,r,i);var s=Pe(o),a=Fe(o),l=s*e,u=a*e,f=s/e,d=a/e,h=(a*n-s*t)/e,g=(a*t+s*n)/e;function y(w,b){return w*=r,b*=i,[l*w-u*b+t,n-u*w-l*b]}return y.invert=function(w,b){return[r*(f*w-d*b+h),i*(g-d*w-f*b)]},y}function Lp(e){return kp(function(){return e})()}function kp(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,f,d=0,h=1,g=1,y=null,w=ta,b=null,S,E,A,C=na,T=.5,m,x,P,L,I;function R(k){return P(k[0]*Ie,k[1]*Ie)}function j(k){return k=P.invert(k[0],k[1]),k&&[k[0]*et,k[1]*et]}R.stream=function(k){return L&&I===k?L:L=Mp(Pp(f)(w(m(C(I=k)))))},R.preclip=function(k){return arguments.length?(w=k,y=void 0,q()):w},R.postclip=function(k){return arguments.length?(C=k,b=S=E=A=null,q()):C},R.clipAngle=function(k){return arguments.length?(w=+k?mp(y=k*Ie):(y=null,ta),q()):y*et},R.clipExtent=function(k){return arguments.length?(C=k==null?(b=S=E=A=null,na):wp(b=+k[0][0],S=+k[0][1],E=+k[1][0],A=+k[1][1]),q()):b==null?null:[[b,S],[E,A]]},R.scale=function(k){return arguments.length?(n=+k,$()):n},R.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],$()):[r,i]},R.center=function(k){return arguments.length?(o=k[0]%360*Ie,s=k[1]%360*Ie,$()):[o*et,s*et]},R.rotate=function(k){return arguments.length?(a=k[0]%360*Ie,l=k[1]%360*Ie,u=k.length>2?k[2]%360*Ie:0,$()):[a*et,l*et,u*et]},R.angle=function(k){return arguments.length?(d=k%360*Ie,$()):d*et},R.reflectX=function(k){return arguments.length?(h=k?-1:1,$()):h<0},R.reflectY=function(k){return arguments.length?(g=k?-1:1,$()):g<0},R.precision=function(k){return arguments.length?(m=oa(x,T=k*k),q()):oi(T)},R.fitExtent=function(k,W){return Kl(R,k,W)},R.fitSize=function(k,W){return _p(R,k,W)},R.fitWidth=function(k,W){return Cp(R,k,W)},R.fitHeight=function(k,W){return Ep(R,k,W)};function $(){var k=sa(n,0,0,h,g,d).apply(null,t(o,s)),W=sa(n,r-k[0],i-k[1],h,g,d);return f=jl(a,l,u),x=to(t,W),P=to(f,x),m=oa(x,T),q()}function q(){return L=I=null,R}return function(){return t=e.apply(this,arguments),R.invert=t.invert&&j,$()}}function Uo(e,t){return[e,ip(sp((Ze+t)/2))]}Uo.invert=function(e,t){return[e,2*Wl(rp(t))-Ze]};function Rp(){return Ip(Uo).scale(961/lt)}function Ip(e){var t=Lp(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),f()):r()},t.translate=function(d){return arguments.length?(i(d),f()):i()},t.center=function(d){return arguments.length?(n(d),f()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),f()):s==null?null:[[s,a],[l,u]]};function f(){var d=pe*r(),h=t(up(t.rotate()).invert([0,0]));return o(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===Uo?[[Math.max(h[0]-d,s),a],[Math.min(h[0]+d,l),u]]:[[s,Math.max(h[1]-d,a)],[l,Math.min(h[1]+d,u)]])}return f()}class jn{constructor(){this.elements=[],this.bounds=new Jh,this.nodes=new Map,this.wayPointCount=0,this.id=0,this.name="",this.isArea=!0,this.projector=void 0}setName(t){this.name=t}setId(t){this.id=t}setIsArea(t){this.isArea=t}setBBox(t){this.bboxString=t}hasRoads(){return this.wayPointCount>0}setProjector(t){this.projector=t}static fromPBF(t){if(t.version!==1)throw new Error("Unknown version "+t.version);let n=[];t.nodes.forEach(i=>{i.type="node",n.push(i)}),t.ways.forEach(i=>{i.type="way",n.push(i)});const r=jn.fromOSMResponse(n);return r.setName(t.name),r.setId(t.id),r}static fromOSMResponse(t){let n=new jn,r=n.nodes,i=n.bounds,o=0;return t.forEach(s=>{s.type==="node"?(r.set(s.id,s),i.addPoint(s.lon,s.lat)):s.type==="way"&&(o+=s.nodes.length)}),n.elements=t,n.wayPointCount=o,n}getProjectedRect(){let t=this.bounds,n=this.getProjector(),r=n({lon:t.left,lat:t.bottom}),i=n({lon:t.right,lat:t.top}),o=r.x,s=r.y,a=i.y,l=i.x;return{left:o,top:s,right:l,bottom:a,width:l-o,height:Math.abs(a-s)}}forEachElement(t){this.elements.forEach(t)}forEachWay(t,n,r){let i=this.nodes,o=this.getProjector();this.elements.forEach(s=>{if(s.type!=="way")return;let a=s.nodes,l=i.get(a[0]);if(!l)return;let u=o(l);n&&n(s);for(let f=1;f<a.length;++f){if(l=i.get(a[f]),!l)continue;let d=o(l);t(u,d),u=d}r&&r(s)})}getProjector(){let t=[0,0];this.projector||(this.projector=Rp(),this.projector.center([this.bounds.cx,this.bounds.cy]).scale(6371393));let n=this.projector;return r;function r({lon:i,lat:o}){t[0]=i,t[1]=o;let s=n(t);return{x:s[0],y:-s[1]}}}}let aa=new Map;function zo(e){let t=aa.get(e);if(t)return Promise.resolve(t);let n=encodeURIComponent(e);return ii(`https://nominatim.openstreetmap.org/search?format=json&q=${n}`,{responseType:"json"}).then(Bp).then(r=>(aa.set(e,r),r))}function Bp(e){return e.map(n=>{let r,i;return n.osm_type==="relation"?r=n.osm_id+36e8:n.osm_type==="way"&&(r=n.osm_id+24e8),n.boundingbox&&(i=[Number.parseFloat(n.boundingbox[0]),Number.parseFloat(n.boundingbox[2]),Number.parseFloat(n.boundingbox[1]),Number.parseFloat(n.boundingbox[3])]),{areaId:r,bbox:i,lat:n.lat,lon:n.lon,osmId:n.osm_id,osmType:n.osm_type,name:n.display_name,type:n.type}})}const Wo=class{static runFromOptions(t,n){return t.getQueryTemplate().then(r=>new Wo(r,n).run())}constructor(t,n){this.queryBounds=t.bounds,this.queryString=t.queryString,this.progress=n,this.promise=null}run(){if(this.promise)return this.promise;let t=Np(this.queryString);return this.promise=Dp(t).then(n=>Qh(n,this.progress)).then(n=>{let r=jn.fromOSMResponse(n.elements);return r.queryBounds=this.queryBounds,r}),this.promise}};let dt=Wo;rn(dt,"All","way"),rn(dt,"Building","way[building]"),rn(dt,"Road","way[highway]"),rn(dt,"RoadBasic",'way[highway~"^(motorway|primary|secondary|tertiary)|residential"]'),rn(dt,"RoadStrict",'way[highway~"^(((motorway|trunk|primary|secondary|tertiary)(_link)?)|unclassified|residential|living_street|pedestrian|service|track)$"][area!=yes]');function Dp(e){let t=0;return r().then(n);function n(){return e.map(i=>{if(typeof i=="string")return i;if(i.geoType==="Area")return`area(${i.areaId})`;if(i.geoType==="Coords")return i.lat+","+i.lon;if(i.geoType==="Id")return`${i.osmType}(${i.osmId})`;if(i.geoType==="Bbox")return i.bbox.join(",")}).join("")}function r(){if(t>=e.length)return Promise.resolve();let i=e[t];return t+=1,typeof i=="string"?r():zo(i.name).then(Op).then(o=>{if(!o)throw new Error("No areas found for request "+i.name);Object.assign(i,o)}).then(Vp(1e3)).then(r)}}function Op(e){if(e.length>0)return e[0]}function Np(e){let t=/{{geocode(.+?):(.+?)}}/,n,r=[];for(;n=e.match(t);)r.push(e.substr(0,n.index)),r.push({geoType:n[1],name:n[2]}),e=e.substr(n.index+n[0].length);return r.push(e),r}function Vp(e){return function(t){return new Promise(n=>{setTimeout(()=>n(t),e)})}}var Up=function(e){Hp(e);var t=zp(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};function zp(e){var t=Object.create(null);return{on:function(n,r,i){if(typeof r!="function")throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i=typeof n=="undefined";if(i)return t=Object.create(null),e;if(t[n]){var o=typeof r!="function";if(o)delete t[n];else for(var s=t[n],a=0;a<s.length;++a)s[a].callback===r&&s.splice(a,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var s=r[o];s.callback.apply(s.ctx,i)}return e}}}function Hp(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var $p=Wp;function Wp(e){var t=[],n=e;return{dispose:o,onChanged:s,set:i,get:r};function r(){return n}function i(l){n=l,setTimeout(function(){a(l)},0)}function o(){t=[]}function s(l){if(typeof l!="function")throw new Error("changeCallback should be a function");t.push(l)}function a(l){t.forEach(function(u){u(l)})}}var jp={parse:Gp,stringify:qp};function qp(e){if(!e)return"";return Object.keys(e).map(t).join("&");function t(n){var r=e[n],i=Xl(n);return r!==void 0&&(i+="="+Yp(r)),i}}function Gp(e){var t=Object.create(null);if(!e)return t;return e.split("&").forEach(n),t;function n(r){if(!!r){var i=r.split("=");t[decodeURIComponent(i[0])]=Xp(i[1])}}}function Yp(e){e instanceof Date&&(e=e.toISOString());var t=Xl(e);return t}function Xl(e){var t=encodeURIComponent(e);return t.replace(/[()]/g,Kp)}function Kp(e){return e===")"?"%29":e==="("?"%28":e}function Xp(e){return e=decodeURIComponent(e),e===""?e:isNaN(e)?Zp(e)?e==="true":Qp(e)?new Date(e):e:parseFloat(e)}function Zp(e){return e==="true"||e==="false"}function Qp(e){return e&&e.match(/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/)}var Jp=tv,ev=$p,cr=jp;function tv(e,t){if(typeof window=="undefined")return ev(e);var n=[],r=t&&t.useSearch,i=r?"?":"#?";return t.rewriteHashToSearch&&s(),o(),{onChanged:l,dispose:u,set:a,get:h,rewriteHashToSearch:s};function o(){var g=h(),y=!1;typeof e=="object"&&e&&Object.keys(e).forEach(function(w){w in g||(g[w]=e[w],y=!0)}),y&&a(g)}function s(){var g=Object.create(null),y=window.location.search;y&&(g=Object.assign(g,cr.parse(y.substr(1))));var w=window.location.hash;w&&(g=Object.assign(g,cr.parse(w.substr(2)))),a(g)}function a(g){var y=i+cr.stringify(g);r&&window.location.hash&&(y+=window.location.hash),window.history?window.history.replaceState(void 0,void 0,y):window.location.replace(y)}function l(g){if(typeof g!="function")throw new Error("changeCallback needs to be a function");n.length===0&&window.addEventListener("hashchange",f,!1),n.push(g)}function u(){n.length!==0&&(n=[],window.removeEventListener("hashchange",f,!1))}function f(){var g=h();d(g)}function d(g){for(var y=0;y<n.length;++y){var w=n[y];w(g)}}function h(){var g=r?window.location.search:window.location.hash,y=(g||i).substr(i.length);return cr.parse(y)}}var nv=Ho,rv=Up,iv=Jp;Ho.instance=ov;var dr;function Ho(e,t){t=t||{};var n=t.history||iv(e,t);sv(n),n.onChanged(g);var r=n.get()||Object.create(null),i={get:f,set:d,unset:h,setIfEmpty:y,dispose:u,onChange:s,offChange:a,getHistoryObject:l},o=rv({});return i;function s(w,b){o.on("change",w,b)}function a(w,b){o.off("change",w,b)}function l(){return n}function u(){n.dispose(),o.off()}function f(w){return w===void 0?r:r[w]}function d(w,b){var S=typeof w;return S==="object"?Object.keys(w).forEach(function(E){r[E]=w[E]}):S==="string"&&(r[w]=b),n.set(r),i}function h(w){if(w in r)return delete r[w],n.set(r),i}function g(w){r=w,o.fire("change",r)}function y(w,b){if(typeof w=="object"&&Object.keys(w).forEach(function(S){S in r||(r[S]=w[S])}),!(w in r))return r[w]=b,n.set(r),i}}function ov(e,t){return dr?e&&dr.setIfEmpty(e):dr=Ho(e,t),dr}function sv(e){if(!e)throw new Error("history is required");if(typeof e.dispose!="function")throw new Error("dispose is required");if(typeof e.onChanged!="function")throw new Error("onChanged is required")}const ct=nv({},{useSearch:!0});var ze={isCacheEnabled(){return ct.get("cache")!=0},enableCache(){return ct.unset("cache")},get(){return ct.get.apply(ct,arguments)},set(){return ct.set.apply(ct,arguments)},unset(){return ct.unset.apply(ct,arguments)},unsetPlace(){ct.unset("areaId"),ct.unset("osm_id"),ct.unset("bbox")}},Zl={exports:{}};(function(e){(function(t){var n=/^\s+/,r=/\s+$/,i=0,o=t.round,s=t.min,a=t.max,l=t.random;function u(c,p){if(c=c||"",p=p||{},c instanceof u)return c;if(!(this instanceof u))return new u(c,p);var v=f(c);this._originalInput=c,this._r=v.r,this._g=v.g,this._b=v.b,this._a=v.a,this._roundA=o(100*this._a)/100,this._format=p.format||v.format,this._gradientType=p.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=v.ok,this._tc_id=i++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var c=this.toRgb();return(c.r*299+c.g*587+c.b*114)/1e3},getLuminance:function(){var c=this.toRgb(),p,v,_,M,F,O;return p=c.r/255,v=c.g/255,_=c.b/255,p<=.03928?M=p/12.92:M=t.pow((p+.055)/1.055,2.4),v<=.03928?F=v/12.92:F=t.pow((v+.055)/1.055,2.4),_<=.03928?O=_/12.92:O=t.pow((_+.055)/1.055,2.4),.2126*M+.7152*F+.0722*O},setAlpha:function(c){return this._a=z(c),this._roundA=o(100*this._a)/100,this},toHsv:function(){var c=y(this._r,this._g,this._b);return{h:c.h*360,s:c.s,v:c.v,a:this._a}},toHsvString:function(){var c=y(this._r,this._g,this._b),p=o(c.h*360),v=o(c.s*100),_=o(c.v*100);return this._a==1?"hsv("+p+", "+v+"%, "+_+"%)":"hsva("+p+", "+v+"%, "+_+"%, "+this._roundA+")"},toHsl:function(){var c=h(this._r,this._g,this._b);return{h:c.h*360,s:c.s,l:c.l,a:this._a}},toHslString:function(){var c=h(this._r,this._g,this._b),p=o(c.h*360),v=o(c.s*100),_=o(c.l*100);return this._a==1?"hsl("+p+", "+v+"%, "+_+"%)":"hsla("+p+", "+v+"%, "+_+"%, "+this._roundA+")"},toHex:function(c){return b(this._r,this._g,this._b,c)},toHexString:function(c){return"#"+this.toHex(c)},toHex8:function(c){return S(this._r,this._g,this._b,this._a,c)},toHex8String:function(c){return"#"+this.toHex8(c)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(V(this._r,255)*100)+"%",g:o(V(this._g,255)*100)+"%",b:o(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(V(this._r,255)*100)+"%, "+o(V(this._g,255)*100)+"%, "+o(V(this._b,255)*100)+"%)":"rgba("+o(V(this._r,255)*100)+"%, "+o(V(this._g,255)*100)+"%, "+o(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:G[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(c){var p="#"+E(this._r,this._g,this._b,this._a),v=p,_=this._gradientType?"GradientType = 1, ":"";if(c){var M=u(c);v="#"+E(M._r,M._g,M._b,M._a)}return"progid:DXImageTransform.Microsoft.gradient("+_+"startColorstr="+p+",endColorstr="+v+")"},toString:function(c){var p=!!c;c=c||this._format;var v=!1,_=this._a<1&&this._a>=0,M=!p&&_&&(c==="hex"||c==="hex6"||c==="hex3"||c==="hex4"||c==="hex8"||c==="name");return M?c==="name"&&this._a===0?this.toName():this.toRgbString():(c==="rgb"&&(v=this.toRgbString()),c==="prgb"&&(v=this.toPercentageRgbString()),(c==="hex"||c==="hex6")&&(v=this.toHexString()),c==="hex3"&&(v=this.toHexString(!0)),c==="hex4"&&(v=this.toHex8String(!0)),c==="hex8"&&(v=this.toHex8String()),c==="name"&&(v=this.toName()),c==="hsl"&&(v=this.toHslString()),c==="hsv"&&(v=this.toHsvString()),v||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(c,p){var v=c.apply(null,[this].concat([].slice.call(p)));return this._r=v._r,this._g=v._g,this._b=v._b,this.setAlpha(v._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(c,p){return c.apply(null,[this].concat([].slice.call(p)))},analogous:function(){return this._applyCombination(q,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination($,arguments)},triad:function(){return this._applyCombination(R,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},u.fromRatio=function(c,p){if(typeof c=="object"){var v={};for(var _ in c)c.hasOwnProperty(_)&&(_==="a"?v[_]=c[_]:v[_]=Me(c[_]));c=v}return u(c,p)};function f(c){var p={r:0,g:0,b:0},v=1,_=null,M=null,F=null,O=!1,B=!1;return typeof c=="string"&&(c=ke(c)),typeof c=="object"&&(le(c.r)&&le(c.g)&&le(c.b)?(p=d(c.r,c.g,c.b),O=!0,B=String(c.r).substr(-1)==="%"?"prgb":"rgb"):le(c.h)&&le(c.s)&&le(c.v)?(_=Me(c.s),M=Me(c.v),p=w(c.h,_,M),O=!0,B="hsv"):le(c.h)&&le(c.s)&&le(c.l)&&(_=Me(c.s),F=Me(c.l),p=g(c.h,_,F),O=!0,B="hsl"),c.hasOwnProperty("a")&&(v=c.a)),v=z(v),{ok:O,format:c.format||B,r:s(255,a(p.r,0)),g:s(255,a(p.g,0)),b:s(255,a(p.b,0)),a:v}}function d(c,p,v){return{r:V(c,255)*255,g:V(p,255)*255,b:V(v,255)*255}}function h(c,p,v){c=V(c,255),p=V(p,255),v=V(v,255);var _=a(c,p,v),M=s(c,p,v),F,O,B=(_+M)/2;if(_==M)F=O=0;else{var U=_-M;switch(O=B>.5?U/(2-_-M):U/(_+M),_){case c:F=(p-v)/U+(p<v?6:0);break;case p:F=(v-c)/U+2;break;case v:F=(c-p)/U+4;break}F/=6}return{h:F,s:O,l:B}}function g(c,p,v){var _,M,F;c=V(c,360),p=V(p,100),v=V(v,100);function O(N,Q,K){return K<0&&(K+=1),K>1&&(K-=1),K<1/6?N+(Q-N)*6*K:K<1/2?Q:K<2/3?N+(Q-N)*(2/3-K)*6:N}if(p===0)_=M=F=v;else{var B=v<.5?v*(1+p):v+p-v*p,U=2*v-B;_=O(U,B,c+1/3),M=O(U,B,c),F=O(U,B,c-1/3)}return{r:_*255,g:M*255,b:F*255}}function y(c,p,v){c=V(c,255),p=V(p,255),v=V(v,255);var _=a(c,p,v),M=s(c,p,v),F,O,B=_,U=_-M;if(O=_===0?0:U/_,_==M)F=0;else{switch(_){case c:F=(p-v)/U+(p<v?6:0);break;case p:F=(v-c)/U+2;break;case v:F=(c-p)/U+4;break}F/=6}return{h:F,s:O,v:B}}function w(c,p,v){c=V(c,360)*6,p=V(p,100),v=V(v,100);var _=t.floor(c),M=c-_,F=v*(1-p),O=v*(1-M*p),B=v*(1-(1-M)*p),U=_%6,N=[v,O,F,F,B,v][U],Q=[B,v,v,O,F,F][U],K=[F,F,B,v,v,O][U];return{r:N*255,g:Q*255,b:K*255}}function b(c,p,v,_){var M=[ve(o(c).toString(16)),ve(o(p).toString(16)),ve(o(v).toString(16))];return _&&M[0].charAt(0)==M[0].charAt(1)&&M[1].charAt(0)==M[1].charAt(1)&&M[2].charAt(0)==M[2].charAt(1)?M[0].charAt(0)+M[1].charAt(0)+M[2].charAt(0):M.join("")}function S(c,p,v,_,M){var F=[ve(o(c).toString(16)),ve(o(p).toString(16)),ve(o(v).toString(16)),ve(se(_))];return M&&F[0].charAt(0)==F[0].charAt(1)&&F[1].charAt(0)==F[1].charAt(1)&&F[2].charAt(0)==F[2].charAt(1)&&F[3].charAt(0)==F[3].charAt(1)?F[0].charAt(0)+F[1].charAt(0)+F[2].charAt(0)+F[3].charAt(0):F.join("")}function E(c,p,v,_){var M=[ve(se(_)),ve(o(c).toString(16)),ve(o(p).toString(16)),ve(o(v).toString(16))];return M.join("")}u.equals=function(c,p){return!c||!p?!1:u(c).toRgbString()==u(p).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function A(c,p){p=p===0?0:p||10;var v=u(c).toHsl();return v.s-=p/100,v.s=Y(v.s),u(v)}function C(c,p){p=p===0?0:p||10;var v=u(c).toHsl();return v.s+=p/100,v.s=Y(v.s),u(v)}function T(c){return u(c).desaturate(100)}function m(c,p){p=p===0?0:p||10;var v=u(c).toHsl();return v.l+=p/100,v.l=Y(v.l),u(v)}function x(c,p){p=p===0?0:p||10;var v=u(c).toRgb();return v.r=a(0,s(255,v.r-o(255*-(p/100)))),v.g=a(0,s(255,v.g-o(255*-(p/100)))),v.b=a(0,s(255,v.b-o(255*-(p/100)))),u(v)}function P(c,p){p=p===0?0:p||10;var v=u(c).toHsl();return v.l-=p/100,v.l=Y(v.l),u(v)}function L(c,p){var v=u(c).toHsl(),_=(v.h+p)%360;return v.h=_<0?360+_:_,u(v)}function I(c){var p=u(c).toHsl();return p.h=(p.h+180)%360,u(p)}function R(c){var p=u(c).toHsl(),v=p.h;return[u(c),u({h:(v+120)%360,s:p.s,l:p.l}),u({h:(v+240)%360,s:p.s,l:p.l})]}function j(c){var p=u(c).toHsl(),v=p.h;return[u(c),u({h:(v+90)%360,s:p.s,l:p.l}),u({h:(v+180)%360,s:p.s,l:p.l}),u({h:(v+270)%360,s:p.s,l:p.l})]}function $(c){var p=u(c).toHsl(),v=p.h;return[u(c),u({h:(v+72)%360,s:p.s,l:p.l}),u({h:(v+216)%360,s:p.s,l:p.l})]}function q(c,p,v){p=p||6,v=v||30;var _=u(c).toHsl(),M=360/v,F=[u(c)];for(_.h=(_.h-(M*p>>1)+720)%360;--p;)_.h=(_.h+M)%360,F.push(u(_));return F}function k(c,p){p=p||6;for(var v=u(c).toHsv(),_=v.h,M=v.s,F=v.v,O=[],B=1/p;p--;)O.push(u({h:_,s:M,v:F})),F=(F+B)%1;return O}u.mix=function(c,p,v){v=v===0?0:v||50;var _=u(c).toRgb(),M=u(p).toRgb(),F=v/100,O={r:(M.r-_.r)*F+_.r,g:(M.g-_.g)*F+_.g,b:(M.b-_.b)*F+_.b,a:(M.a-_.a)*F+_.a};return u(O)},u.readability=function(c,p){var v=u(c),_=u(p);return(t.max(v.getLuminance(),_.getLuminance())+.05)/(t.min(v.getLuminance(),_.getLuminance())+.05)},u.isReadable=function(c,p,v){var _=u.readability(c,p),M,F;switch(F=!1,M=Ue(v),M.level+M.size){case"AAsmall":case"AAAlarge":F=_>=4.5;break;case"AAlarge":F=_>=3;break;case"AAAsmall":F=_>=7;break}return F},u.mostReadable=function(c,p,v){var _=null,M=0,F,O,B,U;v=v||{},O=v.includeFallbackColors,B=v.level,U=v.size;for(var N=0;N<p.length;N++)F=u.readability(c,p[N]),F>M&&(M=F,_=u(p[N]));return u.isReadable(c,_,{level:B,size:U})||!O?_:(v.includeFallbackColors=!1,u.mostReadable(c,["#fff","#000"],v))};var W=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=u.hexNames=Z(W);function Z(c){var p={};for(var v in c)c.hasOwnProperty(v)&&(p[c[v]]=v);return p}function z(c){return c=parseFloat(c),(isNaN(c)||c<0||c>1)&&(c=1),c}function V(c,p){te(c)&&(c="100%");var v=ie(c);return c=s(p,a(0,parseFloat(c))),v&&(c=parseInt(c*p,10)/100),t.abs(c-p)<1e-6?1:c%p/parseFloat(p)}function Y(c){return s(1,a(0,c))}function X(c){return parseInt(c,16)}function te(c){return typeof c=="string"&&c.indexOf(".")!=-1&&parseFloat(c)===1}function ie(c){return typeof c=="string"&&c.indexOf("%")!=-1}function ve(c){return c.length==1?"0"+c:""+c}function Me(c){return c<=1&&(c=c*100+"%"),c}function se(c){return t.round(parseFloat(c)*255).toString(16)}function de(c){return X(c)/255}var ue=function(){var c="[-\\+]?\\d+%?",p="[-\\+]?\\d*\\.\\d+%?",v="(?:"+p+")|(?:"+c+")",_="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",M="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?";return{CSS_UNIT:new RegExp(v),rgb:new RegExp("rgb"+_),rgba:new RegExp("rgba"+M),hsl:new RegExp("hsl"+_),hsla:new RegExp("hsla"+M),hsv:new RegExp("hsv"+_),hsva:new RegExp("hsva"+M),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function le(c){return!!ue.CSS_UNIT.exec(c)}function ke(c){c=c.replace(n,"").replace(r,"").toLowerCase();var p=!1;if(W[c])c=W[c],p=!0;else if(c=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var v;return(v=ue.rgb.exec(c))?{r:v[1],g:v[2],b:v[3]}:(v=ue.rgba.exec(c))?{r:v[1],g:v[2],b:v[3],a:v[4]}:(v=ue.hsl.exec(c))?{h:v[1],s:v[2],l:v[3]}:(v=ue.hsla.exec(c))?{h:v[1],s:v[2],l:v[3],a:v[4]}:(v=ue.hsv.exec(c))?{h:v[1],s:v[2],v:v[3]}:(v=ue.hsva.exec(c))?{h:v[1],s:v[2],v:v[3],a:v[4]}:(v=ue.hex8.exec(c))?{r:X(v[1]),g:X(v[2]),b:X(v[3]),a:de(v[4]),format:p?"name":"hex8"}:(v=ue.hex6.exec(c))?{r:X(v[1]),g:X(v[2]),b:X(v[3]),format:p?"name":"hex"}:(v=ue.hex4.exec(c))?{r:X(v[1]+""+v[1]),g:X(v[2]+""+v[2]),b:X(v[3]+""+v[3]),a:de(v[4]+""+v[4]),format:p?"name":"hex8"}:(v=ue.hex3.exec(c))?{r:X(v[1]+""+v[1]),g:X(v[2]+""+v[2]),b:X(v[3]+""+v[3]),format:p?"name":"hex"}:!1}function Ue(c){var p,v;return c=c||{level:"AA",size:"small"},p=(c.level||"AA").toUpperCase(),v=(c.size||"small").toLowerCase(),p!=="AA"&&p!=="AAA"&&(p="AA"),v!=="small"&&v!=="large"&&(v="small"),{level:p,size:v}}e.exports?e.exports=u:window.tinycolor=u})(Math)})(Zl);var Oe=Zl.exports,Ft={areaServer:"https://city-roads.s3-us-west-2.amazonaws.com/nov-02-2020",getDefaultLineColor(){return Oe("rgba(26, 26, 26, 0.8)")},getLabelColor(){return Oe("#161616")},getBackgroundColor(){return Oe("#F7F2E8")}};class si{static parse(t,n,r){let i=new si;if(typeof r=="string"&&(i.place=r),n&&(i.wayFilter=n),!r)return i;Object.assign(i,r);let o=av(t,r.layer);if(o){i.projector=o.getGridProjector();let s=o.getQueryBounds();s&&!i.place&&!i.areaId&&!i.bbox&&(i.place=s.place,i.areaId=s.areaId,i.bbox=s.bbox)}return r.projector&&(i.projector=projector),i}constructor(t){this.place=void 0,this.projector=void 0,this.wayFilter=void 0,this.timeout=900,this.maxHeapByteSize=1073741824,this.outputMethod="skel",this.expandArea=1,Object.assign(this,t)}getQueryTemplate(){if(this.raw)return Promise.resolve({queryString:this.raw});if(!this.wayFilter)throw new Error("Way filter is required");return this.getBounds().then(t=>{let n;if(t.areaId)n=`[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][out:json];
area(${t.areaId});
(._; )->.area;
(${this.wayFilter}(area.area); node(w););
out ${this.outputMethod};`;else if(t.bbox){let r=t.bbox;if(this.expandArea>1){let o=(r[2]-r[0])*(this.expandArea-1)/2,s=(r[3]-r[1])*(this.expandArea-1)/2;r=[r[0]-o,r[1]-s,r[2]+o,r[3]+s]}let i=lv(r);n=`[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][bbox:${i}][out:json];
(${this.wayFilter}; node(w););
out ${this.outputMethod};`}return{bounds:t,queryString:n}})}getBounds(){if(this.place)return zo(this.place).then(t=>t&&t[0]);if(this.areaId)return Promise.resolve({areaId:this.areaId});if(this.bbox)return Promise.resolve({bbox:this.bbox});throw new Error("Please specify bounding area for the query (place|areaId|bbox)")}}function av(e,t){if(t!==void 0)return typeof t=="number"?e.queryLayerAll()[t]:typeof t=="string"?e.queryLayer(t):t}function lv(e){return e&&e.join(",")}var $o={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$o.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,u=l>>1,f=-7,d=n?i-1:0,h=n?-1:1,g=e[t+d];for(d+=h,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+e[t+d],d+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+e[t+d],d+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-u}return(g?-1:1)*s*Math.pow(2,o-r)};$o.write=function(e,t,n,r,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,d=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,y=r?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=f?(a=0,s=f):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s=s+d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+g]=a&255,g+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+g]=s&255,g+=y,s/=256,u-=8);e[n+g-y]|=w*128};var uv=ye,hr=$o;function ye(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}ye.Varint=0;ye.Fixed64=1;ye.Bytes=2;ye.Fixed32=5;var io=(1<<16)*(1<<16),la=1/io,fv=12,Ql=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");ye.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=pr(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=fa(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=pr(this.buf,this.pos)+pr(this.buf,this.pos+4)*io;return this.pos+=8,e},readSFixed64:function(){var e=pr(this.buf,this.pos)+fa(this.buf,this.pos+4)*io;return this.pos+=8,e},readFloat:function(){var e=hr.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=hr.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,cv(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=fv&&Ql?Av(this.buf,t,e):Ev(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==ye.Bytes)return e.push(this.readVarint(t));var n=St(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==ye.Bytes)return e.push(this.readSVarint());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==ye.Bytes)return e.push(this.readBoolean());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==ye.Bytes)return e.push(this.readFloat());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==ye.Bytes)return e.push(this.readDouble());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==ye.Bytes)return e.push(this.readFixed32());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==ye.Bytes)return e.push(this.readSFixed32());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==ye.Bytes)return e.push(this.readFixed64());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==ye.Bytes)return e.push(this.readSFixed64());var t=St(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===ye.Varint)for(;this.buf[this.pos++]>127;);else if(t===ye.Bytes)this.pos=this.readVarint()+this.pos;else if(t===ye.Fixed32)this.pos+=4;else if(t===ye.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),sn(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),sn(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),sn(this.buf,e&-1,this.pos),sn(this.buf,Math.floor(e*la),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),sn(this.buf,e&-1,this.pos),sn(this.buf,Math.floor(e*la),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){dv(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=Tv(this.buf,e,this.pos);var n=this.pos-t;n>=128&&ua(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),hr.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),hr.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&ua(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,ye.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,vv,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,gv,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,wv,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,mv,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,yv,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,bv,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,xv,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,_v,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Cv,t)},writeBytesField:function(e,t){this.writeTag(e,ye.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,ye.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,ye.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,ye.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,ye.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,ye.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,ye.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,ye.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,ye.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,ye.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};function cv(e,t,n){var r=n.buf,i,o;if(o=r[n.pos++],i=(o&112)>>4,o<128||(o=r[n.pos++],i|=(o&127)<<3,o<128)||(o=r[n.pos++],i|=(o&127)<<10,o<128)||(o=r[n.pos++],i|=(o&127)<<17,o<128)||(o=r[n.pos++],i|=(o&127)<<24,o<128)||(o=r[n.pos++],i|=(o&1)<<31,o<128))return on(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function St(e){return e.type===ye.Bytes?e.readVarint()+e.pos:e.pos+1}function on(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function dv(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),hv(n,r,t),pv(r,t)}function hv(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function pv(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function ua(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function vv(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function gv(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function mv(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function yv(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function wv(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function bv(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function xv(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function _v(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Cv(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function pr(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function sn(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function fa(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Ev(e,t,n){for(var r="",i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>n)break;var l,u,f;a===1?o<128&&(s=o):a===2?(l=e[i+1],(l&192)===128&&(s=(o&31)<<6|l&63,s<=127&&(s=null))):a===3?(l=e[i+1],u=e[i+2],(l&192)===128&&(u&192)===128&&(s=(o&15)<<12|(l&63)<<6|u&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(l=e[i+1],u=e[i+2],f=e[i+3],(l&192)===128&&(u&192)===128&&(f&192)===128&&(s=(o&15)<<18|(l&63)<<12|(u&63)<<6|f&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function Av(e,t,n){return Ql.decode(e.subarray(t,n))}function Tv(e,t,n){for(var r=0,i,o;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=i;continue}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}const Ne={};Ne.read=function(e,t){return e.readFields(Ne._readField,{version:0,name:"",date:"",id:"",nodes:[],ways:[]},t)};Ne._readField=function(e,t,n){e===1?t.version=n.readVarint():e===2?t.name=n.readString():e===3?t.date=n.readString():e===4?t.id=n.readString():e===5?t.nodes.push(Ne.node.read(n,n.readVarint()+n.pos)):e===6&&t.ways.push(Ne.way.read(n,n.readVarint()+n.pos))};Ne.write=function(e,t){if(e.version&&t.writeVarintField(1,e.version),e.name&&t.writeStringField(2,e.name),e.date&&t.writeStringField(3,e.date),e.id&&t.writeStringField(4,e.id),e.nodes)for(var n=0;n<e.nodes.length;n++)t.writeMessage(5,Ne.node.write,e.nodes[n]);if(e.ways)for(n=0;n<e.ways.length;n++)t.writeMessage(6,Ne.way.write,e.ways[n])};Ne.node={};Ne.node.read=function(e,t){return e.readFields(Ne.node._readField,{id:0,lat:0,lon:0},t)};Ne.node._readField=function(e,t,n){e===1?t.id=n.readVarint():e===2?t.lat=n.readFloat():e===3&&(t.lon=n.readFloat())};Ne.node.write=function(e,t){e.id&&t.writeVarintField(1,e.id),e.lat&&t.writeFloatField(2,e.lat),e.lon&&t.writeFloatField(3,e.lon)};Ne.way={};Ne.way.read=function(e,t){return e.readFields(Ne.way._readField,{nodes:[]},t)};Ne.way._readField=function(e,t,n){e===1&&n.readPackedVarint(t.nodes)};Ne.way.write=function(e,t){e.nodes&&t.writePackedVarint(1,e.nodes)};const ca="Find City Bounds",Sv={name:"FindPlace",components:{LoadingIcon:Hl},data(){const e=ze.get("q")||"";let t=ha();return{enteredInput:e,loading:null,lastCancel:null,suggestionsLoaded:!1,boxInTheMiddle:!0,stillLoading:0,error:null,hideInput:!1,noRoads:!1,clicked:!1,showWarning:t,mainActionText:t?"Download Area":ca,expandArea:1,suggestions:[]}},watch:{enteredInput(){this.mainActionText=ca,this.showWarning=!1,this.hideInput=!1,ze.unsetPlace()}},mounted(){this.$refs.input.focus(),ze.get("auto")&&this.onSubmit()},beforeUnmount(){this.lastCancel&&this.lastCancel(),clearInterval(this.notifyStillLoading)},methods:{onSubmit(){ze.set("q",this.enteredInput),this.cancelRequest(),this.suggestions=[],this.noRoads=!1,this.error=!1,this.showWarning=!1;const e=ha(this.enteredInput);if(e){this.pickSuggestion(e);return}this.loading="Searching cities that match your query...",zo(this.enteredInput).then(t=>{this.loading=null,this.hideInput=t&&t.length,this.boxInTheMiddle?(this.boxInTheMiddle=!1,setTimeout(()=>{this.suggestionsLoaded=!0,this.suggestions=t},50)):(this.suggestionsLoaded=!0,this.suggestions=t)})},getBugReportURL(e){let t=encodeURIComponent("OSM Error"),n="";return e&&(n="Hello, an error occurred on the website:\n\n```\n"+e.toString()+"\n```\n\n Can you please help?"),`https://github.com/anvaka/city-roads/issues/new?title=${t}&body=${encodeURIComponent(n)}`},updateProgress(e){if(this.stillLoading=0,clearInterval(this.notifyStillLoading),e.loaded<0){this.loading="Trying a different server",this.restartLoadingMonitor();return}e.percent!==void 0?this.loading="Loaded "+Math.round(100*e.percent)+"% ("+da(e.loaded)+" bytes)...":this.loading="Loaded "+da(e.loaded)+" bytes..."},retry(){this.lastSuggestion&&this.pickSuggestion(this.lastSuggestion)},pickSuggestion(e){this.lastSuggestion=e,this.error=!1,ze.isCacheEnabled()&&e.areaId?this.checkCache(e).catch(t=>{if(!t.cancelled)return this.useOSM(e)}):this.useOSM(e)},restartLoadingMonitor(){clearInterval(this.notifyStillLoading),this.stillLoading=0,this.notifyStillLoading=setInterval(()=>{this.stillLoading++},1e4)},checkCache(e){this.loading="Checking cache...";let t=e.areaId;return ii(Ft.areaServer+"/"+t+".pbf",{progress:this.generateNewProgressToken(),responseType:"arraybuffer"}).then(n=>{var r=new Uint8Array(n);return r}).then(n=>{var r=new uv(n),i=Ne.read(r);let o=jn.fromPBF(i);this.$emit("loaded",o)})},useOSM(e){this.loading="Connecting to OpenStreetMap...",this.restartLoadingMonitor();let t={wayFilter:dt.Road,expandArea:this.expandArea};this.expandArea>1||(t.areaId=e.areaId),t.bbox=e.bbox,dt.runFromOptions(new si(t),this.generateNewProgressToken()).then(n=>{this.loading=null,n.hasRoads()?(n.setName(e.name),n.setId(e.areaId||e.osm_id),n.setIsArea(e.areaId),n.setBBox(Mv(e.bbox)),this.$emit("loaded",n)):this.noRoads=!0}).catch(n=>{if(n.cancelled){this.loading=null;return}console.error(n),this.error=n,this.loading=null,this.suggestions=[]}).finally(()=>{clearInterval(this.notifyStillLoading),this.stillLoading=0})},cancelRequest(){this.progressToken&&(this.progressToken.cancel(),this.progressToken=null,this.loading=!1)},generateNewProgressToken(){return this.progressToken&&(this.progressToken.cancel(),this.progressToken=null),this.progressToken=new ri(this.updateProgress),this.progressToken}}};function Mv(e){return e&&e.join(",")}function da(e){return Number.isFinite(e)?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"}function ha(e){let t=Pv();if(t)return{name:e,areaId:t};let n=Fv();if(n)return{name:e,osm_id:n.osm_id,bbox:n.bbox}}function Pv(){let e=ze.get("areaId");return Number.isFinite(Number.parseInt(e,10))||(e=null),e}function Fv(){let e=ze.get("osm_id");if(!Number.isFinite(Number.parseInt(e,10)))return;let t=Lv(ze.get("bbox"));if(!!t)return{osm_id:e,bbox:t}}function Lv(e){if(!e)return null;let t=e.split(",").map(n=>Number.parseFloat(n)).filter(n=>Number.isFinite(n));return t.length===4?t:null}const At=e=>(Wa("data-v-763067d6"),e=e(),ja(),e),kv={key:0},Rv=At(()=>H("h3",{class:"site-header"},"city roads",-1)),Iv=At(()=>H("p",{class:"description"},"This website renders every single road within a city",-1)),Bv=[Rv,Iv],Dv={key:1,class:"prompt message note shadow"},Ov={key:2,class:"results"},Nv={key:0,class:"suggestions shadow"},Vv=At(()=>H("div",{class:"prompt message"},[H("div",null,"Select boundaries below to download all roads within"),H("div",{class:"note"},"large cities may require 200MB+ of data transfer and a powerful device")],-1)),Uv={class:"area-expansion"},zv=At(()=>H("label",{for:"area-size"},"Area size:",-1)),Hv=At(()=>H("option",{value:1},"Normal",-1)),$v=["value"],Wv=At(()=>H("option",{value:2},"Extra Large (2x)",-1)),jv=At(()=>H("option",{value:3},"Huge (3x)",-1)),qv=["onClick"],Gv={key:1,class:"no-results message shadow"},Yv={key:2,class:"no-results message shadow"},Kv={key:3,class:"error message shadow"},Xv=Be("Sorry, we were not able to download data from the OpenStreetMap. It could be very busy at the moment processing other requests. "),Zv=At(()=>H("br",null,null,-1)),Qv=At(()=>H("br",null,null,-1)),Jv=Be(" Please bookmark this website and "),e0=Be(" later?"),t0={class:"error-links"},n0=At(()=>H("a",{href:"https://twitter.com/anvaka/status/1218971717734789120",title:"see what it supposed to do",target:"_blank"},"see how it should have worked",-1)),r0=["href","title"],i0={key:4,class:"loading message shadow"},o0={key:0,class:"load-padding"},s0={key:1,class:"load-padding"};function a0(e,t,n,r,i,o){const s=vt("loading-icon");return ae(),fe("div",{class:tn(["find-place",{centered:i.boxInTheMiddle}])},[i.boxInTheMiddle?(ae(),fe("div",kv,Bv)):Te("",!0),H("form",{onSubmit:t[2]||(t[2]=Ct((...a)=>o.onSubmit&&o.onSubmit(...a),["prevent"])),class:"search-box"},[en(H("input",{class:"query-input","onUpdate:modelValue":t[0]||(t[0]=a=>i.enteredInput=a),type:"text",placeholder:"Enter a city name to start",ref:"input"},null,512),[[gl,i.enteredInput]]),i.enteredInput&&!i.hideInput?(ae(),fe("a",{key:0,type:"submit",class:"search-submit",href:"#",onClick:t[1]||(t[1]=Ct((...a)=>o.onSubmit&&o.onSubmit(...a),["prevent"]))},Vt(i.mainActionText),1)):Te("",!0)],32),i.showWarning?(ae(),fe("div",Dv," Note: Large cities may require 200MB+ of data transfer and may need a powerful device to render. ")):Te("",!0),i.loading?Te("",!0):(ae(),fe("div",Ov,[i.suggestionsLoaded&&i.suggestions.length?(ae(),fe("div",Nv,[Vv,H("div",Uv,[zv,en(H("select",{id:"area-size","onUpdate:modelValue":t[3]||(t[3]=a=>i.expandArea=a)},[Hv,H("option",{value:1.5},"Large (1.5x)",8,$v),Wv,jv],512),[[Dc,i.expandArea]])]),H("ul",null,[(ae(!0),fe(Ge,null,Eo(i.suggestions,(a,l)=>(ae(),fe("li",{key:l},[H("a",{onClick:Ct(u=>o.pickSuggestion(a),["prevent"]),class:"suggestion",href:"#"},[H("span",null,[Be(Vt(a.name)+" ",1),H("small",null,"("+Vt(a.type)+")",1)])],8,qv)]))),128))])])):Te("",!0),i.suggestionsLoaded&&!i.suggestions.length&&!i.loading&&!i.error?(ae(),fe("div",Gv," Didn't find matching cities. Try a different query? ")):Te("",!0),i.noRoads?(ae(),fe("div",Yv," Didn't find any roads. Try a different query? ")):Te("",!0)])),i.error?(ae(),fe("div",Kv,[H("div",null,[Xv,Zv,Qv,Jv,H("a",{href:"#",onClick:t[4]||(t[4]=Ct((...a)=>o.retry&&o.retry(...a),["prevent"]))},"try again"),e0]),H("div",t0,[n0,H("a",{href:o.getBugReportURL(i.error),title:"report error: "+i.error,target:"_blank"},"report this bug",8,r0)])])):Te("",!0),i.loading?(ae(),fe("div",i0,[Se(s),H("span",null,Vt(i.loading),1),H("a",{href:"#",onClick:t[5]||(t[5]=Ct((...a)=>o.cancelRequest&&o.cancelRequest(...a),["prevent"])),class:"cancel-request"},"cancel"),i.stillLoading>0?(ae(),fe("div",o0," Still loading... ")):Te("",!0),i.stillLoading>1?(ae(),fe("div",s0," Sorry it takes so long! ")):Te("",!0)])):Te("",!0)],2)}var l0=ft(Sv,[["render",a0],["__scopeId","data-v-763067d6"]]);const un=[],Mt="@@clickoutsideContext";let ai,u0=0;document.addEventListener("mousedown",e=>ai=e,!0);document.addEventListener("mouseup",e=>{un.forEach(t=>t[Mt].documentHandler(e,ai))},!0);document.addEventListener("touchstart",e=>{ai=e},!0);document.addEventListener("touchend",e=>{un.forEach(t=>t[Mt].documentHandler(e,ai))},!0);function pa(e,t,n){return function(r={},i={}){if(!n||!r.target||!i.target||e.contains(r.target)||e.contains(i.target)||e===r.target)return;const o=e[Mt].handler;o&&o()}}var Jl={created(e,t,n){un.push(e);const r=u0++;e[Mt]={id:r,documentHandler:pa(e,t,n),handler:t.value}},updated(e,t,n){e[Mt].documentHandler=pa(e,t,n),e[Mt].handler=t.value},unmounted(e){let t=un.length;for(let n=0;n<t;n++)if(un[n][Mt].id===e[Mt].id){un.splice(n,1);break}delete e[Mt]}};const f0={name:"EditableLabel",props:["modelValue","printable","overlayManager"],emits:["update:modelValue"],directives:{ClickOutside:Jl},mounted(){this.$el.receiveFocus=this.focus,this.$el.style.pointerEvents="none"},methods:{looseFocus(){this.$refs.input.blur()},focus(){this.$refs.input.focus()}}},c0={class:"can-drag"},d0={class:"editable-label"},h0=["value"];function p0(e,t,n,r,i,o){const s=tl("click-outside");return en((ae(),fe("div",c0,[H("div",d0,[H("span",{class:tn({printable:n.printable})},Vt(n.modelValue),3),H("input",{value:n.modelValue,onInput:t[0]||(t[0]=a=>e.$emit("update:modelValue",a.target.value)),ref:"input"},null,40,h0)])])),[[s,o.looseFocus]])}var v0=ft(f0,[["render",p0]]);function Ti(e={},t=0){const n=e&&e.a;let r;e&&e.hsl?r=Oe(e.hsl):e&&e.hex&&e.hex.length>0?r=Oe(e.hex):e&&e.hsv?r=Oe(e.hsv):e&&e.rgba?r=Oe(e.rgba):e&&e.rgb?r=Oe(e.rgb):r=Oe(e),r&&(r._a===void 0||r._a===null)&&r.setAlpha(n||1);const i=r.toHsl(),o=r.toHsv();return i.s===0&&(o.h=i.h=e.h||e.hsl&&e.hsl.h||t||0),{hsl:i,hex:r.toHexString().toUpperCase(),hex8:r.toHex8String().toUpperCase(),rgba:r.toRgb(),hsv:o,oldHue:e.h||t||i.h,source:e.source,a:e.a||r.getAlpha()}}var g0={props:["modelValue"],data(){return{val:Ti(this.modelValue)}},computed:{colors:{get(){return this.val},set(e){this.val=e,this.$emit("update:modelValue",e)}}},watch:{modelValue(e){this.val=Ti(e)}},methods:{colorChange(e,t){this.oldHue=this.colors.hsl.h,this.colors=Ti(e,t||this.oldHue)},isValidHex(e){return Oe(e).isValid()},simpleCheckForValidColor(e){const t=["r","g","b","a","h","s","l","v"];let n=0,r=0;for(let i=0;i<t.length;i++){const o=t[i];e[o]&&(n++,isNaN(e[o])||r++)}if(n===r)return e},paletteUpperCase(e){return e.map(t=>t.toUpperCase())},isTransparent(e){return Oe(e).getAlpha()===0}}};const m0={name:"editableInput",props:{label:String,labelText:String,desc:String,modelValue:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get(){return this.modelValue},set(e){if(this.max!==void 0&&+e>this.max)this.$refs.input.value=this.max;else return e}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(e){this.handleChange(e.target.value)},handleChange(e){const t={};t[this.label]=e,t.hex===void 0&&t["#"]===void 0?this.$emit("change",t):e.length>5&&this.$emit("change",t)},handleKeyDown(e){let t=this.val;const n=Number(t);if(n){const r=this.arrowOffset||1;e.keyCode===38&&(t=n+r,this.handleChange(t),e.preventDefault()),e.keyCode===40&&(t=n-r,this.handleChange(t),e.preventDefault())}}}},y0={class:"vc-editable-input"},w0=["aria-labelledby"],b0=["for","id"],x0={class:"vc-input__desc"};function _0(e,t,n,r,i,o){return ae(),fe("div",y0,[en(H("input",{"aria-labelledby":o.labelId,class:"vc-input__input","onUpdate:modelValue":t[0]||(t[0]=s=>o.val=s),onKeydown:t[1]||(t[1]=(...s)=>o.handleKeyDown&&o.handleKeyDown(...s)),onInput:t[2]||(t[2]=(...s)=>o.update&&o.update(...s)),ref:"input"},null,40,w0),[[gl,o.val]]),H("span",{for:n.label,class:"vc-input__label",id:o.labelId},Vt(o.labelSpanText),9,b0),H("span",x0,Vt(n.desc),1)])}var C0=ft(m0,[["render",_0]]);const E0={name:"Saturation",props:{modelValue:Object},computed:{colors(){return this.modelValue},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return-(this.colors.hsv.v*100)+1+100+"%"},pointerLeft(){return this.colors.hsv.s*100+"%"}},methods:{throttle:A0((e,t)=>{e(t)},20),handleChange(e,t){!t&&e.preventDefault();const n=this.$refs.container;if(!n)return;const r=n.clientWidth,i=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,s=n.getBoundingClientRect().top+window.pageYOffset,a=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),u=Si(a-o,0,r),f=Si(l-s,0,i),d=u/r,h=Si(-(f/i)+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:d,v:h,a:this.colors.hsv.a,source:"hsva"})},onChange(e){this.$emit("change",e)},handleMouseDown(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};function Si(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}function A0(e,t){var n=0;return function(...r){var i=new Date;i-n>=t&&(e(...r),n=i)}}const T0=H("div",{class:"vc-saturation--white"},null,-1),S0=H("div",{class:"vc-saturation--black"},null,-1),M0=H("div",{class:"vc-saturation-circle"},null,-1),P0=[M0];function F0(e,t,n,r,i,o){return ae(),fe("div",{class:"vc-saturation",style:We({background:o.bgColor}),ref:"container",onMousedown:t[0]||(t[0]=(...s)=>o.handleMouseDown&&o.handleMouseDown(...s)),onTouchmove:t[1]||(t[1]=(...s)=>o.handleChange&&o.handleChange(...s)),onTouchstart:t[2]||(t[2]=(...s)=>o.handleChange&&o.handleChange(...s))},[T0,S0,H("div",{class:"vc-saturation-pointer",style:We({top:o.pointerTop,left:o.pointerLeft})},P0,4)],36)}var L0=ft(E0,[["render",F0]]);const k0={name:"Hue",props:{modelValue:Object,direction:{type:String,default:"horizontal"}},data(){return{oldHue:0,pullDirection:""}},computed:{colors(){const e=this.modelValue.hsl.h;return e!==0&&e-this.oldHue>0&&(this.pullDirection="right"),e!==0&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.modelValue},directionClass(){return{"vc-hue--horizontal":this.direction==="horizontal","vc-hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:-(this.colors.hsl.h*100/360)+100+"%":0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":this.colors.hsl.h*100/360+"%"}},methods:{handleChange(e,t){!t&&e.preventDefault();const n=this.$refs.container;if(!n)return;const r=n.clientWidth,i=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,s=n.getBoundingClientRect().top+window.pageYOffset,a=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),u=a-o,f=l-s;let d,h;this.direction==="vertical"?(f<0?d=360:f>i?d=0:(h=-(f*100/i)+100,d=360*h/100),this.colors.hsl.h!==d&&this.$emit("change",{h:d,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(u<0?d=0:u>r?d=360:(h=u*100/r,d=360*h/100),this.colors.hsl.h!==d&&this.$emit("change",{h:d,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},R0=["aria-valuenow"],I0=H("div",{class:"vc-hue-picker"},null,-1),B0=[I0];function D0(e,t,n,r,i,o){return ae(),fe("div",{class:tn(["vc-hue",o.directionClass])},[H("div",{class:"vc-hue-container",role:"slider","aria-valuenow":o.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",ref:"container",onMousedown:t[0]||(t[0]=(...s)=>o.handleMouseDown&&o.handleMouseDown(...s)),onTouchmove:t[1]||(t[1]=(...s)=>o.handleChange&&o.handleChange(...s)),onTouchstart:t[2]||(t[2]=(...s)=>o.handleChange&&o.handleChange(...s))},[H("div",{class:"vc-hue-pointer",style:We({top:o.pointerTop,left:o.pointerLeft}),role:"presentation"},B0,4)],40,R0)],2)}var O0=ft(k0,[["render",D0]]);const Mi={},N0={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle(){return{"background-image":"url("+U0(this.white,this.grey,this.size)+")"}}}};function V0(e,t,n){if(typeof document=="undefined")return null;const r=document.createElement("canvas");r.width=r.height=n*2;const i=r.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,r.width,r.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}function U0(e,t,n){const r=e+","+t+","+n;if(Mi[r])return Mi[r];{const i=V0(e,t,n);return Mi[r]=i,i}}function z0(e,t,n,r,i,o){return ae(),fe("div",{class:"vc-checkerboard",style:We(o.bgStyle)},null,4)}var eu=ft(N0,[["render",z0]]);const H0={name:"Alpha",props:{modelValue:Object,onChange:Function},components:{checkboard:eu},computed:{colors(){return this.modelValue},gradientColor(){const e=this.colors.rgba,t=[e.r,e.g,e.b].join(",");return"linear-gradient(to right, rgba("+t+", 0) 0%, rgba("+t+", 1) 100%)"}},methods:{handleChange(e,t){!t&&e.preventDefault();const n=this.$refs.container;if(!n)return;const r=n.clientWidth,i=n.getBoundingClientRect().left+window.pageXOffset,s=(e.pageX||(e.touches?e.touches[0].pageX:0))-i;let a;s<0?a=0:s>r?a=1:a=Math.round(s*100/r)/100,this.colors.a!==a&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a,source:"rgba"})},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},$0={class:"vc-alpha"},W0={class:"vc-alpha-checkboard-wrap"},j0=H("div",{class:"vc-alpha-picker"},null,-1),q0=[j0];function G0(e,t,n,r,i,o){const s=vt("checkboard");return ae(),fe("div",$0,[H("div",W0,[Se(s)]),H("div",{class:"vc-alpha-gradient",style:We({background:o.gradientColor})},null,4),H("div",{class:"vc-alpha-container",ref:"container",onMousedown:t[0]||(t[0]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a)),onTouchmove:t[1]||(t[1]=(...a)=>o.handleChange&&o.handleChange(...a)),onTouchstart:t[2]||(t[2]=(...a)=>o.handleChange&&o.handleChange(...a))},[H("div",{class:"vc-alpha-pointer",style:We({left:o.colors.a*100+"%"})},q0,4)],544)])}var Y0=ft(H0,[["render",G0]]);const K0=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"],X0={name:"Sketch",mixins:[g0],components:{saturation:L0,hue:O0,alpha:Y0,"ed-in":C0,checkboard:eu},props:{presetColors:{type:Array,default(){return K0}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex(){let e;return this.colors.a<1?e=this.colors.hex8:e=this.colors.hex,e.replace("#","")},activeColor(){const e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"}},methods:{handlePreset(e){this.colorChange({hex:e,source:"hex"})},childChange(e){this.colorChange(e)},inputChange(e){!e||(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}},Z0={class:"vc-sketch-saturation-wrap"},Q0={class:"vc-sketch-controls"},J0={class:"vc-sketch-sliders"},eg={class:"vc-sketch-hue-wrap"},tg={key:0,class:"vc-sketch-alpha-wrap"},ng={class:"vc-sketch-color-wrap"},rg=["aria-label"],ig={key:0,class:"vc-sketch-field"},og={class:"vc-sketch-field--double"},sg={class:"vc-sketch-field--single"},ag={class:"vc-sketch-field--single"},lg={class:"vc-sketch-field--single"},ug={key:0,class:"vc-sketch-field--single"},fg={class:"vc-sketch-presets",role:"group","aria-label":"A color preset, pick one to set as current color"},cg=["aria-label","onClick"],dg=["aria-label","onClick"];function hg(e,t,n,r,i,o){const s=vt("saturation"),a=vt("hue"),l=vt("alpha"),u=vt("checkboard"),f=vt("ed-in");return ae(),fe("div",{role:"application","aria-label":"Sketch color picker",class:tn(["vc-sketch",n.disableAlpha?"vc-sketch__disable-alpha":""])},[H("div",Z0,[Se(s,{modelValue:e.colors,"onUpdate:modelValue":t[0]||(t[0]=d=>e.colors=d),onChange:o.childChange},null,8,["modelValue","onChange"])]),H("div",Q0,[H("div",J0,[H("div",eg,[Se(a,{modelValue:e.colors,"onUpdate:modelValue":t[1]||(t[1]=d=>e.colors=d),onChange:o.childChange},null,8,["modelValue","onChange"])]),n.disableAlpha?Te("",!0):(ae(),fe("div",tg,[Se(l,{modelValue:e.colors,"onUpdate:modelValue":t[2]||(t[2]=d=>e.colors=d),onChange:o.childChange},null,8,["modelValue","onChange"])]))]),H("div",ng,[H("div",{"aria-label":`Current color is ${o.activeColor}`,class:"vc-sketch-active-color",style:We({background:o.activeColor})},null,12,rg),Se(u)])]),n.disableFields?Te("",!0):(ae(),fe("div",ig,[H("div",og,[Se(f,{label:"hex",modelValue:o.hex,onChange:o.inputChange},null,8,["modelValue","onChange"])]),H("div",sg,[Se(f,{label:"r",modelValue:e.colors.rgba.r,onChange:o.inputChange},null,8,["modelValue","onChange"])]),H("div",ag,[Se(f,{label:"g",modelValue:e.colors.rgba.g,onChange:o.inputChange},null,8,["modelValue","onChange"])]),H("div",lg,[Se(f,{label:"b",modelValue:e.colors.rgba.b,onChange:o.inputChange},null,8,["modelValue","onChange"])]),n.disableAlpha?Te("",!0):(ae(),fe("div",ug,[Se(f,{label:"a",modelValue:e.colors.a,"arrow-offset":.01,max:1,onChange:o.inputChange},null,8,["modelValue","arrow-offset","onChange"])]))])),H("div",fg,[(ae(!0),fe(Ge,null,Eo(n.presetColors,d=>(ae(),fe(Ge,null,[e.isTransparent(d)?(ae(),fe("div",{key:"else-"+d,"aria-label":"Color:"+d,class:"vc-sketch-presets-color",onClick:h=>o.handlePreset(d)},[Se(u)],8,dg)):(ae(),fe("div",{class:"vc-sketch-presets-color","aria-label":"Color:"+d,key:"if-"+d,style:We({background:d}),onClick:h=>o.handlePreset(d)},null,12,cg))],64))),256))])],2)}var pg=ft(X0,[["render",hg]]);const vg={name:"vue-colorpicker",components:{"sketch-picker":pg},directives:{ClickOutside:Jl},props:{modelValue:{type:Object}},emits:["update:modelValue","change"],data(){return{showPicker:!1,colors:{hex:"#FFFFFF",a:1},colorValue:"#FFFFFF",panelLeft:"0px",panelTop:"0px"}},computed:{pickerType(){return"sketch-picker"},isTransparent(){return this.colors.a===0},btnStyle(){if(this.isTransparent)return{background:"#eee",backgroundImage:"linear-gradient(45deg, rgba(0,0,0,.25) 25%, transparent 0, transparent 75%,rgba(0,0,0,.25)0), linear-gradient(45deg, rgba(0,0,0,.25)25%,transparent 0, transparent 75%,rgba(0,0,0,.25)0)",backgroundPosition:"0 0, 11px 11px",backgroundSize:"22px 22px"};let{r:e,g:t,b:n,a:r}=this.colorValue;return{background:`rgba(${e}, ${t}, ${n}, ${r})`}}},watch:{modelValue(e,t){e!==t&&this.updateColorObject(e)},showPicker(e){if(!e)return;const t=220,n=320;let r=this.$refs.triggerButton.getBoundingClientRect(),i=r.x,o=r.bottom;r.y+n>window.innerHeight&&(o=Math.max(0,window.innerHeight-n),i+=36),i+t>window.innerWidth&&(i=Math.max(0,window.innerWidth-t)),this.panelLeft=i+"px",this.panelTop=o+"px"}},methods:{hide(){this.showPicker=!1},changeColor(e){this.colorValue=e.rgba,this.$emit("update:modelValue",this.colorValue),this.$emit("change",this.colorValue)},updateColorObject(e){if(!e)return;const t=Oe(e);!e||e==="transparent"?this.colors={hex:"#FFFFFF",hsl:{h:0,s:0,l:1,a:0},hsv:{h:0,s:0,v:1,a:0},rgba:{r:255,g:255,b:255,a:0},a:0}:this.colors={hex:t.toHexString(),hsl:t.toHsl(),hsv:t.toHsv(),rgba:t.toRgb(),a:t.getAlpha()},this.colorValue=this.colors.rgba}},mounted(){this.updateColorObject(this.modelValue)}};function gg(e,t,n,r,i,o){const s=tl("click-outside");return en((ae(),fe("div",{class:"vue-colorpicker",onClick:t[0]||(t[0]=a=>i.showPicker=!0)},[H("span",{class:"vue-colorpicker-btn",style:We(o.btnStyle),ref:"triggerButton"},null,4),en(H("div",{class:"vue-colorpicker-panel",style:We({left:i.panelLeft,top:i.panelTop})},[(ae(),Lr(If(o.pickerType),{modelValue:i.colors,"onUpdate:modelValue":o.changeColor},null,8,["modelValue","onUpdate:modelValue"]))],4),[[Vc,i.showPicker]])])),[[s,o.hide]])}var mg=ft(vg,[["render",gg],["__scopeId","data-v-01827dd4"]]),ot=Oo({});let va=0;class tu{get color(){return this._color}set color(t){let n=Oe(t);this._color=n,this.lines&&(this.lines.color=vr(n.toRgb())),this.scene&&this.scene.renderFrame()}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.lines&&this.lines.setLineWidth(t),this.casing&&this.casing.setLineWidth(t+4),this.scene&&this.scene.renderFrame(!0)}constructor(){this._color=Ft.getDefaultLineColor(),this._casingColor=Oe("#ffffff"),this.grid=null,this.lines=null,this.casing=null,this.scene=null,this.dx=0,this.dy=0,this.scale=1,this.hidden=!1,this.id="paths_"+va,this._lineWidth=1,this._useCasing=!1,va+=1,this._onToggleCasing=t=>{this.useCasing=t},ot.on("toggle-casing",this._onToggleCasing)}get useCasing(){return this._useCasing}set useCasing(t){this._useCasing=t,this.scene&&(this.lines&&this.lines.setLineWidth(t?4:this._lineWidth),t?(this.buildCasingCollection(),this.casing.setLineWidth(8),this.scene.appendChild(this.casing),this.lines&&(this.scene.removeChild(this.lines),this.scene.appendChild(this.lines))):this.casing&&this.scene.removeChild(this.casing),this.scene.renderFrame(!0))}get casingColor(){return this._casingColor}set casingColor(t){let n=Oe(t);this._casingColor=n,this.casing&&(this.casing.color=vr(n.toRgb())),this.scene&&this.scene.renderFrame()}getGridProjector(){if(this.grid)return this.grid.projector}getQueryBounds(){const{grid:t}=this;if(t){if(t.queryBounds)return t.queryBounds;if(t.isArea)return{areaId:t.id}}}setGrid(t){this.grid=t,this.scene&&this.bindToScene(this.scene)}getViewBox(){if(!this.grid)return null;let{width:t,height:n}=this.grid.getProjectedRect(),r=Math.max(t,n)/4;return{left:-r,top:r,right:r,bottom:-r}}moveTo(t,n=0){console.warn("Please use moveBy() instead. The moveTo() is under construction")}moveBy(t,n=0){this.dx=t,this.dy=n,this._transferTransform()}buildLinesCollection(){if(this.lines)return this.lines;let t=this.grid,n=new hn(t.wayPointCount,{width:this._useCasing?4:this._lineWidth,allowColors:!1,is3D:!1});t.forEachWay(function(i,o){n.add({from:i,to:o})});let r=Oe(this._color).toRgb();n.color=vr(r),n.id=this.id,this.lines=n}buildCasingCollection(){if(this.casing)return this.casing;let t=this.grid,n=new hn(t.wayPointCount,{width:8,allowColors:!1,is3D:!1});t.forEachWay(function(i,o){n.add({from:i,to:o})});let r=this._casingColor.toRgb();n.color=vr(r),n.id=this.id+"_casing",this.casing=n}destroy(){ot.off("toggle-casing",this._onToggleCasing),this.scene&&(this.lines&&this.scene.removeChild(this.lines),this.casing&&this.scene.removeChild(this.casing))}bindToScene(t){this.scene&&this.lines&&console.error("You seem to be adding this layer twice..."),this.scene=t,this.grid&&(this.buildLinesCollection(),!this.hidden&&(this._useCasing&&(this.buildCasingCollection(),this.scene.appendChild(this.casing)),this.scene.appendChild(this.lines)))}hide(){this.hidden||(this.hidden=!0,!(!this.scene||!this.grid)&&this.scene.removeChild(this.lines))}show(){if(!!this.hidden){if(this.hidden=!1,!this.scene||!this.grid){console.log("Layer will be shown when grid is available");return}this.scene.appendChild(this.lines)}}_transferTransform(){this.lines&&(this.lines.translate([this.dx,this.dy,0]),this.lines.updateWorldTransform(!0)),this.casing&&(this.casing.translate([this.dx,this.dy,0]),this.casing.updateWorldTransform(!0)),this.scene&&this.scene.renderFrame(!0)}}function vr(e){return{r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}}function yg(e,t){const n=e.getRenderer(),r={open(){return`<!-- Generator: https://github.com/anvaka/city-roads
Data \xA9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright
-->`},close(){return o()}};return t.minLength&&(r.beforeWrite=s=>{let a=0;for(let l=1;l<s.length;++l)if(a+=Math.hypot(s[l].x-s[l-1].x,s[l].y-s[l-1].y),a>t.minLength)return!0;return a>t.minLength}),r.round=t.round,Dl(n,r);function o(){let s=n.getPixelRatio();return t.printable.map(a=>{if(a.element instanceof SVGSVGElement){let l=a.bounds;l.left*s,l.top*s;let u=a.element;u.setAttribute("x",l.left*s),u.setAttribute("y",l.top*s),u.setAttribute("width",l.width*s),u.setAttribute("height",l.height*s);let f=new XMLSerializer().serializeToString(a.element);return u.removeAttribute("x"),u.removeAttribute("y"),u.removeAttribute("width"),u.removeAttribute("height"),f}else{let l=a;if(!l.text)return;let u=l.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),f=l.bounds,d=(f.right-l.paddingRight)*s,h=(f.bottom-l.paddingBottom)*s,g=l.fontSize*s,y=l.fontFamily.replace(/"/g,"'");return`<text text-anchor="end" x="${d}" y="${h}" fill="${l.color}" font-family="${y}" font-size="${g}">${u}</text>`}}).filter(a=>a).join(`
`)}}function wg(e,t){t=t||{};let n=yg(e,{printable:iu(),...t}),r=new Blob([n],{type:"image/svg+xml"}),i=window.URL.createObjectURL(r),o=ru(t.name,".svg");setTimeout(()=>{let s=document.createElement("a");s.href=i,s.download=o,s.click(),ou(i)},30)}function bg(e,t){t=t||{},nu(e).then(n=>{let r=ru(t.name,".png");n.toBlob(function(i){let o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=r,s.click(),ou(o)},"image/png")})}function nu(e){let t=oo(),n=t.width,r=t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,e.render(),o.drawImage(t,0,0,t.width,t.height,0,0,n,r),Promise.all(iu().map(s=>_g(s,o))).then(()=>i)}function oo(){return document.querySelector("#canvas")}function ru(e,t){return xg(e||new Date().toISOString())+(t||"")}function xg(e){return e?e.replace(/[#%&{}\\/?*><$!'":@+`|=]/g,"_"):""}function _g(e,t){return e?new Promise((n,r)=>{let i=window.devicePixelRatio||1;if(e.element instanceof SVGSVGElement){let o=e.element,s=e.bounds,a=new Image;a.width=s.width*i,a.height=s.height*i,a.onload=()=>{t.drawImage(a,s.left*i,s.top*i,a.width,a.height),o.removeAttribute("width"),o.removeAttribute("height"),n()},o.setAttribute("width",a.width),o.setAttribute("height",a.height),a.src="data:image/svg+xml;base64,"+btoa(new XMLSerializer().serializeToString(o))}else t.save(),t.font=i*e.fontSize+"px "+e.fontFamily,t.fillStyle=e.color,t.textAlign="end",t.fillText(e.text,(e.bounds.right-e.paddingRight)*i,(e.bounds.bottom-e.paddingBottom)*i),t.restore(),n()}):Promise.resolve()}function iu(){return Array.from(document.querySelectorAll(".printable")).map(e=>{let t=window.getComputedStyle(e),n=e.getBoundingClientRect(),r=Number.parseInt(t.fontSize,10),i=Number.parseInt(t.paddingRight,10),o=Number.parseInt(t.paddingBottom,10)*2;return{text:e.innerText,bounds:n,fontSize:r,paddingBottom:o,paddingRight:i,color:t.color,fontFamily:t.fontFamily,fill:t.color,element:e}})}function ou(e){setTimeout(()=>{window.URL.revokeObjectURL(e)},45e3)}function Cg(e){let t=Ki(e),n=Ft.getDefaultLineColor();t.on("transform",w),t.on("append-child",b),t.on("remove-child",S),t.setClearColor(247/255,242/255,232/255,1);let r=t.getCameraController();r.setMoveSpeed&&(r.setMoveSpeed(200),r.setRotationSpeed(Math.PI/500));let i=t.getGL();i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);let o=!1,s=[],a=Ft.getBackgroundColor();E();let l={render(){t.renderFrame(!0)},clear(){s.forEach(m=>m.destroy()),s=[],t.clear()},queryLayerAll:f,queryLayer:d,getRenderer(){return t},getWGL(){return $h},version(){return"0.0.2"},dispose(){t.clear(),t.dispose(),l.fire("dispose",l),A()},set lineColor(m){s.forEach(x=>{x.color=m}),n=Oe(m),ot.fire("line-color",n),l.fire("line-color",n)},get lineColor(){let m=d();return m&&m.color||n},set background(m){a=Oe(m);let x=a.toRgb();t.setClearColor(x.r/255,x.g/255,x.b/255,x.a),t.renderFrame(),ot.fire("background-color",a),l.fire("background-color",a)},get background(){return a},add:h,load:u,saveToPNG:g,saveToSVG:y};return Oo(l);function u(m,x){let P=si.parse(l,m,x),L=new tu;return L.id=P.place,dt.runFromOptions(P).then(I=>{I.setProjector(P.projector),L.setGrid(I)}).catch(I=>{console.error(`Could not execute:
  ${m}
  The error was:`),console.error(I),L.destroy()}),h(L),L}function f(m){return m?s.filter(x=>x.id===m):s}function d(m){let x=f(m);if(x)return x[0]}function h(m){if(!(s.indexOf(m)>-1)&&(m.bindToScene(t),s.push(m),s.length===1)){let x=m.getViewBox();x&&t.setViewBox(x)}}function g(m){return bg(l,{name:m})}function y(m,x){return wg(l,Object.assign({},{name:m},x))}function w(m){ot.fire("scene-transform")}function b(m){l.fire("layer-added",m)}function S(m){l.fire("layer-removed",m)}function E(){document.addEventListener("keydown",C,!0),document.addEventListener("keyup",T,!0)}function A(){document.removeEventListener("keydown",C,!0),document.removeEventListener("keyup",T,!0)}function C(m){m.shiftKey&&(o=!0,r.setSpeed&&r.setSpeed(.1))}function T(m){!m.shiftKey&&o&&(r.setSpeed&&r.setSpeed(1),o=!1)}}let Eg="https://edi6jgnosf.execute-api.us-west-2.amazonaws.com/Stage/put_image";const Ag={mug:"168739066664861503"};function Tg(e,t){const n=Ag[e];if(!n)throw new Error("Unknown product kind: "+e);const r=encodeURIComponent(t);return`https://www.zazzle.com/api/create/at-238058511445368984?rf=238058511445368984&ax=Linkover&pd=${n}&ed=true&tc=&ic=&t_map_iid=${r}`}function Sg(e){var t=e.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"");const n=new FormData;return n.append("image",t),ii(Eg,{method:"POST",responseType:"json",progress:new ri(Function.prototype),body:n}).then(r=>{if(!r.success)throw new Error("Failed to upload image");let i=r.data.link;return Tg("mug",i)}).catch(r=>{throw console.log("error",r),r})}(function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch{return!1}}(),r=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||i)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(a){var l,u,f,d,h,g,y,w,b;if(l=a.match(o),!l)throw new Error("invalid data URI");for(u=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),f=!!l[4],d=a.slice(l[0].length),f?h=atob(d):h=decodeURIComponent(d),g=new ArrayBuffer(h.length),y=new Uint8Array(g),w=0;w<h.length;w+=1)y[w]=h.charCodeAt(w);return n?new Blob([r?y:g],{type:u}):(b=new i,b.append(g),b.getBlob(u))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(a,l,u){var f=this;setTimeout(function(){u&&t.toDataURL&&s?a(s(f.toDataURL(l,u))):a(f.mozGetAsFile("blob",l))})}:t.toDataURL&&s&&(t.toBlob=function(a,l,u){var f=this;setTimeout(function(){a(s(f.toDataURL(l,u)))})})),typeof define=="function"&&define.amd?define(function(){return s}):typeof Cr=="object"&&Cr.exports?Cr.exports=s:e.dataURLtoBlob=s})(window);function Mg(){let e,t={clickedElement:null,x:0,y:0,time:Date.now(),left:0,right:0};return document.addEventListener("mousedown",r),document.addEventListener("mouseup",o),document.addEventListener("touchstart",s,{passive:!1,capture:!0}),document.addEventListener("touchend",a,!0),document.addEventListener("touchcancel",a,!0),{track:C,dispose:T,clear:n};function n(){const m=document.querySelectorAll(".overlay-active");for(let x=0;x<m.length;++x)b(m[x])}function r(m){u(m.clientX,m.clientY,m)}function i(m){d(m.clientX,m.clientY)}function o(m){f(m.clientX,m.clientY)}function s(m){if(m.touches.length>1)return;let x=m.touches[0];u(x.clientX,x.clientY,m)}function a(m){if(m.changedTouches.length>1)return;let x=m.changedTouches[0];f(x.clientX,x.clientY)&&(m.preventDefault(),m.stopPropagation())}function l(m){if(m.touches.length>1)return;let x=m.touches[0];d(x.clientX,x.clientY),m.preventDefault(),m.stopPropagation()}function u(m,x,P){let L=w(m,x),I=document.querySelectorAll(".overlay-active");for(let $=0;$<I.length;++$){let q=I[$];q!==L&&b(q)}I.length===1&&(t.clickedElement=I[0]);let R=L&&L===t.clickedElement;if(R&&(t.clickedElement.contains(P.target)||(L=null,R=!1)),R&&!L.classList.contains("exclusive")?(h(),P.preventDefault(),P.stopPropagation()):t.clickedElement=L,t.x=m,t.y=x,t.time=Date.now(),L){let $=L.getBoundingClientRect();t.dx=$.right-t.x,t.dy=$.bottom-t.y}else n()}function f(m,x){if(!!t.clickedElement){if(g(),y(m,x))return S(t.clickedElement),!0;t.clickedElement=null}}function d(m,x){if(!t.clickedElement)return;let P=t.clickedElement.style;P.right=100*(window.innerWidth-m-t.dx)/window.innerWidth+"%",P.bottom=100*(window.innerHeight-x-t.dy)/window.innerHeight+"%"}function h(){g(),e=document.createElement("div"),e.classList.add("drag-overlay"),document.body.appendChild(e),document.addEventListener("mousemove",i,!0),document.addEventListener("touchmove",l,{passive:!1,capture:!0})}function g(){e&&(document.body.removeChild(e),e=null),document.removeEventListener("mousemove",i,!0),document.removeEventListener("touchmove",l,{passive:!1,capture:!0})}function y(m,x){return Date.now()-t.time>300?!1:Math.hypot(m-t.x,x-t.y)<40}function w(m,x){let P=document.querySelectorAll(".can-drag");for(let L=0;L<P.length;++L){let I=P[L],R=A(I);if(E(m,x,R))return I}}function b(m){m.style.pointerEvents="none",m.classList.remove("overlay-active"),m.classList.remove("exclusive")}function S(m,x,P){!m||(m.style.pointerEvents="",m.classList.contains("overlay-active")?(m.receiveFocus&&m.receiveFocus(),m.classList.add("exclusive")):(m.classList.add("overlay-active"),m.classList.contains("can-resize")))}function E(m,x,P){return!(m<P.left||m>P.right||x<P.top||x>P.bottom)}function A(m){return m.getBoundingClientRect()}function C(m,x){m.style.pointerEvents="none",m.classList.add("can-drag"),x&&x.receiveFocus&&(m.receiveFocus=x.receiveFocus)}function T(){document.removeEventListener("mousedown",r),document.removeEventListener("mouseup",o),document.removeEventListener("touchstart",s),document.removeEventListener("touchend",a),document.removeEventListener("touchcancel",a),t.clickedElement=void 0,g()}}class Pi{constructor(t,n,r){this.name=t,this.changeColor=r,this.color=n}}const Pg={name:"App",components:{FindPlace:l0,LoadingIcon:Hl,EditableLabel:v0,ColorPicker:mg},data(){return{placeFound:!1,name:"",zazzleLink:null,generatingPreview:!1,showSettings:!1,settingsOpen:!1,labelColor:Ft.getLabelColor().toRgb(),backgroundColor:Ft.getBackgroundColor().toRgb(),useCasing:!1,layers:[]}},computed:{labelColorRGBA(){return ga(this.labelColor)}},created(){ot.on("scene-transform",this.handleSceneTransform),ot.on("background-color",this.syncBackground),ot.on("line-color",this.syncLineColor),this.overlayManager=Mg()},beforeUnmount(){debugger;this.overlayManager.dispose(),this.dispose(),ot.off("scene-transform",this.handleSceneTransform),ot.off("background-color",this.syncBackground),ot.off("line-color",this.syncLineColor)},methods:{dispose(){this.scene&&(this.scene.dispose(),window.scene=null)},toggleSettings(){this.showSettings=!this.showSettings},toggleCasing(){ot.fire("toggle-casing",this.useCasing)},handleSceneTransform(){this.zazzleLink=null},onGridLoaded(e){e.isArea?(ze.set("areaId",e.id),ze.unset("osm_id"),ze.unset("bbox")):e.bboxString&&(ze.unset("areaId"),ze.set("osm_id",e.id),ze.set("bbox",e.bboxString)),this.placeFound=!0,this.name=e.name.split(",")[0];let t=oo();t.style.visibility="visible",this.scene=Cg(t),this.scene.on("layer-added",this.updateLayers),this.scene.on("layer-removed",this.updateLayers),window.scene=this.scene;let n=new tu;n.id="lines",n.setGrid(e),this.scene.add(n)},startOver(){ze.unset("areaId"),ze.unsetPlace(),ze.unset("q"),ze.enableCache(),this.dispose(),this.placeFound=!1,this.zazzleLink=null,this.showSettings=!1,this.backgroundColor=Ft.getBackgroundColor().toRgb(),this.labelColor=Ft.getLabelColor().toRgb(),document.body.style.backgroundColor=Ft.getBackgroundColor().toRgbString(),oo().style.visibility="hidden"},toPNGFile(e){scene.saveToPNG(this.name)},toSVGFile(e){scene.saveToSVG(this.name)},updateLayers(){let e=[],t=0,n=this.scene.getRenderer();n.getRoot().children.forEach(o=>{if(!o.color)return;let s=o.id;s||(t+=1,s="lines "+t);let a=Oe.fromRatio(o.color);e.push(new Pi(s,a,l=>{this.zazzleLink=null,o.color=i(l),n.renderFrame(),this.scene.fire("color-change",o)}))}),e.push(new Pi("background",this.backgroundColor,this.setBackgroundColor),new Pi("labels",this.labelColor,o=>this.labelColor=o)),this.layers=e;function i(o){return{r:o.r/255,g:o.g/255,b:o.b/255,a:o.a}}this.zazzleLink=null},syncLineColor(){this.updateLayers()},syncBackground(e){this.backgroundColor=e.toRgb(),this.updateLayers()},updateBackground(){this.setBackgroundColor(this.backgroundColor),this.zazzleLink=null},setBackgroundColor(e){this.scene.background=e,document.body.style.backgroundColor=ga(e),this.zazzleLink=null},zazzleMugPrint(){if(this.zazzleLink){window.open(this.zazzleLink,"_blank"),ma(this.zazzleLink);return}this.generatingPreview=!0,nu(this.scene).then(e=>{Sg(e).then(t=>{this.zazzleLink=t,window.open(t,"_blank"),ma(t),this.generatingPreview=!1}).catch(t=>{this.error=t,this.generatingPreview=!1})})}}};function ga(e){return`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}function ma(e){typeof gtag!="undefined"&&gtag("event","click",{event_category:"Outbound Link",event_label:e})}const Fg={id:"app"},Lg={key:0},kg={class:"controls"},Rg={key:0,class:"print-window"},Ig=H("h3",null,"Display",-1),Bg={class:"row"},Dg=H("div",{class:"col"},"Colors",-1),Og={class:"col colors c-2"},Ng={class:"color-label"},Vg={class:"row"},Ug=H("div",{class:"col"},"Filled Roads",-1),zg={class:"col c-2"},Hg=H("label",{for:"filled-roads"},"Enable road outlines",-1),$g=H("h3",null,"Export",-1),Wg={class:"row"},jg=H("span",{class:"col c-2"},[Be(" Print what you see onto a mug. "),H("br"),Be("Get a unique gift of your favorite city. ")],-1),qg={key:0,class:"preview-actions message"},Gg={key:0,class:"padded popup-help"},Yg=Be(" If your browser has blocked the new window, "),Kg=H("br",null,null,-1),Xg=Be("please "),Zg=["href"],Qg=Be(" to open it. "),Jg={key:1,class:"loading-container"},em=Be(" Generating preview url... "),tm={class:"row"},nm=H("span",{class:"col c-2"}," Save the current screen as a raster image. ",-1),rm={class:"row"},im=H("span",{class:"col c-2"}," Save the current screen as a vector image. ",-1),om=H("h3",null,"About",-1),sm=H("div",null,[H("p",null,[Be("This website was created by "),H("a",{href:"https://twitter.com/anvaka",target:"_blank"},"@anvaka"),Be(". It downloads roads from OpenStreetMap and renders them with WebGL. ")]),H("p",null,[Be(" You can find the entire "),H("a",{href:"https://github.com/anvaka/city-roads"},"source code here"),Be(". If you love this website you can also "),H("a",{href:"https://www.paypal.com/paypalme2/anvakos/3"},"buy me a coffee"),Be(" or "),H("a",{href:"https://www.patreon.com/anvaka"},"support me on Patreon"),Be(", but you don't have to. ")])],-1),am=Be("data ");function lm(e,t,n,r,i,o){const s=vt("find-place"),a=vt("color-picker"),l=vt("loading-icon"),u=vt("editable-label");return ae(),fe(Ge,null,[i.placeFound?Te("",!0):(ae(),Lr(s,{key:0,onLoaded:o.onGridLoaded},null,8,["onLoaded"])),H("div",Fg,[i.placeFound?(ae(),fe("div",Lg,[H("div",kg,[H("a",{href:"#",class:"print-button",onClick:t[0]||(t[0]=Ct((...f)=>o.toggleSettings&&o.toggleSettings(...f),["prevent"]))},"Customize..."),H("a",{href:"#",class:"try-another",onClick:t[1]||(t[1]=Ct((...f)=>o.startOver&&o.startOver(...f),["prevent"]))},"Try another city")]),i.showSettings?(ae(),fe("div",Rg,[Ig,H("div",Bg,[Dg,H("div",Og,[(ae(!0),fe(Ge,null,Eo(i.layers,f=>(ae(),fe("div",{key:f.name,class:"color-container"},[Se(a,{modelValue:f.color,"onUpdate:modelValue":d=>f.color=d,onChange:f.changeColor},null,8,["modelValue","onUpdate:modelValue","onChange"]),H("div",Ng,Vt(f.name),1)]))),128))])]),H("div",Vg,[Ug,H("div",zg,[en(H("input",{type:"checkbox",id:"filled-roads","onUpdate:modelValue":t[2]||(t[2]=f=>i.useCasing=f),onChange:t[3]||(t[3]=(...f)=>o.toggleCasing&&o.toggleCasing(...f))},null,544),[[Bc,i.useCasing]]),Hg])]),$g,H("div",Wg,[H("a",{href:"#",onClick:t[4]||(t[4]=Ct(f=>o.zazzleMugPrint(),["prevent"])),class:"col"},"Onto a mug"),jg]),i.zazzleLink||i.generatingPreview?(ae(),fe("div",qg,[i.zazzleLink?(ae(),fe("div",Gg,[Yg,Kg,Xg,H("a",{href:i.zazzleLink,target:"_blank"},"click here",8,Zg),Qg])):Te("",!0),i.generatingPreview?(ae(),fe("div",Jg,[Se(l),em])):Te("",!0)])):Te("",!0),H("div",tm,[H("a",{href:"#",onClick:t[5]||(t[5]=Ct((...f)=>o.toPNGFile&&o.toPNGFile(...f),["prevent"])),class:"col"},"As an image (.png)"),nm]),H("div",rm,[H("a",{href:"#",onClick:t[6]||(t[6]=Ct((...f)=>o.toSVGFile&&o.toSVGFile(...f),["prevent"])),class:"col"},"As a vector (.svg)"),im]),Te("",!0),om,sm])):Te("",!0)])):Te("",!0)]),i.placeFound?(ae(),Lr(u,{key:1,modelValue:i.name,"onUpdate:modelValue":t[8]||(t[8]=f=>i.name=f),class:"city-name",printable:!0,style:We({color:o.labelColorRGBA}),"overlay-manager":e.overlayManager},null,8,["modelValue","style","overlay-manager"])):Te("",!0),i.placeFound?(ae(),fe("div",{key:2,class:"license printable can-drag",style:We({color:o.labelColorRGBA})},[am,H("a",{href:"https://www.openstreetmap.org/about/",target:"_blank",style:We({color:o.labelColorRGBA})},"\xA9 OpenStreetMap",4)],4)):Te("",!0)],64)}var um=ft(Pg,[["render",lm]]);const fm={},Zn=e=>(Wa("data-v-3325dbc3"),e=e(),ja(),e),cm={class:"absolute no-webgl"},dm=Zn(()=>H("h3",null,"WebGL is not enabled :(",-1)),hm=Zn(()=>H("p",null,"This website renders millions of roads at once.",-1)),pm=Zn(()=>H("p",null,[Be(" To render this amount of data fast, the website uses "),H("a",{href:"https://get.webgl.org/"},"WebGL"),Be(", which seem to be not supported by the device that you are using. ")],-1)),vm=Zn(()=>H("p",null,"Please try a different device to play with this website",-1)),gm=Zn(()=>H("img",{src:"https://i.imgur.com/Fbbe5a6.png",alt:"demo"},null,-1)),mm=[dm,hm,pm,vm,gm];function ym(e,t){return ae(),fe("div",cm,mm)}var wm=ft(fm,[["render",ym],["__scopeId","data-v-3325dbc3"]]);window.addEventListener("error",bm);window.requireModule=Yc;window.Query=dt;Bl(document.querySelector("#canvas"))?Es(um).mount("#host"):Es(wm).mount("#host");function bm(e){if(typeof gtag!="function")return;const t=e?`${e.message} in ${e.filename}:${e.lineno}`:"Unknown exception";gtag("send","exception",{description:t,fatal:!1})}});export default xm();
